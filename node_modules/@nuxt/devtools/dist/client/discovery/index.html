<!doctype html>
<head>
    <title>Nuxt Server Data</title>
    <meta charset="utf-8"/>
    <meta name="viewport">
    <meta name="format-detection" content="telephone=no">
    <link rel="icon" type="image/png" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABBDSURBVHhe7Z13cBT3FcdNnDjNaZ5xnMkfKZNJ4iROJhMnY0+axuhO5e4QSLuHqDJFgDGiGVGMAQECBLYpMkWIYgHGFIGNMcjCgITpmGowcCqIYkyHiCLACEm/vLf31hx37057Rbo7+H1mvmOs++2vvLe/fb99u/e7RyQSiUQikUgkEolEIpFIJBKJRCKRSCQSiUQikUgkwZOVlfWNOEvKCyarUmC2KKdAl0xWdUpMzIvfoSKSB5GWCeofzVZ1ouZ0qyo8ZFHHU1HJg0LLVu2eAocPhNm+l3W6i6DMNZvN9j06VBKtPK+q341NVDvAjC4yWZQ6ztneNHhywcHZpeU9qSpJtIBx3WRTYjGumyzqdc65RtQ54zUxu7RM5JU4GmaVOk7lbXJ0oSYkkYjZmvwMOG4izPQv3J0ZiOJatRW5a/dqJ4GuvNKympmbK16iJiXhJsZi/xnGdXDYfncH+qOEpFT275lvFtx3Arjo3JKd55+ibkiaE1ycxVnVjnC79pG/cd1VqZ17iLy5C8SxqhPi3WXvsWXs3fpxzteEoWHGRscg6pakKcG4HmtNMUFMXwAz/gbnLCOyJXcQOW/kit179ov6+nqhc/7CRRFns7PHvL5iC3sC6JpTUj6TuikJNbCC/zPM8kng9C855xgROnbI8DHi4w2bxK3bt8nlngwaOoo9PmPMW6zjXZVX6lhKXZYEiymp3c+1+3WL+hnnEKNK7z1QLFuxSly8dJlc7Jvij0vYelq36w5Odng43V35n5SNoiFI/CXGbn8c4zrcr68LJq7bO3bX4npFZRW51Tg3b97SQgRXb/bCYtbproKrgMj9uCKOhiRpDLvd/ijGdZjtC4ON6xNenyY+3bPvvrgeCOMmTmHbSB+awzrdXbAwvE3Dk3gDU7Imq/I6OP0MZ2wjwrieOSxLi+s1NTfJfcGDJxHXXmJyRzFz/ees0901q6SskIYqcSc+Xv09XOarOSMbUbde/cXSwvfFhYuXyGWhpa6uTgsjXNsj8lawDvdQSVlD1qZNj9OQJa6AIZe7G7YxoUNm5r8dUFwPhFnQFtePtL7O1LARzdroKKIhS1yBlf1hzrjuwriO8XjX7n3i7t06ck3zUHmsiu0Tlxr2oToassQVWOGv4IyLwrj+CtyL4+1YKON6IKT3HsD20UdqmJF8kugBnABtOcOiyiuOkfnDz9LCVWwf23bvzziaV37p0SM0bIkOvmrlbRH4/uoiMn/4weSRt9TwGyu2sg73UInjLg1b4gqcAHM4w/buN4TMHxkMHj7ao4+ovmOn8w5nREOWuBJvVf7DGRZ18tRpMn/4wRwD18fW7dPBuY2nhlFz1x56loYtcaEFrAWOc8adV7CYzB9+bt26JWwpHT36iMpetI51uLvySsvH0pglrsDt4AzOsG3saaKhoYFcEH5y3pjm0UdUj2HGUsP5JeWTaciSuDj1CZNVzTBblB2cUXWt/rCYzB9+du89wPbRmRo+zDrdVQ/9CZCQkPBtMJgK+sBsVWpdjehNaekZZP7wg6nh1E7pbD+NpIbzNx59nUzxUNECF3oQ5/NB/+OM51t2cfXqNXJB+Jk9dwHTR1V07td4anhmydEUssmDj8ma8luI7WPhNq+KM5g/mj5rLpk//OA7g1wf45MaTw1nZYnHyDwPJkbjur9SO3Ql80cGPfu8wvYzc/IC1vFOOerJTA8WgcR1TviUb+SYiexnqKoTp8j84adw5Wq2j6ndBjCOd2pWSdl5MtkDQZBx3SlLm/YiO2ey2LFrj/aUD6V26MaWHTl2Ipk//Fy6fMXv1HBeSVk+2S56CUVcR8MNHDJSFBVvYJ/yzcibxx5nS+lAJcJLXX29uHi1RmRkjmD7yaaGS8rE8uWHnyAzRhehiusvwu3c4qUrxNlz58mUPI6yCvZ41Nbtu6hU84KpqOobt0Xlmcvi07LTYqfjC5G3mH9CyKaGNzqqyJzRQajiekq7LuKtmXPEEUe505IG6dqzL1tfxsChVKJ5qLl9R5y8UC32Vp7RnO6qzQcrhdXbW8PuqeEt5c+RaSMfc6LaEmb8aW5gRoRxPSt7kti+81NRW1tLpvSPd5euZOuOb9U26Dd9G+NObZ04c/ma+Oz4OQ+nu2vwqBy2n66p4bxSx3EybeRjtXb4icmqXOEG1Zj6DxouPly7Tly/foNMGTgYJrwtspYXrqJSoaOuvkGL60e/uMg62pveWb2B7aOeGgbnN+R+VPEkmTfygZmfxA3Im9K69xEL3lkmvjxzlkwZOgYO5hdZad1fphLBwcV1f7XjyEmR0p6/a8HU8KyNlVPItNEBbqTADcZVbdqmianTZ4tDnx9p0id1eJfAtR8Hqq4OPDXsK64HolGTprP9bN8rs5rMGj3gFiq4Hw43IMx+bd66Q9y5E1hc95cbN2q09QTXl9wZ+VTKGHfuOuP6QQNx3Yi2HKoS85atEX0GjxIJSW3ZPuLiGUMqmTZ6gBNgHjegjIHDyJxND8bkS9duiswR4zz6gVLaNZ4aDjSue9OOo6fEsqJNYtjYN0UrtRPbL3eZEpKfJ7NGDyabGsMNBnX69Bkyb+jBYHK1BmLy2Stid7kzJhesLGL7gaqsOuE80AUtrmMdQcR1d63ZvFeMnzpH2Dv1YPvhQw24YwmZNapoAVeBE8yARMGiJU5Lh5CbX9WKUxCT9zExedvhEyLJnubRD9SI0ROoBozrtSGN6xv3OsS0eUtE196D2LYNyaJMI3tGHxC/xnGD6tStd0gWfhiTz1657jMmr926T5t53k4ATMKEMq5v+/y4Ftf7DR3tI64b0h5wficwYwunNaOQ2MTU3zED07T/wCFyo3/ocd0BMXkX4wBU6b4ykTt/qej2cibbtruWrC1l6zEqLa5/9Il4NRviutKZbcOQnDuMToyzpTxNJoxeTJbUP8AVIMdkVb/yGCjopb6DyaXGwLh+zCWuuwtnHsZ6bea1bufRni8Nz57M1tmY9KtLalovtl5Dsig3IFQW4J4GuGcRma/5wEZDtX2p2Zz8U3B4fxhQo9umxtvsjaZ4tbh+kY/rugrXbRGvjZ/q9RJvRJiEwWQMV7+78OqCcd3o1YWTCXcrsagbcPcS3MWEzNe82O32x+DsmwrOqtE6ZFWK0YH0sWHwnj/OpqbCgIr8feCzZdtOcvU9jMT1om0HRM70eTDzXmLrDUSLVq1n20Lh1WV+4VqK6/zef8akHAJbD8X9ish84cPLAu09+tgnzm1T1RiTRZ0P9Vxl6jEkfNiD1BuI65v2V4jpBYUiPWOI1/y+MfEJqkEjc+5rD+N6YfEW8eq4yUFdXeCKeAE0Jc5qj6xv84AhjjIdbnjBkvJLKuIBLk5gpo+nxYr7sX4rEWL1wcpT3uP64ZMQ14vFgOHZfsf1+2RRq/AFFFyUwonblSuDdwObP6sQRVsPiAm5c0Xqi0HEdatyG/5bGGtRrc8+2/NbZL7IAgyyxbPj2pbmw6mIBoYFGEhf+GyPe1mjopjHhofc+cs8HL9y/XYxYsI00aZdF4/yRoWvmIHy8ZUzGMbXt1IJCR1/CGO/yR2Di7kgri4NaFOY6T1NJvuPqLnIBR3NDAKkHMG4Dv+2w6VrDfx/wC9yaItB3HNXWxwqM7kyuJhCp6/beVBMmvG2aN/1ZY8yxqX19QOQii+j0FA9gM+X3DsmWCnHwPGjXkhI/Q1VHx2YbPZfwAyp9zKogLdXgzpxV+2J8a2UP1FTGpjPdi+LwhmXnjE4uLhuUXbAyZqBr51Rcz4xJyqJbD1GZVGr8eoSZ1H+CdVFb6IGZmUJO0A/BTPgOtRVgG8B+bqXBcNVcMcHJJe4TtUbJiYm5ptwkp9j6/UqpRba+xD+bfd1dYkqYq1qmudAjQlmAMb1IryXxZBBVfoEyo/g6jIqaJON64GAK3OuDXdRGOsXyC1yxINJCBhgDTdwH9qPcT2QJ1Tx8am/guMb3OprRMbiur9oewta1bv32rknODnwXcaJ+CNQVPzBBQy8yN0A7tINgrts02EBA3Vtdq+flZ9xPRCgjU4Yz6m9G6CFYUvJhgttX11342sGgdsaq/pOqA0CdXp/X5DiOn5xhIp7BeN4KH6Hz5nJTHkaM6P0p4cLLavn5fdwwBmdqVhIgbpfhRNBe0jkT1zHkKXNWqtS7DweF2bK4qSkpB9QEUkggBEnuDr+a1nUdVQk5GBCBmcezmT6Ewtm0uCKYEFHe1+vKG9RcUkgOB/dehoWjF4XrteRtLyBRZkOM/0C17f7ZFFuRUX2LZKB2b7bi3HxrZRmAWM/zObRcOJVsn3xJYvai6qRBII5UenDGRafA1CRJgHXIGaLvQvM9F1c+0YFx2+nKiWBgJdQmEWX7zMsXloNrMiDwchtqFHhvT1VKwkEZ76eHhPDLRk+zqSPmgRfr457l5aSZZ/m4WKWqpYEA14NGludhwK4bJdyjuSEKVkon5GQoD4Jjp7El1FPP1RJnGjGbEn5L+fE++T8/R+PlKy3uxYUhKx4KiaJZGBGs08iYRZ/hff8jWUgoexO92NJS6iIJFIx2ez/ZhxHUkZTMZ/EWtXe7PEyJxD5wAJzA+88tTqmdesfUzGf4Ddm4WTBd++4emROIFIxJ6b8i3WaJmOzXwdCxVKuHpkTiGAg9q/nnObP7NfBBR9bF0jmBCIQfIeOc5ZT/s1+xJlF5H8BXOYEIhCY5es4ZwUy+3XgxMnh6pQ5gQjD21vBTvk/+3Xo1S6mTpkTiCjAycWck4KZ/Tq46GPrljmByADi9HOMc0iBz34dWFj2YOuWOYHIAGZ5Ee+g4Gc/gm8XobO9tCFzAuEk1pb8D9YxmoKf/TpQ17tcGzInEGbAMWs5x4Rq9uvEJapmth2QzAmECVOi8nfOIU6FbvYjlBNgv7YucwJhAi6/aziHhHr268BiMJtrT+YEwgDuiAHG9/I1sNDOfh3nS6V8mzIn0MzA5Xg154immv060O5Wtl2ZE2g+4m3JfwODN+vs14ETrDvbrswJNB9gcPw2L+OEpp39CH5NDNYC/DeIZE6g6TFb7H8FY4dl9utAO+yr5jIn0AzALdf7nPGbY/br4E4lbB9AMifQhLRspfwFjBzW2Y/gLR+EAXancpkTaELAwO+5G1xTM85+HTjhxnB9kTmBJiJSZr+OuZX6a2hb5gSaC7i0ruCMHY7ZrwO3fp+wfZI5gdCCewfBCeBtz8Fmn/06+K1jtk8yJxBawKiFHkbWDB2+2Y/QljL8ppcyJxAazNbkZyJx9uvA3UAB1zeZEwgR4PxlnIHDPft1fH0JVeYEggS/tRvJs59oAX08zvUR/i5zAsEABmS/mhUps1/HZFFHcf2UOYEgwO/oR8Hs18Atar31VeYEAgRW1ws5g0ba7NeBxaC3ndFlTsBfcPsYMCj72zuRNvt1cNdTtr8W5QwVkfgDu1FThM5+xGzu9H3o83XPPitfUhGJP4DhprkbExZVA+jjiASuTh6/lAYnxVj6WOIPWhjA1TX+CggIFlmZ8OeI/vkUu93+qMliHwb9PQh9d2D/8W/0sUQikUgkEolEIpFIJBKJRBKtPPLI/wH4T/z3KpY5zAAAAABJRU5ErkJggg==">
    <style type="discovery/style" src="model.css">.view-button{position:relative;display:inline-block;box-sizing:border-box;padding:8px 12px;outline:none;margin:0;color:var(--discovery-view-button-color);background-color:var(--discovery-view-button-background-color);border:1px solid var(--discovery-view-button-border-color);border-radius:3px;font-family:inherit;font-size:inherit;line-height:1.2;text-align:center;cursor:pointer;--discovery-view-button-color: var(--discovery-color);--discovery-view-button-background-color: rgba(255, 255, 255, .1);--discovery-view-button-border-color: rgba(127, 127, 127, .4);--discovery-view-button-hover-background-color: rgba(221, 221, 221, .3);--discovery-view-button-hover-border-color: rgba(170, 170, 170, .6);--discovery-view-button-active-background-color: rgba(131, 131, 131, .25);--discovery-view-button-active-border-color: var(--discovery-view-button-border-color);--discovery-view-button-focus-background-color: var(--discovery-view-button-background-color);--discovery-view-button-focus-border-color: rgba(128, 128, 128, .6)}.view-button:empty:before{content:"\200b";float:left}.view-button:focus-visible{box-shadow:0 0 1px 3px #0af3;background-color:var(--discovery-view-button-focus-background-color);border-color:var(--discovery-view-button-focus-border-color);z-index:1}.view-button:hover,.view-button.discovery-view-popup-active{background-color:var(--discovery-view-button-hover-background-color);border-color:var(--discovery-view-button-hover-border-color)}.view-button:active{background-color:var(--discovery-view-button-active-background-color);border-color:var(--discovery-view-button-active-border-color)}.view-button[disabled]{opacity:.5;pointer-events:none;cursor:default}.view-button+.view-button{margin-left:1ex}.view-button-primary{--discovery-view-button-color: white;--discovery-view-button-background-color: #00aaff;--discovery-view-button-border-color: transparent;--discovery-view-button-hover-background-color: #009cf0;--discovery-view-button-hover-border-color: transparent;--discovery-view-button-active-background-color: #008ee0;--discovery-view-button-focus-border-color: transparent}.discovery-root-darkmode .view-button-primary{--discovery-view-button-color: #fffd;--discovery-view-button-background-color: #006aa3e6;--discovery-view-button-hover-background-color: #0074b3e6;--discovery-view-button-active-background-color: #006aa3d0}.view-button-danger{--discovery-view-button-color: white;--discovery-view-button-background-color: #ff6163;--discovery-view-button-border-color: transparent;--discovery-view-button-hover-background-color: #f05456;--discovery-view-button-hover-border-color: transparent;--discovery-view-button-active-background-color: #e34449;--discovery-view-button-focus-border-color: transparent}.discovery-root-darkmode .view-button-danger{--discovery-view-button-color: #fffd;--discovery-view-button-background-color: #c32224bf;--discovery-view-button-hover-background-color: #d02528bf;--discovery-view-button-active-background-color: #c32224a6}.view-button-warning{--discovery-view-button-color: rgba(0, 0, 0, .84);--discovery-view-button-background-color: #ffcf21;--discovery-view-button-border-color: transparent;--discovery-view-button-hover-background-color: #fcbd00;--discovery-view-button-hover-border-color: transparent;--discovery-view-button-active-background-color: #f7ad00;--discovery-view-button-focus-border-color: transparent}.discovery-root-darkmode .view-button-warning{--discovery-view-button-color: #eeee;--discovery-view-button-background-color: #ffd40199;--discovery-view-button-hover-background-color: #ffd91aa6;--discovery-view-button-active-background-color: #ffd4018e}.view-checkbox-list>.view-checkbox{display:block}.view-checkbox{--discovery-checkbox-size: max(1em, 14px);padding-left:var(--discovery-checkbox-size)}.view-checkbox>input{-webkit-appearance:none;appearance:none;content:"";font-size:inherit;display:inline-block;position:relative;top:2px;box-sizing:border-box;height:var(--discovery-checkbox-size);width:var(--discovery-checkbox-size);margin:0;margin-left:calc(-1 * var(--discovery-checkbox-size));background-color:#fff3;background-repeat:no-repeat;background-position:center;background-size:calc(.57 * var(--discovery-checkbox-size));border:1px solid rgba(151,162,172,.65);border-radius:3px;outline:none;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}.view-checkbox>input:checked{border-color:transparent;background-color:#0079e8ad;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8">%0A    <path fill="%23fff" d="M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z"/>%0A</svg>%0A')}.view-checkbox>input:focus-visible{box-shadow:0 0 1px 3px #0af3}.view-checkbox>input:focus-visible:not(:checked){border-color:#008dffbf}.view-checkbox>input:active{border-color:transparent;background-color:#198bec99}.view-checkbox>input[readonly],.view-checkbox>input:disabled{box-shadow:none;border-color:#a5a5a51a;background-color:#a5a5a54d}.view-checkbox__label{margin-left:5px;margin-right:15px}.view-content-filter>.view-input{line-height:1;margin-bottom:1em}.view-content-filter>.view-input input{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">%0A    <path fill="rgba(150, 150, 150, 0.65)" d="M 21 3 C 11.601563 3 4 10.601563 4 20 C 4 29.398438 11.601563 37 21 37 C 24.355469 37 27.460938 36.015625 30.09375 34.34375 L 42.375 46.625 L 46.625 42.375 L 34.5 30.28125 C 36.679688 27.421875 38 23.878906 38 20 C 38 10.601563 30.398438 3 21 3 Z M 21 7 C 28.199219 7 34 12.800781 34 20 C 34 27.199219 28.199219 33 21 33 C 13.800781 33 8 27.199219 8 20 C 8 12.800781 13.800781 7 21 7 Z "></path>%0A</svg>%0A');background-repeat:no-repeat;background-size:32px 16px;background-position:right center;padding-right:30px}.view-content-filter>.content{overflow:auto;flex:1}.view-content-filter>.content .view-list:before{padding:5px 10px;display:block}.view-dropdown{box-sizing:border-box;position:relative;display:inline-flex;overflow:hidden;flex-shrink:0;align-items:center;min-width:10ex;max-width:100%;padding-right:1.2em;line-height:1.2;border-radius:3px;border:1px solid rgba(127,127,127,.4);background-color:#ffffff1a;color:var(--discovery-color);outline:none}.view-dropdown:after{content:"";right:7px;color:#999;display:flex;align-items:center;flex-shrink:0;pointer-events:none;position:absolute;width:1em;height:1em;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28">%0A    <path fill="%23888" d="M19,15.9393398 L24.4696699,10.4696699 C24.7625631,10.1767767 25.2374369,10.1767767 25.5303301,10.4696699 C25.8232233,10.7625631 25.8232233,11.2374369 25.5303301,11.5303301 L19.5303301,17.5303301 C19.2374369,17.8232233 18.7625631,17.8232233 18.4696699,17.5303301 L12.4696699,11.5303301 C12.1767767,11.2374369 12.1767767,10.7625631 12.4696699,10.4696699 C12.7625631,10.1767767 13.2374369,10.1767767 13.5303301,10.4696699 L19,15.9393398 Z" />%0A</svg>%0A');background-size:1em;background-position:center;cursor:pointer}.view-dropdown.discovery-view-popup-active,.view-dropdown:focus{box-shadow:0 0 1px 3px #0af3,inset 0 1px 1px #8e8e8e33;border-color:#80808099;z-index:1}.view-dropdown:hover{background-color:#dddddd4d;border-color:#aaa9}.view-dropdown:active{background-color:#83838340}.view-dropdown__caption{padding:8px 8px 8px 12px}.view-dropdown:not([data-placeholder]):empty .view-dropdown__caption:before{content:"|";visibility:hidden;padding:8px 0}.view-dropdown[data-placeholder]:empty .view-dropdown__caption:before{content:attr(data-placeholder);visibility:visible;padding:8px 8px 8px 12px;color:#bbb}.view-dropdown>*{pointer-events:none}.discovery-view-popup.view-dropdown-popup{overflow:hidden;display:flex;flex-direction:column}.discovery-view-popup.view-dropdown-popup>.content{gap:5px;padding:8px;display:flex;flex-direction:column;flex:1;overflow:hidden;overflow-y:scroll}.discovery-view-popup.view-dropdown-popup>.confirm{padding:8px;background-color:#0003;font-size:80%;text-align:right}.discovery-view-popup.view-dropdown-popup>.confirm .view-button{padding-top:4px;padding-bottom:4px}.view-input input{position:relative;width:100%;box-sizing:border-box;margin:0;padding:8px 12px;font-family:inherit;font-size:inherit;line-height:1.2;border:1px solid rgba(153,153,153,.5);border-radius:3px;background-color:#ffffff0d;color:var(--discovery-color);outline:0}.view-input input:hover{border-color:#999999bf}.view-input input:focus{border-color:#00aaffa6;box-shadow:0 0 1px 3px #0af3,inset 0 1px 1px #8e8e8e33;z-index:1}.view-menu-item{display:block;padding:4px 12px;color:inherit;text-decoration:none;cursor:pointer}.view-menu-item:empty:before{content:"\200b";float:left}.view-menu-item:hover,.view-menu-item.discovery-view-popup-active{background:#83838340}.view-menu-item.selected{background:#b2ddf84d;cursor:default}.view-menu-item.disabled{opacity:.65;background:none;pointer-events:none}.view-menu-item:not(.onclick):not([href]){pointer-events:none}.view-menu:empty:before{content:attr(emptyText);display:block;padding:4px 12px;color:#888}.view-menu>.more-buttons{margin:2px 12px 8px}.view-nav-button{vertical-align:top;display:inline-block;min-height:1.6em;padding:5px 15px 6px;color:#444;background-color:#9b9b9b26;font-size:12px;text-decoration:none;outline:none;cursor:pointer}.view-nav-button:hover,.view-nav-button:focus,.view-nav-button.discovery-view-popup-active{color:#000;background-color:#9797974d}.view-nav-button+.view-nav-button{margin-left:1px}.view-nav-button.disabled,.view-nav-button:not(.onclick):not([href]){pointer-events:none}.discovery-root-darkmode .view-nav-button{color:inherit}.view-progress{max-width:300px;z-index:1;pointer-events:none}.view-progress.skip-fast-track{transition:opacity .25s var(--appearance-delay, .5s);will-change:opacity;contain:paint;@starting-style{opacity:0}}.view-progress.skip-fast-track.done:not(.error){display:none}.view-progress>.progress{content:"";display:block;position:relative;overflow:hidden;margin-top:4px;box-sizing:border-box;height:3px;background:#c6c6c64d;border-radius:2px}.view-progress>.progress:before{content:"";display:block;height:100%;width:100%;position:absolute;left:0;top:0;transform:scaleX(var(--progress, 0));transform-origin:left;background-color:var(--color, #1f7ec5)}.view-progress>.content.main-secondary{display:flex;white-space:nowrap;gap:1ex}.view-progress>.content>.secondary{flex:1;overflow:hidden;text-overflow:ellipsis;color:#888}.view-select{box-sizing:border-box;position:relative;display:inline-flex;overflow:hidden;flex-shrink:0;align-items:center;min-width:10ex;max-width:100%;padding-right:1.2em;line-height:1.2;border-radius:3px;border:1px solid rgba(127,127,127,.4);background-color:#ffffff1a;color:var(--discovery-color);outline:none}.view-select:after{content:"";right:7px;color:#999;display:flex;align-items:center;flex-shrink:0;pointer-events:none;position:absolute;width:1em;height:1em;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28">%0A    <path fill="%23888" d="M19,15.9393398 L24.4696699,10.4696699 C24.7625631,10.1767767 25.2374369,10.1767767 25.5303301,10.4696699 C25.8232233,10.7625631 25.8232233,11.2374369 25.5303301,11.5303301 L19.5303301,17.5303301 C19.2374369,17.8232233 18.7625631,17.8232233 18.4696699,17.5303301 L12.4696699,11.5303301 C12.1767767,11.2374369 12.1767767,10.7625631 12.4696699,10.4696699 C12.7625631,10.1767767 13.2374369,10.1767767 13.5303301,10.4696699 L19,15.9393398 Z" />%0A</svg>%0A');background-size:1em;background-position:center;cursor:pointer}.view-select.discovery-view-popup-active,.view-select:focus{box-shadow:0 0 1px 3px #0af3,inset 0 1px 1px #8e8e8e33;border-color:#80808099;z-index:1}.view-select:hover{background-color:#dddddd4d;border-color:#aaa9}.view-select:active{background-color:#83838340}.view-select .view-menu-item{padding-top:8px;padding-bottom:8px;padding-right:8px}.view-select:empty:not([data-placeholder]):before{content:"|";visibility:hidden;padding:8px 0}.view-select:empty[data-placeholder]:before{content:attr(data-placeholder);visibility:visible;padding:8px 8px 8px 12px;opacity:.3}.view-select>*{pointer-events:none}.discovery-view-popup.view-select-popup{display:flex;flex-direction:column;overflow:hidden}.discovery-view-popup.view-select-popup>.view-select__variants{flex:1;overflow:auto;display:flex;flex-direction:column;min-width:100%}.discovery-view-popup.view-select-popup>.view-select__variants:not(:last-child){border-bottom:1px solid rgba(202,202,202,.65)}.discovery-view-popup.view-select-popup>.view-select__filter{margin:0;border-bottom:1px solid rgba(202,202,202,.65)}.discovery-view-popup.view-select-popup>:not(.view-tabs)+.view-select__filter{border-top:1px solid rgba(202,202,202,.65)}.discovery-view-popup.view-select-popup>.view-select__filter input,.discovery-view-popup.view-select-popup>.view-select__filter input:focus{outline:none;box-shadow:none;border:none}.discovery-view-popup.view-select-popup .reset-item{color:#aaa}.discovery-view-popup.view-select-popup .reset-item:empty:before{content:"(nothing selected)";visibility:visible}.view-tab{display:inline-block;position:relative;padding:3px 11px;border-bottom:var(--discovery-view-tabs-border);font-size:13px;cursor:pointer;white-space:nowrap}.view-tab.active{z-index:10;border-bottom:none;padding-bottom:4px;cursor:default}.view-tab.active:before{content:"";position:absolute;z-index:-1;inset:0;border:var(--discovery-view-tabs-border);border-bottom:none;border-radius:5px 5px 0 0;pointer-events:none}.view-tab.disabled{color:#aaa}.view-tab.disabled,.view-tab:not(.onclick){pointer-events:none}.view-tabs-buttons{--discovery-view-tabs-border: 1px solid rgba(170, 170, 170, .4);margin-top:2px;display:flex;flex-wrap:wrap;align-items:flex-end}.view-tabs-buttons:before,.view-tabs-buttons:after{content:"";width:6px;border-bottom:var(--discovery-view-tabs-border)}.view-tabs-buttons:after{flex:1}.view-tabs-buttons-before,.view-tabs-buttons-after{padding:0 6px 3px;border-bottom:var(--discovery-view-tabs-border);color:#888;font-size:13px}.view-tabs-content{overflow:auto}.view-toggle-group{display:inline-flex;align-items:baseline;flex-wrap:wrap}.view-toggle-group-before{padding-right:1ex}.view-toggle-group-after{padding-left:1ex;order:1000}.view-toggle-group .view-toggle+.view-toggle{margin-left:1px;border-top-left-radius:0;border-bottom-left-radius:0}.view-toggle-group .view-toggle:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.view-toggle{display:inline-block;position:relative;padding:3px 12px;background:#c8c8c833;border-radius:4px;font-size:13px;cursor:pointer;white-space:nowrap}.view-toggle:hover{background-color:#4ebbff33}.view-toggle.checked{background-color:#4ebbff4d;cursor:default}.view-toggle.disabled{color:#aaa}.view-toggle.disabled,.view-toggle:not(.onclick){pointer-events:none}.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr}.CodeMirror-lines{padding:4px 0}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{padding:0 4px}.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid black;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor .CodeMirror-line::selection,.cm-fat-cursor .CodeMirror-line>span::selection,.cm-fat-cursor .CodeMirror-line>span>span::selection{background:transparent}.cm-fat-cursor .CodeMirror-line::-moz-selection,.cm-fat-cursor .CodeMirror-line>span::-moz-selection,.cm-fat-cursor .CodeMirror-line>span>span::-moz-selection{background:transparent}.cm-fat-cursor{caret-color:transparent}@-moz-keyframes blink{50%{background-color:transparent}}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;inset:-50px 0 0;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-variable-3,.cm-s-default .cm-type{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-s-default .cm-error,.cm-invalidchar{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:#ff96004d}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-50px;margin-right:-50px;padding-bottom:50px;height:100%;outline:none;position:relative;z-index:0}.CodeMirror-sizer{position:relative;border-right:50px solid transparent}.CodeMirror-vscrollbar,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-gutter-filler{position:absolute;z-index:6;display:none;outline:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-50px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre.CodeMirror-line,.CodeMirror pre.CodeMirror-line-like{-moz-border-radius:0;-webkit-border-radius:0;border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre.CodeMirror-line,.CodeMirror-wrap pre.CodeMirror-line-like{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;inset:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-scroll,.CodeMirror-sizer,.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber{-moz-box-sizing:content-box;box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}div.CodeMirror-dragcursors,.CodeMirror-focused div.CodeMirror-cursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:#ff06}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.cm-s-neo.CodeMirror{background-color:#fff;color:#2e383c;line-height:1.4375}.cm-s-neo .cm-comment{color:#75787b}.cm-s-neo .cm-keyword,.cm-s-neo .cm-property{color:#1d75b3}.cm-s-neo .cm-atom,.cm-s-neo .cm-number{color:#75438a}.cm-s-neo .cm-node,.cm-s-neo .cm-tag{color:#9c3328}.cm-s-neo .cm-string{color:#b35e14}.cm-s-neo .cm-variable,.cm-s-neo .cm-qualifier{color:#047d65}.cm-s-neo pre{padding:0}.cm-s-neo .CodeMirror-gutters{border:none;border-right:10px solid transparent;background-color:transparent}.cm-s-neo .CodeMirror-linenumber{padding:0;color:#e0e2e5}.cm-s-neo .CodeMirror-guttermarker{color:#1d75b3}.cm-s-neo .CodeMirror-guttermarker-subtle{color:#e0e2e5}.cm-s-neo .CodeMirror-cursor{width:auto;border:0;background:#9b9da25e;z-index:1}.discovery-view-editor-hints-popup{position:absolute;z-index:1000;box-sizing:border-box;overflow:hidden;overflow-y:auto;list-style:none;margin:0;padding:0;min-width:200px;max-height:20em;box-shadow:2px 3px 5px #0003;border-radius:2px;border:1px solid rgba(176,176,176,.65);background:#fff;color:#000;font-family:var(--discovery-monospace-font-family);font-size:12px;line-height:18px}.discovery-root-darkmode .discovery-view-editor-hints-popup{background:#323232;color:#ccc}.discovery-view-editor-hint{display:flex;align-items:baseline;margin:0;padding:2px 6px;white-space:pre;cursor:pointer}.discovery-view-editor-hint:hover{background-color:#b4b4b433}.discovery-view-editor-hint .name{flex:1}.discovery-view-editor-hint .match{color:#06c}.discovery-root-darkmode .discovery-view-editor-hints-popup .discovery-view-editor-hint .match{color:#4d8bca}.discovery-view-editor-hint.active{background:#0af3}.discovery-view-editor-hint:before{content:"?";display:inline-block;place-self:center;aspect-ratio:1 / 1;height:1em;margin-left:-2px;margin-right:4px;padding:2px;border:1px solid currentColor;border-radius:3px;color:#888;font-size:8px;line-height:1;text-align:center}.discovery-view-editor-hint.type-variable:before{content:"$"}.discovery-view-editor-hint.type-property:before{content:"P"}.discovery-view-editor-hint.type-value:before{content:"V"}.discovery-view-editor-hint.type-method:before{content:"M"}.discovery-view-editor-hint.type-assertion:before{content:"A"}.discovery-view-editor{--editor-border-color: rgba(124, 124, 124, .65);display:flex;flex-direction:column;margin-bottom:5px;border:1px solid var(--editor-border-color);border-radius:3px;background-color:var(--discovery-background-color)}.discovery-view-editor:focus-within{--editor-border-color: rgba(0, 141, 255, .75);box-shadow:0 0 1px 3px #0af3,inset 0 1px 1px #8e8e8e33!important}.discovery-view-editor .discovery-view-editor__input-panel{order:0}.discovery-view-editor .discovery-view-editor__output-panel{order:2}.discovery-view-editor .CodeMirror{order:1;height:auto;overflow-y:hidden!important;padding:2px 8px;font-family:var(--discovery-monospace-font-family);font-size:12px;background-color:var(--discovery-input-bg-color);transition:.25s ease-in;transition-property:background-color,color}.discovery-root-darkmode .discovery-view-editor .CodeMirror{color:#d1c7c3}.discovery-view-editor .CodeMirror-scroll{min-height:6.5em;height:auto;overflow-y:hidden!important;cursor:text}.discovery-view-editor.empty-value:not(:focus-within) .CodeMirror .CodeMirror-lines>div[role=presentation]:before{content:attr(data-placeholder);position:absolute;color:#666}.discovery-view-editor .CodeMirror .CodeMirror-line,.discovery-view-editor .CodeMirror .CodeMirror-line-like{padding:0}.discovery-view-editor .CodeMirror-cursor{border-left:1px solid var(--discovery-color, black);background:none}.discovery-view-editor .CodeMirror-focused .CodeMirror-selected{background-color:#00aaff38}.discovery-view-editor .CodeMirror-selected{background-color:#7e7e7e4d}.discovery-view-editor .CodeMirror .cm-comment{color:var(--discovery-fmt-comment-color)}.discovery-view-editor .CodeMirror .cm-keyword{color:var(--discovery-fmt-keyword-color)}.discovery-view-editor .CodeMirror .cm-property{color:var(--discovery-fmt-property-color)}.discovery-view-editor .CodeMirror .cm-atom{color:var(--discovery-fmt-atom-color)}.discovery-view-editor .CodeMirror .cm-number{color:var(--discovery-fmt-number-color)}.discovery-view-editor .CodeMirror .cm-type{color:var(--discovery-fmt-type-color)}.discovery-view-editor .CodeMirror .cm-node,.discovery-view-editor .CodeMirror .cm-tag{color:#9c3328}.discovery-view-editor .CodeMirror .cm-string,.discovery-view-editor .CodeMirror .cm-string-2{color:var(--discovery-fmt-string-color)}.discovery-view-editor .CodeMirror .cm-variable,.discovery-view-editor .CodeMirror .cm-variable-2,.discovery-view-editor .CodeMirror .cm-def,.discovery-view-editor .CodeMirror .cm-qualifier{color:var(--discovery-fmt-variable-color)}.discovery-view-editor .CodeMirror .cm-discovery-view-name{background-color:var(--discovery-fmt-string-highlight-color);border-bottom:1px dashed}.discovery-view-usage{margin-top:16px}.discovery-view-usage>.view-header:first-child{margin-top:0;font-family:Helvetica Neue,Helvetica,Tahoma,Arial,sans-serif;font-weight:200}.discovery-view-usage .usage-render{position:relative;z-index:0;margin:15px 0 10px;padding:30px 16px 16px;border:solid rgba(170,170,170,.2);border-width:2px;border-radius:3px}.discovery-view-usage .usage-render.demo-fixed{--image-preview-bg-color: rgba(119, 119, 119, .125);margin-top:29px;padding:var(--discovery-page-padding-top) var(--discovery-page-padding-right) var(--discovery-page-padding-bottom) var(--discovery-page-padding-left);border-top-left-radius:0;background-clip:padding-box;background-image:linear-gradient(45deg,var(--image-preview-bg-color) 25%,transparent 0,transparent 75%,var(--image-preview-bg-color) 75%),linear-gradient(45deg,var(--image-preview-bg-color) 25%,transparent 0,transparent 75%,var(--image-preview-bg-color) 75%);background-position:0 0,10px 10px;background-size:20px 20px}.discovery-view-usage .usage-render:before{content:"DEMO";position:absolute;top:0;left:0;padding:2px 24px 3px;font-size:9px;line-height:1;background-color:#aaa3;border-bottom-right-radius:4px}.discovery-view-usage .usage-render.demo-fixed:before{top:-16px;left:-2px;padding-left:26px;border-radius:4px 4px 0 0}.discovery-view-usage .usage-section>.view-h2{margin-top:1.2em;margin-bottom:.5em}.discovery-view-usage .usage-section>.view-h2 .view-header__anchor{scroll-margin:.5em}.discovery-view-usage .view-tabs.usage-sources .view-tabs-buttons:before{display:none}.discovery-view-usage .view-tabs.usage-sources .view-tabs-content{overflow:visible;border:1px solid rgba(170,170,170,.4);border-top:none;border-radius:0 0 3px 3px;padding:2px}.discovery-view-usage .view-tabs.usage-sources .view-tabs-content .view-expand{margin-bottom:1px}.discovery-view-usage .view-tabs.usage-sources .view-tabs-content .view-expand>.header{--discovery-view-expand-trigger-size: 32px}.discovery-view-usage .view-tabs.usage-sources .view-tabs-content .view-expand .view-struct.struct-expand{padding-left:28px}.discovery-view-usage .view-tabs.usage-sources .view-tabs-content .view-expand .view-struct:not(.struct-expand){border-left:20px solid rgba(205,205,205,.1)}.discovery-view-usage .view-tabs.usage-sources .view-source{background:#9b9b9b1a;border-top-left-radius:0;border-top-right-radius:0}.discovery-view-usage .view-tabs.usage-sources .view-source.first-tab{border-top-left-radius:0}.discovery-view-usage .view-tabs.usage-sources .view-source .spotlight{padding:3px 2px 2px;margin:0 -2px}.discovery-root-darkmode .discovery-view-usage .view-tabs.usage-sources .view-source .spotlight{background:#92926654;color:#b6aa6a}.view-inline-list>.view-list-item,.view-comma-list>.view-list-item{display:inline-block;list-style:none}.view-comma-list>.view-list-item>*{margin-right:0}.view-comma-list>.view-list-item:after{content:", ";white-space:pre}.view-comma-list>.view-list-item:last-child:after{content:""}.view-list{display:block;list-style:none}.view-ul,.view-ol{margin:0;padding-left:0}.view-ul:not(:empty),.view-ol:not(:empty){padding-left:20px}:is(.view-list,.view-ul,.view-ol)+:is(.view-list,.view-ul,.view-ol),.view-list-item>:is(.view-list,.view-ul,.view-ol){margin-top:0;margin-bottom:2px}.view-inline-list,.view-comma-list{display:inline-block}.view-list:empty:before,.view-inline-list:empty:before,.view-ul:empty:before,.view-ol:empty:before{content:attr(emptyText);color:#888}.view-alert{position:relative;padding:.75rem 1.25rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem;color:#383d41;background-color:#8b8f9740;border-color:#989da566;background-clip:padding-box}.discovery-root-darkmode .view-alert{color:var(--discovery-color)}.view-alert:last-child{margin-bottom:0}.view-alert>:first-child{margin-top:0}.page>.view-alert:first-child,.page>.view-alert-success:first-child,.page>.view-alert-danger:first-child,.page>.view-alert-warning:first-child{margin-top:15px}.view-alert-primary{color:#004085;background-color:#3397ff40;border-color:#4da2ff66}.discovery-root-darkmode .view-alert-primary{color:#6a96c6}.view-alert-success{color:#155724;background-color:#53b76b40;border-color:#69c07d66}.discovery-root-darkmode .view-alert-success{color:#5fab70}.view-alert-danger{color:#721c24;background-color:#e35f6b40;border-color:#e6707d66}.discovery-root-darkmode .view-alert-danger{color:#c7888e}.view-alert-warning{color:#856404;background-color:#ffcf3740;border-color:#ffd45266}.discovery-root-darkmode .view-alert-warning{color:#bdab77}.view-app-header{display:flex;align-items:center;gap:10px}.view-app-header:not(:last-child){margin-bottom:30px}.view-app-header .icon{--icon: var(--discovery-app-icon);float:left;display:inline-block;line-height:1;width:48px;aspect-ratio:1;vertical-align:middle;padding:4px;background:no-repeat center;background-image:var(--icon, var(--discovery-app-icon));background-size:48px;background-color:#f4f4f4;border-radius:3px}.discovery-root-darkmode .view-app-header .icon{background-color:#2b2b2b}.view-app-header h1{margin:0;font-size:30px;line-height:31px;font-family:Helvetica Neue,Helvetica,Tahoma,Arial,sans-serif;font-weight:200}.view-app-header .version{vertical-align:top;display:inline-block;margin-left:1ex;font-size:12px;line-height:18px;opacity:.4}.view-app-header .version:hover{opacity:.75}.view-app-header .description{font-size:12px;line-height:19px;color:#aaa}.view-badge,.view-pill-badge{--discovery-view-badge-color: rgba(135, 135, 135, .2);--discovery-view-badge-text-color: var(--discovery-color);padding:1px 6px 3px;margin-right:1ex;text-shadow:1px 1px rgba(255,255,255,.35);background:var(--discovery-view-badge-color);color:var(--discovery-view-badge-text-color);border-radius:3px;font-size:85%;text-decoration:none;white-space:nowrap}.view-pill-badge{border-radius:9px}.discovery-root-darkmode .view-badge,.discovery-root-darkmode .view-pill-badge{background:var(--discovery-view-badge-dark-color, var(--discovery-view-badge-color));color:var(--discovery-view-badge-dark-text-color, var(--discovery-view-badge-text-color));text-shadow:1px 1px rgba(0,0,0,.1)}.view-badge[href]:hover,.view-badge.onclick:hover,.view-pill-badge[href]:hover,.view-pill-badge.onclick:hover{color:var(--discovery-color);background-image:linear-gradient(to top,#0000001a,#0000001a);cursor:pointer}.view-badge>.prefix{padding:1px 6px 3px;margin:-1px 6px -3px -6px;border-radius:3px 0 0 3px;background-color:#0000001f}.view-badge>.postfix{padding:1px 6px 3px;margin:-1px -6px -3px 6px;border-radius:0 3px 3px 0;background-color:#0000001f}.view-pill-badge>.prefix{padding:1px 6px 3px;margin:-1px 6px -3px -6px;border-radius:8px 0 0 8px;background-color:#0000001f}.view-pill-badge>.postfix{padding:1px 6px 3px;margin:-1px -6px -3px 6px;border-radius:0 8px 8px 0;background-color:#0000001f}.discovery-buildin-view-tooltip .view-badge,.discovery-buildin-view-tooltip .view-pill-badge{display:inline-block;margin:0 0 3px -5px;padding-top:0;padding-bottom:1px;line-height:19px}.view-header{font-size:120%;font-weight:400;position:relative}.view-header>.view-header__anchor{position:absolute;margin-left:-22px;display:inline-block;width:22px;text-align:center;color:inherit;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="%23888" viewBox="0 0 16 16">%0A  <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"/>%0A  <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"/>%0A</svg>%0A') center / 20px no-repeat content-box;padding-top:2px;font-weight:400;opacity:0;transition:opacity .25s}.view-header:hover>.view-header__anchor{opacity:1}.view-header>.view-header__anchor:before{content:"\a7";display:inline-block;width:0;visibility:hidden}.view-h1{font-size:220%;font-weight:400;margin:.812em 0 .65em}.view-h2{font-size:150%;font-weight:400;margin:.78em 0}.view-h3{font-size:135%;font-weight:400;margin:.73em 0}.view-h4{font-size:120%;font-weight:400;margin:.73em 0}.view-h5{font-size:110%;font-weight:400;margin:.68em 0}.view-link{color:var(--discovery-link-color, #0099DD);text-decoration-skip:ink;text-decoration-color:var(--discovery-link-underline-color, rgba(0, 153, 221, .4))}.view-link.onclick{text-decoration-line:underline;cursor:pointer}.view-link:hover{color:var(--discovery-link-hover-color, #0077BB);text-decoration-color:currentColor}.view-image{background:no-repeat center / 20px}.view-image:not(.error):not(.loaded){background-color:#8d8d8d4d}.view-image.error,.view-image:not([src]){width:32px;height:32px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" fill="%23888" viewBox="0 0 16 16">%0A  <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>%0A  <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>%0A</svg>%0A');background-color:#8d46464d}.discovery-root-darkmode .view-image{opacity:.85}.view-image-preview{--image-preview-bg-color: rgba(119, 119, 119, .125);display:flex;justify-content:center;padding:16px;background-image:linear-gradient(45deg,var(--image-preview-bg-color) 25%,transparent 0,transparent 75%,var(--image-preview-bg-color) 75%),linear-gradient(45deg,var(--image-preview-bg-color) 25%,transparent 0,transparent 75%,var(--image-preview-bg-color) 75%);background-position:0 0,10px 10px;background-size:20px 20px}.view-image-preview .view-image{opacity:1}.view-indicator{display:inline-flex;margin:0 1px 1px 0;width:150px;height:100px;background:#b5b5b526;flex-direction:column;justify-content:center;text-align:center;text-decoration:none}.view-indicator[href]:hover{background:#a5a5a54d}.view-indicator>.value{color:#666;font-size:40px;line-height:1.2}.view-indicator[href]>.value{color:#1f7ec5}.view-indicator>.label{font-size:14px;color:#888;box-sizing:border-box;padding:0 8px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.view-markdown:first-child>:first-child{margin-top:0}.view-markdown:last-child>:last-child{margin-bottom:0}.view-markdown :is(p,blockquote,ul,ol,dl,pre,code){margin:0}.view-markdown :is(p,blockquote,ul,ol,dl,table,pre):not(:first-child){margin-top:15px}.view-markdown :is(ul,ol)+:is(ul,ol),.view-markdown li>:is(ul,ol){margin-top:0!important}.view-markdown blockquote{padding:0 0 0 1em;color:#6a737d;border-left:.25em solid rgba(191,197,197,.5)}.discovery-root-darkmode .view-markdown blockquote{color:#808993}.view-markdown code{padding:.2em .4em;font-family:var(--discovery-monospace-font-family);font-size:90%;background-color:#d2dce633;border-radius:3px}.discovery-root-darkmode .view-markdown blockquote code{background-color:#747e8833}.view-markdown kbd{--border-color: #ddd;--bg-color: #f8f8f8;padding:.15em .4em;font-family:var(--discovery-monospace-font-family);font-size:90%;border:1px solid var(--border-color, #888);border-radius:6px;box-shadow:0 -1px var(--border-color, #888) inset;background-color:var(--bg-color)}.discovery-root-darkmode .view-markdown kbd{--border-color: #484848;--bg-color: #181818}.view-markdown sup{vertical-align:top}.view-markdown sub{vertical-align:bottom}.view-markdown pre:not(.view-source){overflow:auto;font-family:var(--discovery-monospace-font-family);font-size:90%;line-height:1.25;background-color:#9b9b9b1a;border-radius:3px;word-break:normal}.view-markdown pre:not(.view-source) code{padding:0;font-family:inherit;font-size:100%;background:none;border-radius:0;text-shadow:none;color:inherit}.view-markdown .check-list-item{list-style:none}.view-markdown .check-list-item>.view-checkbox:first-child{width:20px;margin-left:-20px}.view-source{display:grid;grid-template:"prelude" auto "content" 1fr "postlude" auto;margin:0;border-radius:3px;background-color:#cdcdcd1a;color:var(--discovery-color);font-family:var(--discovery-font-family);font-size:12px;line-height:1.6;white-space:normal;tab-size:4}.view-source+.view-source{margin-top:1px}.view-source__prelude{grid-area:prelude;overflow:hidden;border-top-left-radius:inherit;border-top-right-radius:inherit}.view-source__postlude{grid-area:postlude;overflow:hidden;border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.view-source__content{grid-area:content;position:relative;display:flex;align-items:flex-start;padding:8px;overflow:auto;white-space:pre}.view-source__action-buttons{order:2;position:sticky;top:0;right:0;translate:3px -3px;margin-left:1ex;margin-bottom:-8px;display:flex;gap:4px;font-family:var(--discovery-font-family);font-size:12px;line-height:1.6}.view-source__action-buttons .view-button{padding:4px 6px;margin:0;opacity:.25;transition:.5s opacity;line-height:14px}.view-source__content:hover>.view-source__action-buttons .view-button{opacity:1;transition-duration:.25s}.view-source__action-buttons .view-button.copied{opacity:1}.view-source__action-buttons .view-button.copy:before{content:"";display:inline-block;vertical-align:top;width:12px;height:12px;-webkit-mask:center / 12px no-repeat url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%23000" viewBox="0 0 16 16">%0A    <path d="M3.5 2a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-12a.5.5 0 0 0-.5-.5H12a.5.5 0 0 1 0-1h.5A1.5 1.5 0 0 1 14 2.5v12a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-12A1.5 1.5 0 0 1 3.5 1H4a.5.5 0 0 1 0 1h-.5Z"/>%0A    <path d="M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5Z"/>%0A</svg>%0A');mask:center / 12px no-repeat url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%23000" viewBox="0 0 16 16">%0A    <path d="M3.5 2a.5.5 0 0 0-.5.5v12a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-12a.5.5 0 0 0-.5-.5H12a.5.5 0 0 1 0-1h.5A1.5 1.5 0 0 1 14 2.5v12a1.5 1.5 0 0 1-1.5 1.5h-9A1.5 1.5 0 0 1 2 14.5v-12A1.5 1.5 0 0 1 3.5 1H4a.5.5 0 0 1 0 1h-.5Z"/>%0A    <path d="M10 .5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5.5.5 0 0 1-.5.5.5.5 0 0 0-.5.5V2a.5.5 0 0 0 .5.5h5A.5.5 0 0 0 11 2v-.5a.5.5 0 0 0-.5-.5.5.5 0 0 1-.5-.5Z"/>%0A</svg>%0A');visibility:visible;background-color:currentColor;transition:.1s .25s;transition-property:scale,opacity}.view-source__action-buttons .view-button:after{content:"";display:inline-block;vertical-align:top;margin-left:-12px;width:12px;height:12px;-webkit-mask:center / 16px no-repeat url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%23000" viewBox="0 0 16 16">%0A  <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>%0A</svg>%0A');mask:center / 16px no-repeat url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="%23000" viewBox="0 0 16 16">%0A  <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>%0A</svg>%0A');background-color:#6a9c11;transition:.1s .25s;transition-property:scale,opacity}.view-source__action-buttons .view-button.copied:before,.view-source__action-buttons .view-button:not(.copied):after{scale:0;opacity:0;transition-delay:0s;transition-duration:.2s}.view-source__lines{float:left;text-align:right;min-width:3ex;padding-right:1ex;margin-right:1.5ex;border-right:1px solid rgba(170,170,170,.4);color:#969696a6;font-family:var(--discovery-monospace-font-family);font-size:var(--discovery-monospace-font-size, 12px);line-height:var(--discovery-monospace-line-height, 1.5)}.view-source__lines>span{display:block}.view-source__source{flex-grow:1;font-family:var(--discovery-monospace-font-family);font-size:var(--discovery-monospace-font-size, 12px);line-height:var(--discovery-monospace-line-height, 1.5);color:var(--discovery-fmt-color)}.view-source__source .spotlight{background:#f5e69a;padding:1px 2px 2px}.discovery-root-darkmode .view-source__source .spotlight{background:#686246}.view-source__source .spotlight.error{background:#ffc9c9}.view-source__source .spotlight.def{background:#d3e7fb}.view-source__source .spotlight.ref{background:#cee99b}.view-source__source .spotlight.global-ref{background:#ffd8a3}.view-source__source a.spotlight{position:relative;color:inherit;text-decoration:none}.view-source__source a.spotlight:hover{background-color:#f3eec4;color:#a62!important;text-decoration:none}.view-source__source .spotlight-ignore{background:#ddd;background-image:repeating-linear-gradient(-45deg,transparent,transparent 6px,rgba(225,125,0,.1) 6px,rgba(225,125,0,.1) 12px,transparent 12px)}.view-source__source .token{background:none}.view-source__source .token.comment,.view-source__source .token.prolog,.view-source__source .token.doctype,.view-source__source .token.cdata,.view-source__source .token.quote{color:var(--discovery-fmt-comment-color)}.view-source__source .token.punctuation{color:var(--discovery-fmt-punctuation)}.view-source__source .token.namespace{opacity:.7}.view-source__source .token.boolean,.view-source__source .token.atom{color:var(--discovery-fmt-atom-color)}.view-source__source .token.number{color:var(--discovery-fmt-number-color)}.view-source__source .token.selector,.view-source__source .token.attr-value,.view-source__source .token.string,.view-source__source .token.string-2,.view-source__source .token.char,.view-source__source .token.builtin,.view-source__source .token.inserted{color:var(--discovery-fmt-string-color)}.view-source__source .token.property,.view-source__source .token.tag,.view-source__source .token.constant,.view-source__source .token.symbol,.view-source__source .token.deleted,.view-source__source .token.header{color:var(--discovery-fmt-property-color)}.view-source__source .token.regex,.view-source__source .token.important,.view-source__source .token.def,.view-source__source .token.variable,.view-source__source .token.variable-2{color:var(--discovery-fmt-variable-color)}.view-source__source .token.keyword,.view-source__source .token.atrule,.view-source__source .token.link,.view-source__source .token.url{color:var(--discovery-fmt-keyword-color)}.view-source__source .token.qualifier,.view-source__source .token.function,.view-source__source .token.attribute,.view-source__source .token.attr-name,.view-source__source .token.class-name{color:var(--discovery-fmt-qualifier)}.view-source__source .token.entity{color:var(--discovery-fmt-entity)}.view-source__source .token.image,.view-source__source .token.type{color:var(--discovery-fmt-type-color)}.view-source__source .token.discovery-view-name{background-color:var(--discovery-fmt-string-highlight-color);box-shadow:0 0 0 1px var(--discovery-fmt-string-highlight-color);color:#6a9c11}.view-text-match{background:#ffe80538;border-bottom:2px solid rgba(213,190,15,.8);line-height:1.2}.view-text-numeric .num-delim{padding-left:.14em}.view-column{padding-right:40px;min-width:150px}.view-column:last-child{padding-right:0}.view-columns{display:flex;flex-wrap:wrap}.view-columns:empty:before{content:attr(emptyText);color:#888}.view-list>.view-list-item>.view-expand{margin-bottom:1px}.view-expand+.view-expand{margin-top:1px}.view-list>.view-list-item:not(:last-child)>.view-expand.expanded{margin-bottom:4px}.view-expand.expanded+.view-expand{margin-top:4px}.view-expand>.header{--discovery-view-expand-trigger-size: 22px;display:flex;background-color:#c0c0c02d;background-color:color-mix(in srgb,var(--discovery-background-color),rgb(192,192,192) 17.5%);font-size:12px;cursor:pointer;margin-left:calc(var(--discovery-view-expand-trigger-size) + 1px)}.view-expand.trigger-outside>.header{margin-left:0}.view-expand>.header:hover{background-color:#a5a5a54d;background-color:color-mix(in srgb,var(--discovery-background-color),rgb(165,165,165) 30%)}.view-expand>.header>.header-content{flex:1;padding:2px 8px;overflow:hidden;text-overflow:ellipsis;pointer-events:none}.view-expand>.header>.trigger{order:-1;width:var(--discovery-view-expand-trigger-size, 20px);margin-left:calc(-1 * var(--discovery-view-expand-trigger-size) - 1px);text-align:center;background-color:inherit;background-image:linear-gradient(0deg,#96969626,#96969626)}.view-expand>.header>.trigger:before{background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">%0A    <path fill="%23888" d="M 3.71875 7.78125 L 2.28125 9.21875 L 11.28125 18.21875 L 12 18.90625 L 12.71875 18.21875 L 21.71875 9.21875 L 20.28125 7.78125 L 12 16.0625 Z "/>%0A</svg>%0A') no-repeat center;background-size:12px;transition:transform .15s ease-in;width:12px;height:100%;display:inline-block;vertical-align:middle;transform:rotate(-90deg);content:""}.view-expand.expanded>.header>.trigger:before{transform:rotate(0)}.view-hstack{display:flex;flex-wrap:wrap;gap:20px 40px}.view-hstack>*{min-width:240px}.view-page-header{position:sticky;z-index:100;top:-15px;left:0;padding:23px var(--discovery-page-padding-right) 6px var(--discovery-page-padding-left);margin:calc(-1 * var(--discovery-page-padding-top)) calc(-1 * var(--discovery-page-padding-right)) 20px calc(-1 * var(--discovery-page-padding-left));background-color:#ffffffeb;transition:background-color .25s ease-in}.discovery-root-darkmode .view-page-header{background-color:#242424eb}.page_overscrolled>.view-page-header{box-shadow:0 0 3px #0003;transition-property:background-color,box-shadow}.discovery-root-darkmode .page_overscrolled>.view-page-header{box-shadow:0 0 3px #00000080}@supports (backdrop-filter: blur(5px)) or (-webkit-backdrop-filter: blur(5px)){.view-page-header{background-color:#fffc;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.discovery-root-darkmode .view-page-header{background-color:#242424cc}}.view-page-header:before{content:"x";visibility:hidden;float:right;margin-left:10px;width:var(--discovery-nav-width, 200px)}.view-page-header__prelude .view-badge,.view-page-header__prelude .view-pill-badge{display:inline-block;padding:3px 8px}.view-page-header__prelude .view-badge .prefix,.view-page-header__prelude .view-badge .postfix,.view-page-header__prelude .view-pill-badge .prefix,.view-page-header__prelude .view-pill-badge .postfix{padding:5px 8px 6px;margin:-3px 6px -3px -8px}.view-page-header__prelude .view-badge .postfix,.view-page-header__prelude .view-pill-badge .postfix{padding:5px 8px 6px;margin:-3px -8px -3px 6px}.view-page-header .view-header{margin:0}.view-toc-section>.header{top:0;position:sticky;z-index:1;padding:9px 12px;line-height:1;font-size:14px;border:1px solid rgba(85,85,85,.2);border-width:1px 0;background-color:#fafafaeb;text-transform:capitalize;margin:0 0 -1px;transition:background-color .25s ease-in}.discovery-root-darkmode .view-toc-section>.header{background-color:#323232eb;border-color:#00000040}@supports (backdrop-filter: blur(5px)) or (-webkit-backdrop-filter: blur(5px)){.view-toc-section>.header{background-color:#fafafacc;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.discovery-root-darkmode .view-toc-section>.header{background-color:#323232cc;border-color:#00000040}}.view-toc-section>.header .view-badge,.view-toc-section>.header .view-pill-badge{text-transform:none;font-weight:400;margin-left:4px;margin-right:0}.view-toc-section>.content{padding:8px 0 8px 12px;white-space:nowrap}.discovery-view-popup{position:fixed;min-width:200px;box-sizing:border-box;z-index:300;overflow:hidden;overflow-y:auto;min-height:20px;border:1px solid rgba(176,176,176,.65);box-shadow:3px 3px 18px #0003;background-color:var(--discovery-background-color);transition-property:background-color;transition-duration:.25s;transition-timing-function:ease-in}.discovery-view-popup.inspect{z-index:2002}.discovery-view-popup.show-on-hover:not([data-pin-mode=popup-hover]):not(.pinned){pointer-events:none}.discovery-view-popup:not(.pinned)[data-pin-mode=trigger-click]:before,.discovery-view-popup:not(.pinned)[data-pin-mode=trigger-click]:after{content:"Click to pin this popup";display:block;visibility:hidden;left:0;right:0;z-index:100;padding:2px 8px;background-color:var(--discovery-background-color);background-image:linear-gradient(to bottom,#0000000d,#0000000d);color:#888;font-size:10px;text-align:center}.discovery-view-popup:not(.pinned)[data-pin-mode=trigger-click][data-v-to=top]:before{position:absolute;visibility:visible;bottom:0}.discovery-view-popup:not(.pinned)[data-pin-mode=trigger-click][data-v-to=bottom]:after{position:absolute;visibility:visible;top:0}.view-section{margin-bottom:30px}.view-signature [data-action]{display:inline-block;vertical-align:middle;margin-left:calc(2em / 9);padding:min(calc(1em / 3),5px) min(calc(3px + 1em / 3),8px);margin-top:max(1px - calc(1em / 3),-4px);color:#aaa6;background-color:#c3c3c30d;border:.85px solid rgba(141,141,141,.15);border-radius:3px;line-height:1;font-size:.75em;cursor:pointer}.discovery-root-darkmode .view-signature [data-action]{--discovery-view-signature-hover-color: #aaa;--discovery-view-signature-toggle-color: #72b372}.view-signature [data-action][data-enabled=true],.view-signature [data-action][data-enabled=true]:hover{color:var(--discovery-view-signature-toggle-color, #333);background:#97df9740;border-color:#89b18966}.view-signature [data-action=collapse]:before{content:"\2013"}.view-signature [data-action=dict-mode]:before{content:"dict"}.view-signature [data-action=sort-keys]:before{content:"keys \2193"}.view-signature [data-action]:hover{color:var(--discovery-view-signature-hover-color, #333);background:#bbbbbb40;border-color:#89898966}.discovery-view-popup.signature-details{padding:10px;min-width:340px}.discovery-view-popup.signature-details>*{max-width:450px}.discovery-view-popup.signature-details .signature-action-buttons{float:right;clear:both;position:relative;z-index:1;margin-top:2px}.discovery-view-popup.signature-details .signature-action-buttons .view-button{padding:0}.discovery-view-popup.signature-details .signature-action-buttons .view-button:after{content:"";display:inline-block;vertical-align:top;width:23px;aspect-ratio:1;mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">%0A    <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"/>%0A    <path d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8m0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"/>%0A</svg>%0A') no-repeat center / 14px;background-color:currentColor;opacity:.85}.discovery-view-popup.signature-details .signature-action-buttons .group:after{mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">%0A    <path d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2z"/>%0A    <path d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8m0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0M4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0"/>%0A</svg>%0A')}.discovery-view-popup.signature-details .path{position:relative;top:-4px;margin-bottom:-2px;font-size:12px;color:var(--discovery-fmt-property-color);opacity:.8}.discovery-view-popup.signature-details .view-h1{margin:20px 0 15px;line-height:1;font-size:180%}.discovery-view-popup.signature-details .view-h1.property{color:var(--discovery-fmt-property-color)}.discovery-view-popup.signature-details .view-h1.type{color:var(--discovery-fmt-type-color);margin-bottom:8px}.discovery-view-popup.signature-details :is(.path,.signature-action-buttons)+.view-h1,.discovery-view-popup.signature-details .view-h1:first-child{margin-top:0}.discovery-view-popup.signature-details .view-h1:last-child{margin-bottom:0}.discovery-view-popup.signature-details .usage-stat{display:inline-block;padding:0 2ex 0 1ex;font-size:12px;font-weight:400;color:#aaa}.discovery-view-popup.signature-details .usage-stat.optional:before{content:"optional ";color:var(--discovery-fmt-flag-color)}.discovery-view-popup.signature-details .num{color:var(--discovery-fmt-atom-color)}.discovery-view-popup.signature-details .pie-stat{display:flex;align-items:center;margin:10px 0}.discovery-view-popup.signature-details .pie-stat .list-header{font-size:11px;color:#aaa}.discovery-view-popup.signature-details .pie-stat>.view-block:last-child{overflow:hidden;padding-right:10px}.discovery-view-popup.signature-details .pie-stat .view-list-item{display:flex;align-items:baseline;white-space:nowrap}.discovery-view-popup.signature-details .pie-stat .dot{display:inline-block;min-width:var(--size);height:var(--size);border-radius:50%}.discovery-view-popup.signature-details .pie-stat .caption{overflow:hidden;text-overflow:ellipsis;margin:0 5px}.discovery-view-popup.signature-details .pie-stat .caption:empty:before{content:"empty string";padding:2px 4px 3px;border-radius:3px;background:#b4b4b433;color:#888;font-size:11px}.discovery-view-popup.signature-details .pie-stat .times{color:#aaa;font-size:11px}.discovery-view-popup.signature-details .pie-stat .pie{transform:rotate(-90deg);height:var(--size, 100px);width:var(--size, 100px);margin:0 20px 0 10px;border-radius:50%}.discovery-view-popup.signature-details .overview-stat{color:#aaa;font-size:12px}.discovery-view-popup.signature-details .overview-stat+.view-content-filter{margin-top:8px}.discovery-view-popup.signature-details .view-content-filter>.view-input{margin-bottom:4px}.discovery-view-popup.signature-details .view-menu-item{display:flex;align-items:baseline}.discovery-view-popup.signature-details .view-menu-item>.caption{flex:1}.discovery-view-popup.signature-details .view-menu-item>.caption:empty:before{content:"[empty string]";color:#888}.discovery-view-popup.signature-details .view-menu-item>.count{color:#aaa;font-size:11px}.discovery-view-popup.signature-details .struct-list>.view-list-item{position:relative}.discovery-view-popup.signature-details .struct-list>.view-list-item>.view-struct{overflow:hidden}.discovery-view-popup.signature-details .struct-list>.view-list-item>.view-struct.struct-expanded-value{overflow-x:auto}.discovery-view-popup.signature-details .struct-list>.view-list-item>.view-struct>.value:not(.struct-expanded-value)>.string:only-child{white-space:normal;word-break:break-all}.discovery-view-popup.signature-details .struct-list>.view-list-item>.view-struct>.value>.string-text-wrapper{padding-left:6px;margin-left:4px;overflow-x:auto}.discovery-view-popup.signature-details .struct-list>.view-list-item>.view-struct>.string-value-as-text .string-text{display:inline-block;white-space:pre}.discovery-view-popup.signature-details .struct-list>.view-list-item>.count{position:absolute;top:7px;right:0;color:#aaa;font-size:11px;padding:0 4px 1px;border-radius:3px 0 0 3px;background:var(--discovery-background-color);opacity:.9}.discovery-view-popup.signature-details .array-types,.discovery-view-popup.signature-details .set-types{padding:8px 0 8px 12px;margin-top:4px;border-left:2px solid rgba(-45,112,178,.8)}.discovery-view-popup.signature-details .array-types:before,.discovery-view-popup.signature-details .set-types:before{display:block;float:left;position:relative;top:-8px;left:-12px;padding:2px 4px;color:#fff;font-size:10px;line-height:12px;background:#0070b2cc}.discovery-view-popup.signature-details .array-types:before{content:"Array value types"}.discovery-view-popup.signature-details .set-types:before{content:"Set value types"}.view-signature{position:relative;margin:1px 0;padding:7px 32px 7px 8px;overflow:auto;font-family:var(--discovery-monospace-font-family);font-size:var(--discovery-monospace-font-size, 12px);line-height:var(--discovery-monospace-line-height, 1.5);background:#cdcdcd1a;color:var(--discovery-fmt-color);white-space:pre}.discovery-view-popup .view-signature{background:none}.view-signature .expand{padding:2px;margin:0 -2px}.view-signature .expand:hover{color:var(--discovery-fmt-hover-color);background-color:#bbbbbb40;border-radius:4px;cursor:pointer}.view-signature .count{display:inline-block;vertical-align:middle;padding-left:6px;padding-bottom:2px;color:#99999980;font-size:.916em;line-height:1}.view-signature .count:before{content:attr(data-value)}.view-signature .count:hover{color:inherit}.view-signature .object-entries{background-image:linear-gradient(to bottom,#bbbbbb26,#bbbbbb26);background-size:1px calc(100% - 3px);background-position:calc(3px + 1.15ex * var(--object-entries-offset, 0)) 1px;background-repeat:no-repeat;background-attachment:local;background-origin:content-box}.view-signature .property{padding:2px;margin:0 -2px;color:var(--discovery-fmt-property-color);cursor:pointer}.view-signature .property.discovery-view-popup-active,.view-signature .property:hover{background-color:#aaa3}.view-signature .optional{color:var(--discovery-fmt-flag-color);padding-left:2px}.view-signature .type{padding:2px;margin:0 -2px;color:var(--discovery-fmt-type-color);cursor:pointer}.view-signature .type.discovery-view-popup-active,.view-signature .type:hover{background-color:#aaa3}.view-signature .type.discovery-view-popup-active{position:relative;z-index:1}.view-struct .entry-line{white-space:nowrap;padding-left:4ch}.view-struct .entry-line[data-index]:before{content:attr(data-index);position:absolute;padding-left:4px;padding-bottom:4px;padding-top:4px;border-left:1px solid rgba(187,187,187,.15);border-color:color-mix(in srgb,color-mix(in srgb,var(--discovery-background-color),#cdcdcd 10%),#bbb 15%);transform:translate(-26px,18px) rotate(-90deg);transform-origin:left top;font-size:10px;line-height:10px;color:#99999959}.view-struct .label{margin-left:-4ch}.view-struct .property{color:var(--discovery-fmt-property-color)}.view-struct .value{white-space:normal;vertical-align:top}.view-struct .keyword{color:var(--discovery-fmt-atom-color)}.view-struct .value>.number{color:var(--discovery-fmt-number-color)}.view-struct .value>.number .num-delim{padding-left:2px}.view-struct .value>.string,.view-struct .value>.string a{color:var(--discovery-fmt-string-color);text-decoration-color:var(--discovery-fmt-string-underline-color);white-space:pre}.view-struct .value>.string a:hover{color:var(--discovery-fmt-string-hover-color);text-decoration-color:currentColor}.view-struct .value>.regexp{color:var(--discovery-fmt-string-color);white-space:pre}.view-struct .value-size,.view-struct .string-length{display:inline-block;vertical-align:middle;padding-left:6px;padding-bottom:2px;color:#99999980;font-size:.916em;line-height:1}.view-struct .value-size:hover,.view-struct .string-length:hover{color:inherit}.view-struct .value-size>.num-delim,.view-struct .string-length>.num-delim{padding-left:2px}.view-struct .string-text-wrapper{display:block;padding:4px 4px 4px 5.5ex}.view-struct .string-text{display:inline;white-space:pre-wrap;padding:2px 4px 1.5px;background:var(--discovery-fmt-string-highlight-color);color:var(--discovery-fmt-string-color);-webkit-box-decoration-break:clone;box-decoration-break:clone}.view-struct .string-value-as-text .string-text{display:block;white-space:pre-wrap;padding-top:0;padding-bottom:0;background:#9191911a;color:var(--discovery-fmt-color)}.view-struct .view-as-table>.entry-line,.view-struct .view-as-table>.more-buttons{display:none}.view-struct .more{color:#7f7f7fcc;white-space:nowrap}.view-struct .more>.num-delim{padding-left:2px}.view-struct .string>.more.suffix{margin:0 1px 0 3px}.view-struct .string>.more.suffix:before{content:"\2026";padding-right:calc(1ch - 4px)}.view-struct .string>.more.suffix:after{content:" more"}.view-struct .string>.more.prefix{padding:0 .6ch 0 .4ch}.view-struct .string>.more.prefix:after{content:"\2026"}.view-struct .value>.more-buttons{padding-left:4ch}.view-struct .string>.match,.view-struct .string-text>.match{background-color:#f5e69a;padding-top:1px;border-bottom:1px solid transparent}.discovery-root-darkmode .view-struct .string>.match,.discovery-root-darkmode .view-struct .string-text>.match{background-color:#565638;border-color:#a7a73b}.view-struct .value>.view-table{margin-top:2px;margin-left:4ch;margin-right:4px;padding:0 1px 1px;font-family:var(--discovery-font-family);background-color:var(--discovery-background-color);color:var(--discovery-color)}.view-struct .value>.view-table .more-buttons{margin:2px 5px 4px}.view-struct .struct-action-button{display:inline-block;vertical-align:middle;margin-left:calc(2em / 9);padding:min(calc(1em / 3),5px) min(calc(3px + 1em / 3),8px);margin-top:max(1px - calc(1em / 3),-4px);color:#aaa6;background-color:#c3c3c30d;border:.85px solid rgba(141,141,141,.15);border-radius:3px;line-height:1;font-size:.75em;cursor:pointer}.discovery-root-darkmode .view-struct .struct-action-button{--discovery-view-struct-hover-color: #aaa;--discovery-view-struct-toggle-color: #72b372}.view-struct .struct-action-button:hover,.view-struct .discovery-view-popup-active{color:var(--discovery-view-struct-hover-color, #333);background-color:#bbbbbb40;border-color:#89898966}.view-struct .sort-keys>.struct-action-button[data-action=toggle-sort-keys],.view-struct .string-value-as-text>.struct-action-button[data-action=toggle-string-mode],.view-struct .view-as-table>.struct-action-button[data-action=toggle-view-as-table]{color:var(--discovery-view-struct-toggle-color, #686);background-color:#97df9740;border-color:#89b18966}.view-struct .struct-action-button[data-action=show-signature]{cursor:default}@media (hover:none),(hover:on-demand){.view-struct .struct-action-button{padding:3px 20px;color:#333;background-color:#fff;border-color:#64646433}.discovery-root-darkmode .view-struct .struct-action-button{color:#aaa;background-color:#50505080}.view-struct .struct-action-button[data-action=show-signature]{cursor:pointer}}.discovery-view-popup:not(.discovery-inspect-details-popup) .view-struct .struct-action-button[data-action=show-signature]{display:none}.view-struct .view-as-table>.struct-action-button[data-action=toggle-sort-keys]{display:none}.view-struct .struct-action-button[data-action=collapse]:before{content:"\2013"}.view-struct .struct-action-button[data-action=show-signature]:before{content:"\1d54a"}.view-struct .struct-action-button[data-action=value-actions]:before{content:"\192"}.view-struct .struct-action-button[data-action=toggle-sort-keys]:before{content:"keys \2193"}.view-struct .struct-action-button[data-action=toggle-string-mode]:before{content:"as text"}.view-struct .struct-action-button[data-action=toggle-view-as-table]:before{content:"as table"}.discovery-view-popup.view-struct-actions-popup .notes{display:inline;color:#666}.discovery-view-popup.view-struct-actions-popup .notes:before{content:" "}.view-struct .value-annotations{margin-left:6px}.view-struct .value+.value-annotations{margin-left:1.5ex}.view-struct .value-annotation{display:inline-block;vertical-align:middle;padding:0 .4em;margin-top:calc(-1em / 6);font-size:.85em;line-height:1.6;border-radius:3px;color:#aaa}.view-struct .value-annotation+.value-annotation{margin-left:2px}.view-struct .value-annotation[href]:focus-visible{outline:none;background-color:#bbbbbb40;box-shadow:0 0 0 3px #bbbbbb40}.view-struct .value-annotation.icon:before{content:"";display:inline-block;vertical-align:text-bottom;height:14px;width:14px;background:var(--annotation-image, ) var(--annotation-image-position, 50% center) no-repeat;background-size:var(--annotation-image-size, 14px)}.view-struct .value-annotation.icon.has-text:before{margin-right:var(--annotation-image-margin, 2px)}.view-struct .value-annotation.before+.value{margin-left:2px}.view-struct .value-annotation.style-none,.view-struct .value-annotation.style-default{--annotation-bg-gradient-from: white;--annotation-bg-gradient-to: rgba(255, 255, 255, 0)}.discovery-root-darkmode .view-struct .value-annotation.style-default{--annotation-bg-gradient-from: rgba(33, 33, 33, .5);--annotation-bg-gradient-to: rgba(33, 33, 33, 0)}.view-struct .value-annotation.before.style-default{background:linear-gradient(to left,var(--annotation-bg-gradient-from),var(--annotation-bg-gradient-to));border-right:1px solid}.view-struct .value-annotation.after.style-default{background:linear-gradient(to right,var(--annotation-bg-gradient-from),var(--annotation-bg-gradient-to));border-left:1px solid}.view-struct .value-annotation.style-badge{text-decoration:none;background:#9b9b9b26;color:#999;border-radius:3px;user-select:none}.view-struct .value-annotation.style-badge[href]{background:#379be629}.view-struct .value-annotation.style-badge[href]:hover{color:#89a0bd;text-decoration:underline;text-decoration-color:#89a0bd88}.view-struct .value-annotation .num-delim{padding-left:2px}.view-struct{position:relative;margin:1px 0;padding:7px 8px;overflow:auto;font-family:var(--discovery-monospace-font-family);font-size:var(--discovery-monospace-font-size, 12px);line-height:var(--discovery-monospace-line-height, 1.5);background-color:#cdcdcd1a;color:var(--discovery-fmt-color);white-space:nowrap}.view-struct.struct-expand{cursor:pointer}.view-struct .struct-expand-value{display:inline-block;vertical-align:top;white-space:nowrap!important;border-radius:4px;cursor:pointer}.view-struct.struct-expand:hover,.view-struct.struct-expanded-value .struct-expand-value:hover{color:var(--discovery-fmt-hover-color);background-color:#bbbbbb40}.view-struct.struct-expanded-value,.view-struct .struct-expanded-value{background-image:linear-gradient(to bottom,#bbbbbb26,#bbbbbb26);background-size:1px calc(100% - 36px);background-position:3px 18px;background-repeat:no-repeat;background-attachment:local;background-origin:content-box}.discovery-view-popup.view-struct-actions-popup .error{font-size:11px;color:#d61f1fc4;text-shadow:.2px 0px .3px rgba(255,255,255,.8)}.discovery-root-darkmode .discovery-view-popup.view-struct-actions-popup .error{color:#e66;text-shadow:none}.discovery-view-popup.view-struct-actions-popup .num-delim{padding-left:3px}.discovery-view-popup.view-struct-actions-popup .view-menu-item+.view-menu-item.group-start:not(:first-child){border-top:1px solid #8888}.discovery-view-popup.view-struct-signature-popup.computing{padding:8px;line-height:1px;animation:view-struct-signature-computing .5s forwards linear}@keyframes view-struct-signature-computing{0%{opacity:0}}.discovery-view-popup.view-struct-signature-popup.computing:before{--color: #f6f61cb5;content:"";display:inline-block;vertical-align:top;width:10px;height:10px;border:2px solid var(--color);border-radius:50%;clip-path:inset(0px 0px 50% 50%);animation:view-struct-signature-computing-spinner .65s forwards infinite linear}@keyframes view-struct-signature-computing-spinner{to{rotate:360deg}}.view-table-cell{padding:2px 8px;height:19px;vertical-align:top}.view-table-cell.number{text-align:right}.view-table-cell .num-delim{padding-left:2px}.view-table-cell.complex,.view-table-cell.keyword{color:#888}.view-table-cell.details{padding-left:14px;position:relative;background-clip:padding-box}.view-table-cell.details:before{content:".";color:transparent;display:inline-block;position:absolute;left:3px;top:3px;width:9px;transform:rotate(-90deg);transition:.12s ease-in;transition-property:transform,opacity;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">%0A    <path fill="%23888" d="M 3.71875 7.78125 L 2.28125 9.21875 L 11.28125 18.21875 L 12 18.90625 L 12.71875 18.21875 L 21.71875 9.21875 L 20.28125 7.78125 L 12 16.0625 Z "/>%0A</svg>%0A');background-repeat:no-repeat;background-position:center;background-size:9px;opacity:.5}.view-table-cell.details:hover{background-color:#b4b4b433;cursor:pointer}.view-table-cell.details-expanded{background-image:linear-gradient(to top,rgba(170,170,170,.2),transparent),linear-gradient(to top,rgba(170,170,170,.2),transparent);background-repeat:no-repeat;background-size:1px 100%;background-position:left top,right top;border-bottom:none!important}.view-table-cell.details-expanded:hover{background-color:#b4b4b433}.view-table-cell.details.details-expanded:before{transform:rotate(0);opacity:1}.view-table-cell-details-row>.view-cell-details-content{padding:1px;border:1px solid rgba(170,170,170,.25);border-top:none}.view-table-cell-details-row>.view-cell-details-content>:first-child{margin-top:0!important}.view-table-cell-details-row>.view-cell-details-content>:last-child{margin-bottom:0!important}.view-table-cell>.view-struct,.view-table-cell>.view-struct:hover{margin:-1px -8px -2px;padding:2px 8px 1px}.view-table-cell>.view-struct{background-color:transparent}.view-table-row:not(:last-child)>td{border-bottom:1px solid rgba(170,170,170,.2)}.view-table{font-size:12px;line-height:19px;border-spacing:0}.view-table>thead{position:sticky;top:0;z-index:1}.view-table>thead th{padding:2px 8px;font-weight:400;text-align:left;background:#8d8d8d26 no-repeat right 1px center;background-color:color-mix(in srgb,var(--discovery-background-color),#8d8d8d 15%);background-size:16px;background-clip:padding-box;border:solid var(--discovery-background-color);border-width:1px 1px 1px 0}.view-table>thead th:last-child{border-right:none}.view-table>thead th.sortable{padding-right:18px;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 172 172">%0A    <path fill="rgba(153, 153, 153, 0.4)" d="M86,11.21192l-64.03808,64.03808h128.07617zM86,26.41308l38.08692,38.08692h-76.17383zM21.96192,86l64.03808,64.03808l64.03808,-64.03808zM47.91308,96.75h76.17383l-38.08692,38.08692z"/>%0A</svg>%0A');cursor:pointer}.view-table>thead th.sortable:not(.asc):not(.desc){background-size:14px;background-position:right 2px center}.view-table>thead th.sortable.asc{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">%0A    <path fill="%23888" d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"/>%0A</svg>%0A')}.view-table>thead th.sortable.desc{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" preserveAspectRatio="xMidYMid meet">%0A    <path fill="%23888" d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z" />%0A</svg>%0A')}.view-table>thead th.sortable:hover{background-color:#8d8d8d4d;background-color:color-mix(in srgb,var(--discovery-background-color),rgba(141,141,141) 30%)}.view-table-cell-details-row>.view-cell-details-content>.view-table:first-child{margin-top:-1px!important}.view-tree-leaf{--view-leaf-lines-offset: 0;position:relative;display:grid;grid-template-columns:20px auto;grid-template-areas:"toggle content" "toggle children";background-image:linear-gradient(to right,#99999980,#99999980),linear-gradient(to right,#99999980,#99999980);background-size:1px calc(1em - 7px * var(--view-leaf-lines-offset, 0)),1px 100%;background-position:5px top,5px calc(1em + 6px * var(--view-leaf-lines-offset, 0));background-repeat:no-repeat}.view-tree-leaf.has-children:not(.non-collapsible),.view-tree-leaf.has-children.collapsed{--view-leaf-lines-offset: 1}.view-tree-leaf.last,:not(.incomplete)>.view-tree-leaf:last-child{background-image:linear-gradient(to right,#99999980,#99999980)}.view-tree-leaf-toggle{grid-area:toggle;visibility:hidden;display:inline-block;position:relative;top:1em;margin-top:-3px;width:9px;height:9px;border-radius:2px;border:1px solid currentColor;margin-right:9px;font-size:10px;line-height:8px;text-align:center;color:#7f7f7fcc;cursor:pointer}.view-tree-leaf-toggle:hover{color:gray}.view-tree-leaf.has-children>.view-tree-leaf-toggle{visibility:visible}.view-tree-leaf.non-collapsible:not(.collapsed)>.view-tree-leaf-toggle{visibility:hidden}.view-tree-leaf-toggle:before{content:"\2013"}.view-tree-leaf.collapsed>.view-tree-leaf-toggle:before{content:"+"}.view-tree-leaf-toggle:after{content:"";visibility:visible;position:absolute;top:4px;left:5px;right:-6px;height:1px;background-color:#99999980;pointer-events:none}.view-tree-leaf.has-children:not(.non-collapsible)>.view-tree-leaf-toggle:after,.view-tree-leaf.has-children.collapsed>.view-tree-leaf-toggle:after{left:11px}.view-tree-leaf-content{grid-area:content;display:inline-block}.view-tree-leaf-content:before{content:"\200b";float:left}.view-tree-leaf-content:empty:before{content:"<empty>";color:#888}.view-tree-leaf-children{grid-area:children;list-style:none;margin:0;padding:0}.view-tree-leaf.collapsed>.view-tree-leaf-children{display:none}.view-tree{list-style:none;margin:0;padding:0;font-size:13px;line-height:24px}.view-tree:empty:before{content:attr(emptyText);color:#888}.more-buttons{display:flex;flex-wrap:wrap;gap:5px;margin-top:2px}.more-buttons .more-button{vertical-align:top;color:var(--discovery-color, black);min-height:0;padding:4px 8px;margin:0;background-color:#ffffff1a;border:1px solid rgba(127,127,127,.4);border-radius:3px;font-size:11px;line-height:12px;font-family:var(--discovery-ui-font-family);cursor:pointer}@supports not (gap: 5px){.more-buttons{margin-top:0}.more-buttons .more-button{margin-top:4px;margin-right:5px}}.more-buttons .more-button:hover,.more-buttons .more-button:active,.more-buttons .more-button:focus{background-color:#dddddd4d;border-color:#aaa9;outline:none}.more-buttons .more-button:active{background-color:#83838340;border-color:#7f7f7f66}.page-default h1.no-data-loaded{margin-top:0}.page-default h1.no-data-loaded:before{display:inline-block;vertical-align:middle;position:relative;top:-5px;margin-right:10px;width:42px;height:42px;content:"";background:var(--discovery-app-icon) no-repeat center;background-size:42px}.welcome-block{margin-top:-10px}.welcome-block .upload-data{margin-top:1.5em;margin-left:-13px;background-color:#00000008;border:1px dashed #a8a8a8;padding:12px;border-radius:7px;max-width:620px}.discovery-root-darkmode .welcome-block .upload-data{background-color:#00000014;border-color:#555}.welcome-block .upload-notes{font-size:82%;color:#aaa;padding:10px 0 0 3px}.page-discovery>.discovery-header{display:flex;flex-direction:row;line-height:1.2;position:sticky;top:-2px;z-index:100;padding:22px calc(210px + var(--discovery-page-padding-right)) 7px var(--discovery-page-padding-left);padding:22px calc(var(--discovery-page-padding-right) + 6px + max(42px * 3,var(--discovery-nav-width, 0px))) 7px var(--discovery-page-padding-left);margin:0 calc(-1 * var(--discovery-page-padding-right)) 18px calc(-1 * var(--discovery-page-padding-left));background-color:#ffffffeb;transition:background-color .25s ease-in}.discovery-root-darkmode .page-discovery>.discovery-header{background-color:#242424eb}.page-discovery.page_overscrolled>.discovery-header{box-shadow:0 0 3px #0003;transition-property:background-color,box-shadow}.discovery-root-darkmode .page-discovery.page_overscrolled>.discovery-header{box-shadow:0 0 3px #00000080}@supports (backdrop-filter: blur(5px)) or (-webkit-backdrop-filter: blur(5px)){.page-discovery>.discovery-header{background-color:#fffc;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.discovery-root-darkmode .page-discovery>.discovery-header{background-color:#242424cc}}.page-discovery>.discovery-header .discovery-header-text{flex:1;position:relative;font-size:220%}.page-discovery>.discovery-header .discovery-header-text:before{content:attr(data-title);white-space:pre}.page-discovery>.discovery-header .discovery-header-text:focus-within:before{visibility:hidden}.page-discovery>.discovery-header .discovery-header-text input{font:inherit;color:inherit;position:absolute;top:0;left:0;width:100%;margin:-1px;padding:0;opacity:.0001;border:1px solid #aaa;border-color:transparent transparent #aaa transparent;background-color:transparent;transition:box-shadow .15s ease-out}.page-discovery>.discovery-header .discovery-header-text input:hover,.page-discovery>.discovery-header .discovery-header-text input:focus{opacity:1}.page-discovery>.discovery-header .discovery-header-text input:focus{border-bottom-color:#0af;box-shadow:0 3px #0af3!important;outline:0}.page-discovery>.discovery-header .discovery-header-text .timestamp{display:block;font-size:10px;color:#99999980;margin-top:4px}.page-discovery>.discovery-actions{position:sticky;top:34px;transition:top .25s;z-index:101;display:flex;justify-content:flex-end;margin-top:19px;margin-bottom:-61px;pointer-events:none}.page-discovery>.discovery-actions button{width:42px;height:42px;background:center no-repeat;border-radius:5px;border:none;text-indent:-500px;overflow:hidden;cursor:pointer;opacity:.5;outline:none;pointer-events:auto}.page-discovery>.discovery-actions button.discovery-view-popup-active,.page-discovery>.discovery-actions button:hover,.page-discovery>.discovery-actions button:focus{background-color:#00000008;opacity:1}.page-discovery>.discovery-actions button.toggle-fullscreen{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">%0A    <path stroke="%23888" stroke-width=".5" fill="%23888" d="M -3 8 C -2.734375 8 -2.48046875 8.10546875 -2.29296875 8.29296875 C -2.10546875 8.48046875 -2 8.734375 -2 9 L -2 26.265625 C -2.29296875 26.09765625 -2.63671875 26 -3 26 L -4 26 L -4 10 L -46 10 L -46 44 L -29.999998092651367 44 L -29.999998092651367 45 C -29.999998092651367 45.36328125 -29.902341842651367 45.70703125 -29.734373092651367 46 L -47 46 C -47.265625 46 -47.51953125 45.89453125 -47.70703125 45.70703125 C -47.89453125 45.51953125 -48 45.265625 -48 45 L -48 9 C -48 8.734375 -47.89453125 8.48046875 -47.70703125 8.29296875 C -47.51953125 8.10546875 -47.265625 8 -47 8 Z M -36 13 C -35.640625 12.99609375 -35.3046875 13.18359375 -35.12109375 13.49609375 C -34.94140625 13.80859375 -34.94140625 14.19140625 -35.12109375 14.50390625 C -35.3046875 14.81640625 -35.640625 15.00390625 -36 15 L -39.5859375 15 L -29.292966842651367 25.29296875 C -29.031248092651367 25.54296875 -28.925779342651367 25.91796875 -29.019529342651367 26.265625 C -29.109373092651367 26.6171875 -29.382810592651367 26.890625 -29.734373092651367 26.98046875 C -30.082029342651367 27.07421875 -30.457029342651367 26.96875 -30.707029342651367 26.70703125 L -41 16.4140625 L -41 20 C -40.99609375 20.359375 -41.18359375 20.6953125 -41.49609375 20.87890625 C -41.80859375 21.05859375 -42.19140625 21.05859375 -42.50390625 20.87890625 C -42.81640625 20.6953125 -43.00390625 20.359375 -43 20 L -43 13 Z M -3 28 C -2.44921875 28 -2 28.44921875 -2 29 L -2 45 C -2 45.55078125 -2.44921875 46 -3 46 L -26.999998092651367 46 C -27.550779342651367 46 -27.999998092651367 45.55078125 -27.999998092651367 45 L -27.999998092651367 29 C -27.999998092651367 28.44921875 -27.550779342651367 28 -26.999998092651367 28 Z M -4 30 L -25.999998092651367 30 L -25.999998092651367 44 L -4 44 Z" transform="matrix(1 0 0 1 50 0)" />%0A</svg>%0A');background-size:25px}.page-discovery>.discovery-actions button.edit-mode{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 128 128">%0A    <path d="M84.7,39.1l-37.3,64.4c-3.1,5.4-7.4,10-12.6,13.4L24,124l0.8-12.9c0.4-6.2,2.2-12.2,5.3-17.6l37.3-64.4" style="fill:%23FFFFFF;"></path>%0A    <path d="M60.4,44.1c-0.5,0-1-0.1-1.5-0.4c-1.4-0.8-1.9-2.7-1.1-4.1l7-12c0.8-1.4,2.7-1.9,4.1-1.1s1.9,2.7,1.1,4.1l-7,12C62.4,43.5,61.4,44.1,60.4,44.1z" style="fill:%23FFFFFF;"></path>%0A    <path d="M77.7,54.1c-0.5,0-1-0.1-1.5-0.4c-1.4-0.8-1.9-2.7-1.1-4.1l7-12c0.8-1.4,2.7-1.9,4.1-1.1c1.4,0.8,1.9,2.7,1.1,4.1l-7,12C79.7,53.5,78.7,54.1,77.7,54.1z" style="fill:%23FFFFFF;"></path>%0A    <path d="M47.2,94.8c-0.5,0-1-0.1-1.5-0.4c-1.4-0.8-1.9-2.7-1.1-4.1l25-43.4c0.8-1.4,2.6-1.8,4.1-1.1c5.6,2.7,5.6,2.7,5.6,2.7L49.9,93.4C49.3,94.4,48.2,94.8,47.2,94.8z" style="fill:%23FCCA3D;"></path>%0A    <path fill="%23888" stroke="%23888" stroke-width=".5" d="M24,127c-0.5,0-1-0.1-1.5-0.4c-1-0.6-1.6-1.6-1.5-2.8l0.8-12.9c0.4-6.6,2.4-13.2,5.7-18.9l30.3-52.4c0.8-1.4,2.7-1.9,4.1-1.1c1.4,0.8,1.9,2.7,1.1,4.1L32.7,95c-2.9,4.9-4.5,10.6-4.9,16.3l-0.4,6.9l5.8-3.8C38,111.3,42,107,44.9,102l30.3-52.4c0.8-1.4,2.7-1.9,4.1-1.1c1.4,0.8,1.9,2.7,1.1,4.1L50,105c-3.3,5.8-8,10.7-13.5,14.4l-10.8,7.1C25.2,126.8,24.6,127,24,127z"></path>%0A    <path fill="%23888" stroke="%23888" stroke-width=".5" d="M89,127H49c-1.7,0-3-1.3-3-3s1.3-3,3-3h40c1.7,0,3,1.3,3,3S90.7,127,89,127z"></path>%0A    <circle fill="%23888" stroke="%23888" stroke-width=".5" cx="104" cy="124" r="3"></circle>%0A    <path d="M87.7,36.7c-0.5,0-1-0.1-1.5-0.4c-1.4-0.8-1.9-2.7-1.1-4.1c0.9-1.6,1.2-3.5,0.7-5.3s-1.6-3.3-3.3-4.2c-1.6-0.9-3.5-1.2-5.3-0.7s-3.3,1.6-4.3,3.3c-0.8,1.4-2.7,1.9-4.1,1.1s-1.9-2.7-1.1-4.1c3.6-6.2,11.6-8.3,17.8-4.8c3,1.7,5.2,4.5,6.1,7.9s0.4,6.9-1.3,9.9C89.7,36.2,88.7,36.7,87.7,36.7z" style="fill:%23FF5576;"></path>%0A    <path d="M87.7,33.7c2.8-4.8,1.1-10.9-3.7-13.7l0,0c-4.8-2.8-10.9-1.1-13.7,3.7l-3.7,6.5l17.3,10L87.7,33.7z" style="fill:%23FF5576;"></path>%0A    <path d="M83.9,43.2c-0.5,0-1-0.1-1.5-0.4l-17.3-10c-0.7-0.4-1.2-1.1-1.4-1.8c-0.2-0.8-0.1-1.6,0.3-2.3l3.7-6.5c3.6-6.2,11.6-8.3,17.8-4.8c3,1.7,5.2,4.5,6.1,7.9s0.4,6.9-1.3,9.9l-3.7,6.5c-0.4,0.7-1.1,1.2-1.8,1.4C84.4,43.2,84.2,43.2,83.9,43.2z M70.7,29.1l12.1,7l2.2-3.9l0,0c0.9-1.6,1.2-3.5,0.7-5.3s-1.6-3.3-3.3-4.2c-3.3-1.9-7.6-0.8-9.6,2.6L70.7,29.1z" style="fill:%23FF5576;"></path>%0A    <path d="M83.9,43.2c-0.5,0-1-0.1-1.5-0.4c-1.4-0.8-1.9-2.7-1.1-4.1l3.7-6.5c1-1.8,1.2-4,0.5-6c-0.6-1.6,0.2-3.3,1.8-3.9c1.6-0.6,3.3,0.2,3.9,1.8c1.4,3.7,1,7.7-0.9,11.1l-3.7,6.5C86,42.7,85,43.2,83.9,43.2z" style="fill:%23D32F56;"></path>%0A</svg>%0A');background-size:20px}.page-discovery>.discovery-actions button.edit-mode:not(.disabled){opacity:1}.page-discovery>.discovery-actions button.edit-mode.disabled{filter:grayscale()}.page-discovery>.discovery-actions button.share{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">%0A    <path stroke="%23888" stroke-width=".5" fill="%23888"  d="M 28.875 11 C 28.371094 11.0625 27.996094 11.492188 28 12 L 28 19.0625 C 16.488281 19.414063 10.28125 25.507813 7.21875 31.5625 C 4.113281 37.699219 4.003906 43.683594 4 43.875 C 4 43.875 4 43.9375 4 43.9375 L 4 44 C 3.984375 44.550781 4.417969 45.015625 4.96875 45.03125 C 5.519531 45.046875 5.984375 44.613281 6 44.0625 C 6 44.0625 6 44 6 44 C 6.007813 43.90625 6.230469 40.878906 9.09375 37.65625 C 11.90625 34.496094 17.394531 31.308594 28 31.09375 L 28 38 C 28 38.382813 28.21875 38.734375 28.566406 38.902344 C 28.914063 39.070313 29.324219 39.023438 29.625 38.78125 L 45.625 25.78125 C 45.863281 25.589844 46 25.304688 46 25 C 46 24.695313 45.863281 24.410156 45.625 24.21875 L 29.625 11.21875 C 29.414063 11.046875 29.144531 10.96875 28.875 11 Z M 30 14.09375 L 43.40625 25 L 30 35.90625 L 30 30 C 30 29.449219 29.550781 29 29 29 C 17.246094 29 10.910156 32.613281 7.59375 36.34375 C 7.46875 36.484375 7.398438 36.609375 7.28125 36.75 C 7.703125 35.375 8.257813 33.90625 9 32.4375 C 11.917969 26.671875 17.488281 21 29 21 C 29.550781 21 30 20.550781 30 20 Z " />%0A</svg>%0A');background-size:25px}.discovery[data-dzen] .page-discovery>.discovery-actions{top:20px}.discovery[data-dzen] .page-discovery>.discovery-actions button.toggle-fullscreen{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">%0A    <path stroke="%23888" stroke-width=".5" fill="%23888" d="M -3 8 C -2.734375 8 -2.48046875 8.10546875 -2.29296875 8.29296875 C -2.10546875 8.48046875 -2 8.734375 -2 9 L -2 26.265625 C -2.29296875 26.09765625 -2.63671875 26 -3 26 L -4 26 L -4 10 L -46 10 L -46 44 L -29.999998092651367 44 L -29.999998092651367 45 C -29.999998092651367 45.36328125 -29.902341842651367 45.70703125 -29.734373092651367 46 L -47 46 C -47.265625 46 -47.51953125 45.89453125 -47.70703125 45.70703125 C -47.89453125 45.51953125 -48 45.265625 -48 45 L -48 9 C -48 8.734375 -47.89453125 8.48046875 -47.70703125 8.29296875 C -47.51953125 8.10546875 -47.265625 8 -47 8 Z M -35.98592758178711 27.01408576965332 C -36.34530258178711 27.01799201965332 -36.68124008178711 26.83049201965332 -36.86483383178711 26.51799201965332 C -37.04452133178711 26.20549201965332 -37.04452133178711 25.82267951965332 -36.86483383178711 25.51017951965332 C -36.68124008178711 25.19767951965332 -36.34530258178711 25.01017951965332 -35.98592758178711 25.01408576965332 L -32.39999008178711 25.01408576965332 L -42.692962646484375 14.721118927001953 C -42.954681396484375 14.471118927001953 -43.060150146484375 14.096118927001953 -42.966400146484375 13.748462677001953 C -42.876556396484375 13.396900177001953 -42.603118896484375 13.123462677001953 -42.251556396484375 13.033618927001953 C -41.903900146484375 12.939868927001953 -41.528900146484375 13.045337677001953 -41.278900146484375 13.307056427001953 L -30.98592185974121 23.60002326965332 L -30.98592185974121 20.01408576965332 C -30.98982810974121 19.65471076965332 -30.80232810974121 19.31877326965332 -30.48982810974121 19.13517951965332 C -30.17732810974121 18.95549201965332 -29.79451560974121 18.95549201965332 -29.48201560974121 19.13517951965332 C -29.16951560974121 19.31877326965332 -28.98201560974121 19.65471076965332 -28.98592185974121 20.01408576965332 L -28.98592185974121 27.01408576965332 Z M -3 28 C -2.44921875 28 -2 28.44921875 -2 29 L -2 45 C -2 45.55078125 -2.44921875 46 -3 46 L -26.999998092651367 46 C -27.550779342651367 46 -27.999998092651367 45.55078125 -27.999998092651367 45 L -27.999998092651367 29 C -27.999998092651367 28.44921875 -27.550779342651367 28 -26.999998092651367 28 Z M -4 30 L -25.999998092651367 30 L -25.999998092651367 44 L -4 44 Z" transform="matrix(1 0 0 1 50 -7.10543e-15)" />%0A</svg>%0A')}.page-discovery>.discovery-editor .discovery-editor-tabs{overflow:hidden;display:inline-block;vertical-align:top}.page-discovery>.discovery-editor .data-query-result:before,.page-discovery>.discovery-editor .discovery-editor-tabs:before{padding:3px 4px;width:40px;text-align:right;box-sizing:border-box;font-size:11px;color:#8d8d8dbf}.page-discovery>.discovery-editor .discovery-editor-tab{display:inline-block;margin:0 1px 1px 0;padding:2px 12px;background:#c8c8c833;font-size:12px;user-select:none;cursor:pointer}.page-discovery>.discovery-editor .discovery-editor-tab.active{margin-bottom:0;background:#6cbcf126;cursor:default}.page-discovery>.discovery-editor .discovery-editor-tab:not(.active):hover{background:#bbb6}.page-discovery>.discovery-editor .discovery-editor-tab:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px}.page-discovery>.discovery-editor .discovery-editor-tab:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px}.page-discovery>.discovery-editor .editor-toolbar{display:flex;flex-direction:row;justify-content:flex-end;align-items:baseline;gap:10px}.page-discovery>.discovery-editor .editor-toolbar label{padding:4px;margin:0 1ex;white-space:nowrap}.page-discovery>.discovery-editor .editor-toolbar .syntax-hint{padding-left:10px;flex:1;color:#8d8d8dbf;font-size:12px;align-self:start}.page-discovery>.discovery-editor .editor-toolbar .view-checkbox__label{margin-right:0}.page-discovery>.discovery-editor .discovery-editor-error{border-bottom:1px solid rgba(255,0,0,.6);background:#ffd7d14d}.page-discovery>.discovery-editor textarea{padding:8px;width:100%;box-sizing:border-box;min-height:9em;font-family:var(--discovery-monospace-font-family);font-size:12px;line-height:18px;border-color:#aaa;border-radius:3px;box-shadow:inset 0 1px 1px #8e8e8e33;resize:vertical}.page-discovery>.discovery-editor textarea:focus{border-color:#0af;box-shadow:0 0 1px 3px #0af3,inset 0 1px 1px #8e8e8e33!important;outline:0}.page-discovery>.discovery-editor .query-graph{position:relative;display:flex;flex-direction:row;flex-wrap:nowrap;gap:50px;margin:0 0 10px}.page-discovery>.discovery-editor .query-graph .query-graph-box{display:flex;flex-direction:column;gap:1px}.page-discovery>.discovery-editor .query-graph .query-graph-node{--color: #8888;display:block;width:10px;height:10px;padding:3px;background-color:var(--color);background-clip:content-box;border-radius:50%;cursor:pointer;transition:.2s ease-in-out;transition-property:box-shadow,background-color}.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=computing]{--color: #f6f61cb5}.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=computing]:before{content:"";position:absolute;display:block;aspect-ratio:1/1;width:12px;margin:-3px 0 0 -3px;border:2px solid var(--color);border-radius:50%;clip-path:inset(0px 0px 50% 50%);animation:discovery-graph-computing .65s forwards infinite linear}@keyframes discovery-graph-computing{to{rotate:360deg}}.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=successful]{--color: #4da32fcf;transition:none}.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=failed]{--color: #d84343}.page-discovery>.discovery-editor .query-graph .query-graph-node[data-state=canceled]{background-image:radial-gradient(transparent calc(50% - 2px),var(--discovery-color) 50%);background-color:transparent}.page-discovery>.discovery-editor .query-graph .query-graph-node.target{pointer-events:none;box-shadow:0 0 0 2px var(--color) inset,0 0 0 3px var(--discovery-background-color) inset;outline:1px solid var(--discovery-background-color);cursor:default}.page-discovery>.discovery-editor .query-graph .query-graph-node:not(.target):hover{opacity:1;box-shadow:0 0 0 2px #888 inset,0 0 0 3px var(--discovery-background-color) inset;outline:1px solid var(--discovery-background-color);transition:none}.page-discovery>.discovery-editor .query-graph>svg{position:absolute;inset:0;width:100%;height:100%;z-index:-1;pointer-events:none}.query-graph-actions{display:flex;gap:1px}.query-graph-actions .view-button{padding:0;width:23.5px;margin:0!important;border:none;border-radius:0;background-color:#c0c0c02d;background-repeat:no-repeat;background-position:center}.query-graph-actions .view-button:hover{background-color:#a5a5a54d}.query-graph-actions .view-button.clone{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="%23888">%0A    <path d="M 13.5 5 C 11.458 5 9.737 5.82 8.629 7.066 C 7.521 8.313 7 9.917 7 11.5 C 7 13.083 7.521 14.687 8.629 15.934 C 9.439 16.845 10.65 17.394 12 17.695 L 12 30.305 C 10.65 30.606 9.439 31.155 8.629 32.066 C 7.521 33.313 7 34.917 7 36.5 C 7 38.083 7.521 39.687 8.629 40.934 C 9.737 42.18 11.458 43 13.5 43 C 17.072 43 20 40.072 20 36.5 C 20 33.596 18.03 31.21 15.387 30.385 C 15.439 30.313 15.421 30.166 15.486 30.098 C 15.806 29.763 16.385 29.433 17.23 29.168 C 18.921 28.637 21.526 28.421 24.229 28.006 C 26.931 27.591 29.792 26.971 32.111 25.252 C 34.185 23.716 35.591 21.178 35.881 17.719 C 38.775 17.064 41 14.583 41 11.5 C 41 7.928 38.072 5 34.5 5 C 32.458 5 30.737 5.82 29.629 7.066 C 28.521 8.313 28 9.917 28 11.5 C 28 13.083 28.521 14.687 29.629 15.934 C 30.397 16.798 31.531 17.329 32.791 17.652 C 32.54 20.191 31.712 21.815 30.326 22.842 C 28.708 24.041 26.319 24.648 23.771 25.039 C 21.224 25.431 18.579 25.601 16.332 26.307 C 15.869 26.452 15.43 26.645 15 26.855 L 15 17.695 C 17.835 16.997 20 14.541 20 11.5 C 20 7.928 17.072 5 13.5 5 Z" transform="matrix(0, 1, -1, 0, 48, 0)"/>%0A</svg>%0A');background-size:17.5px 17.5px}.query-graph-actions.root .view-button.clone{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="%23888">%0A  <ellipse cx="23.652" cy="10.385" rx="6.462" ry="6.462"/>%0A  <ellipse cx="23.617" cy="37.467" rx="6.462" ry="6.462"/>%0A  <rect x="22.18" y="16.245" width="2.959" height="16.643"/>%0A</svg>%0A')}.query-graph-actions .view-button.stash{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="%23888">%0A    <path d="M 13.5 5 C 11.458 5 9.737 5.82 8.629 7.066 C 7.521 8.313 7 9.917 7 11.5 C 7 13.083 7.521 14.687 8.629 15.934 C 9.439 16.845 10.65 17.394 12 17.695 L 12 30.305 C 10.65 30.606 9.439 31.155 8.629 32.066 C 7.521 33.313 7 34.917 7 36.5 C 7 38.083 7.521 39.687 8.629 40.934 C 9.737 42.18 11.458 43 13.5 43 C 17.072 43 20 40.072 20 36.5 C 20 33.596 18.03 31.21 15.387 30.385 C 15.439 30.313 15.421 30.166 15.486 30.098 C 15.806 29.763 16.385 29.433 17.23 29.168 C 18.921 28.637 21.526 28.421 24.229 28.006 C 26.931 27.591 29.792 26.971 32.111 25.252 C 34.185 23.716 35.591 21.178 35.881 17.719 C 38.775 17.064 41 14.583 41 11.5 C 41 7.928 38.072 5 34.5 5 C 32.458 5 30.737 5.82 29.629 7.066 C 28.521 8.313 28 9.917 28 11.5 C 28 13.083 28.521 14.687 29.629 15.934 C 30.397 16.798 31.531 17.329 32.791 17.652 C 32.54 20.191 31.712 21.815 30.326 22.842 C 28.708 24.041 26.319 24.648 23.771 25.039 C 21.224 25.431 18.579 25.601 16.332 26.307 C 15.869 26.452 15.43 26.645 15 26.855 L 15 17.695 C 17.835 16.997 20 14.541 20 11.5 C 20 7.928 17.072 5 13.5 5 Z M 34.5 8 C 36.451 8 38 9.549 38 11.5 C 38 13.42 36.493 14.935 34.586 14.982 C 34.527 14.979 34.467 14.979 34.408 14.982 C 33.182 14.958 32.413 14.551 31.871 13.941 C 31.313 13.313 31 12.417 31 11.5 C 31 10.583 31.313 9.687 31.871 9.059 C 32.43 8.43 33.208 8 34.5 8 Z" transform="matrix(0, 1, -1, 0, 48, 0)"/>%0A</svg>%0A');background-size:17.5px 17.5px}.query-graph-actions.root .view-button.stash{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="%23888">%0A  <path d="M 24.5 5 C 22.458 5 20.737 5.82 19.629 7.066 C 18.521 8.313 18 9.917 18 11.5 C 18 13.083 18.521 14.687 19.629 15.934 C 20.439 16.845 21.65 17.394 23 17.695 L 23 30.305 C 21.65 30.606 20.439 31.155 19.629 32.066 C 18.521 33.313 18 34.917 18 36.5 C 18 38.083 18.521 39.687 19.629 40.934 C 20.737 42.18 22.458 43 24.5 43 C 28.072 43 31 40.072 31 36.5 C 31 33.596 28.671 31.193 26.028 30.368 C 26.08 30.296 26 17.695 26 17.695 C 28.835 16.997 31 14.541 31 11.5 C 31 7.928 28.072 5 24.5 5 Z M 24.5 8 C 26.451 8 28 9.549 28 11.5 C 28 13.42 26.493 14.935 24.586 14.982 C 24.527 14.979 24.467 14.979 24.408 14.982 C 23.182 14.958 22.413 14.551 21.871 13.941 C 21.313 13.313 21 12.417 21 11.5 C 21 10.583 21.313 9.687 21.871 9.059 C 22.43 8.43 23.208 8 24.5 8 Z" style="transform-origin: 24.5px 24px;" transform="matrix(-1, 0, 0, -1, 0, 0)"/>%0A</svg>%0A')}.query-graph-actions .view-button.subquery{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" fill="%23888">%0A    <path d="M 24.5 5 C 22.458 5 20.737 5.82 19.629 7.066 C 18.521 8.313 18 9.917 18 11.5 C 18 13.083 18.521 14.687 19.629 15.934 C 20.439 16.845 21.65 17.394 23 17.695 L 23 30.305 C 21.65 30.606 20.439 31.155 19.629 32.066 C 18.521 33.313 18 34.917 18 36.5 C 18 38.083 18.521 39.687 19.629 40.934 C 20.737 42.18 22.458 43 24.5 43 C 28.072 43 31 40.072 31 36.5 C 31 33.596 28.671 31.193 26.028 30.368 C 26.08 30.296 26 17.695 26 17.695 C 28.835 16.997 31 14.541 31 11.5 C 31 7.928 28.072 5 24.5 5 Z M 24.5 8 C 26.451 8 28 9.549 28 11.5 C 28 13.42 26.493 14.935 24.586 14.982 C 24.527 14.979 24.467 14.979 24.408 14.982 C 23.182 14.958 22.413 14.551 21.871 13.941 C 21.313 13.313 21 12.417 21 11.5 C 21 10.583 21.313 9.687 21.871 9.059 C 22.43 8.43 23.208 8 24.5 8 Z" transform="matrix(0, 1, -1, 0, 48.499998, -0.499998)"/>%0A</svg>%0A');background-size:18.5px 18.5px}.query-graph-actions .view-button.delete{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="%23888">%0A  <path d="M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"/>%0A</svg>%0A');background-size:12.5px 12.5px}.discovery-buildin-view-tooltip.hint-tooltip{font-size:12px;padding:1px 6px}.discovery-buildin-view-tooltip.hint-tooltip>.view-markdown{padding:2px 4px}.query-graph-tooltip{margin:4px}.query-graph-tooltip .view-source{margin:-5px -10px;background:none}.query-graph-tooltip>.view-badge{vertical-align:top;padding:4px 8px!important;margin:0 -5px!important;font-size:12px}.page-discovery>.discovery-editor .query-path{opacity:.35}.page-discovery>.discovery-editor .query-path .query{background:#eee;border:solid #888;border-width:1px 1px 0 1px;padding:2px 8px 6px;margin-bottom:-4px;border-radius:4px 4px 0 0;font-family:var(--discovery-monospace-font-family);font-size:10px;line-height:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;cursor:pointer}.discovery-root-darkmode .page-discovery>.discovery-editor .query-path .query{background:#333}.page-discovery>.discovery-editor .query-path .query:last-child{padding-bottom:7px}.page-discovery>.discovery-editor .query-path .query:empty:before{content:"<empty query>"}.page-discovery>.discovery-editor .query-path .query:hover{background:#ccc}.discovery-root-darkmode .page-discovery>.discovery-editor .query-path .query:hover{background:#444}.page-discovery>.discovery-editor .query-editor{position:relative}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__input-panel{display:grid;grid-template-areas:"actions input engine" "details details details";grid-template-columns:auto 1fr auto;margin:1px 0;padding:0 1px;background-color:var(--discovery-background-color);border-radius:1px 1px 0 0;gap:0 1px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__input-panel.details-expanded{gap:1px;border-bottom:1px solid var(--editor-border-color, #888)}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-engine{grid-area:engine;background-color:#c0c0c02d;padding:1px 8px 3px;font-size:12px;color:var(--discovery-color);text-decoration:none}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-engine:hover{background-color:#a5a5a54d}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-engine:before{content:"Syntax: ";color:#888}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input{grid-area:input;display:flex;gap:1px;font-size:12px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-data,.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-context{flex:1;padding:1px 8px 3px;background-color:#c0c0c02d;cursor:pointer}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-data:hover,.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-context:hover{background-color:#a5a5a54d!important}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input[data-details=data] .query-input-data,.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input[data-details=context] .query-input-context{margin-bottom:-1px;background-color:#cdcdcd1a;background-clip:padding-box;border-bottom:1px solid #cdcdcd1a}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-variable{position:relative;padding-right:14px;color:var(--discovery-fmt-variable-color);font-family:var(--discovery-monospace-font-family)}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-variable:before{content:"";background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">%0A    <path fill="%23888" d="M 3.71875 7.78125 L 2.28125 9.21875 L 11.28125 18.21875 L 12 18.90625 L 12.71875 18.21875 L 21.71875 9.21875 L 20.28125 7.78125 L 12 16.0625 Z "/>%0A</svg>%0A') no-repeat center;background-size:12px;transition:transform .15s ease-in;height:100%;aspect-ratio:1/1;position:absolute;right:0;top:0;transform:rotate(-90deg);margin-right:2px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input[data-details=data] .query-input-data .query-input-variable:before,.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input[data-details=context] .query-input-context .query-input-variable:before{transform:rotate(0)}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-variable:after{content:" (" attr(data-name) ") ";color:#888;font-family:var(--discovery-font-family)}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-details{display:none;grid-area:details;max-height:max(30vh,150px);overflow:auto}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .discovery-view-editor__input-panel.details-expanded .query-input-details{display:block;margin-bottom:1px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor .query-input-details>.view-struct{margin:0}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel{display:grid;grid-template-areas:"result buttons";grid-template-columns:1fr auto;gap:1px;margin:1px;overflow:hidden;border-radius:0 0 1px 1px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel.details-expanded{grid-template-areas:"result buttons" "details details"}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons{grid-area:buttons;display:flex;gap:1px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-button{font-size:12px;padding:3px 16px 4px;border-radius:0}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox{padding:2px 6px;align-content:center;background-color:#c0c0c02d;font-size:12px;cursor:pointer}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox input{display:none}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox .view-checkbox__label{margin:0}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox .view-checkbox__label{content:"";display:block;width:16px;aspect-ratio:1;overflow:hidden;color:transparent;background-color:light-dark(#c8c8c8,#6b6b6b);mask:no-repeat center;mask-size:16px}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox.suggestions .view-checkbox__label{mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 4 172 176">%0A    <path fill="%23888" stroke="%23888" stroke-width="1.5" d="M25.86719,12.84961l-7.64257,7.64257l3.82128,3.7793l7.60059,7.60058l3.77929,3.82129l7.64258,-7.64258l-3.82129,-3.77929l-7.60058,-7.60059zM146.13281,12.84961l-3.77929,3.82128l-11.37989,11.37989l7.60058,7.64258l3.7793,-3.82129l11.37987,-11.37989zM86,21.5c-23.68359,0 -43,19.31641 -43,43c0,14.86524 6.50879,23.43165 11.75781,30.73828c5.29102,7.26465 9.74219,13.4375 9.74219,28.38672v10.75c0,6.97071 4.57715,12.93359 10.83399,15.11719c-0.042,0.33594 -0.08399,0.67188 -0.08399,1.00781c0,5.9209 4.8291,10.75 10.75,10.75c5.9209,0 10.75,-4.8291 10.75,-10.75c0,-0.33594 0,-0.67187 -0.04199,-1.00781c6.25683,-2.22558 10.79199,-8.14648 10.79199,-15.11719v-10.75c0,-14.94922 4.45118,-21.12207 9.74219,-28.38672c5.24902,-7.30664 11.75781,-15.87304 11.75781,-30.73828c0,-23.68359 -19.31641,-43 -43,-43zM86,32.25c17.88868,0 32.25,14.36133 32.25,32.25c0,12.00977 -4.24121,16.88086 -9.74219,24.35547c-4.74511,6.59277 -9.44824,15.87305 -10.75,29.39453h-23.51562c-1.30176,-13.52148 -6.00489,-22.80176 -10.75,-29.39453c-5.50098,-7.4746 -9.74219,-12.3457 -9.74219,-24.35547c0,-17.88867 14.36133,-32.25 32.25,-32.25zM10.75,64.5v10.75h21.5v-10.75zM139.75,64.5v10.75h21.5v-10.75zM33.42578,104.05665l-3.77929,3.82128l-7.60059,7.60059l-3.82128,3.77929l7.64257,7.60058l11.37989,-11.37987l3.82129,-3.7793zM138.57422,104.05665l-7.60058,7.64257l15.15918,15.15918l7.60058,-7.60058l-11.37987,-11.37989zM75.25,129h21.5v5.375c0,3.02344 -2.35156,5.375 -5.375,5.375h-10.75c-3.02344,0 -5.375,-2.35156 -5.375,-5.375z" />%0A</svg>%0A')}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox.live-update .view-checkbox__label{mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="-16 0 172 156">%0A    <path fill="%23888" stroke="%23888" stroke-width="1.5" d="M32.08203,10.75l-21.5,86h29.05859l-17.46875,53.75h23.89355l50.68457,-86h-32.37598l21.5,-53.75zM127.65625,10.75l-20.15625,53.75h12.09375l4.03125,-10.75h21.5l4.03125,10.75h12.09375l-20.15625,-53.75zM40.48047,21.5h29.52051l-21.5,53.75h29.43652l-38.00293,64.5h-2.98145l17.46875,-53.75h-30.06641zM134.375,25.11133l6.71875,17.88867h-13.4375z" />%0A</svg>%0A')}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox :checked+.view-checkbox__label{background-color:light-dark(rgba(0,141,255,.75),#b8b8b8)}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel>.buttons .view-checkbox:hover{background-color:#a5a5a54d}.page-discovery>.discovery-editor .data-query-result .query-result-data{display:flex;flex:1;padding:2px 8px;background-color:#c0c0c02d;font-size:12px;cursor:pointer}.page-discovery>.discovery-editor .data-query-result .query-result-data:hover{background-color:#a5a5a54d}.page-discovery>.discovery-editor .data-query-result .query-result-data>.query-output-message{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.page-discovery>.discovery-editor .data-query-result .query-result-data>.query-output-prelude{color:#888;position:relative;display:inline-block;padding-right:20px}.page-discovery>.discovery-editor .data-query-result .query-result-data>.query-output-prelude:before{content:"";background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">%0A    <path fill="%23888" d="M 3.71875 7.78125 L 2.28125 9.21875 L 11.28125 18.21875 L 12 18.90625 L 12.71875 18.21875 L 21.71875 9.21875 L 20.28125 7.78125 L 12 16.0625 Z "/>%0A</svg>%0A') no-repeat center;background-size:12px;transition:transform .15s ease-in;height:100%;aspect-ratio:1/1;position:absolute;right:0;top:0;transform:rotate(-90deg);margin-right:2px}.page-discovery>.discovery-editor .data-query-result .query-result-data.error{background-color:#ff2d2836}.page-discovery>.discovery-editor .discovery-view-editor__output-panel.details-expanded .data-query-result .query-result-data>.query-output-prelude:before{transform:rotate(0)}.page-discovery>.discovery-editor .data-query-result{grid-area:result;overflow:hidden}.page-discovery>.discovery-editor .data-query-result>*{overflow:hidden}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel .data-query-result-details{grid-area:details;max-height:max(50vh,200px);overflow:auto}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel:not(.details-expanded) .data-query-result-details{display:none}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel .data-query-result-details>.view-struct{margin:0}.page-discovery>.discovery-editor .query-editor>.discovery-view-editor>.discovery-view-editor__output-panel .data-query-result-details .state-message{padding:4px 8px;font-size:12px;background-color:#cdcdcd1a}.page-discovery>.discovery-editor .view-editor-form{margin:12px calc(-1 * var(--discovery-page-padding-right)) 12px calc(-1 * var(--discovery-page-padding-left))}.page-discovery>.discovery-editor .view-editor-form-header{display:flex;flex-wrap:wrap-reverse;margin-right:var(--discovery-page-padding-right)}.page-discovery>.discovery-editor .view-editor-form-header-links{flex:1;margin:2px 0 0 10px;text-align:right;font-size:12px}.page-discovery>.discovery-editor .discovery-editor-tabs.view-mode:before{display:inline-block;content:"View:"}.page-discovery>.discovery-editor .discovery-editor-tab[data-mode=default]{border-top-left-radius:4px}.page-discovery>.discovery-editor .view-editor-form:not(.hide-editor) .discovery-editor-tab[data-mode=default]{border-bottom-left-radius:0}.page-discovery>.discovery-editor .discovery-editor-tab[data-mode=custom]{cursor:pointer}.page-discovery>.discovery-editor .view-editor-form:not(.hide-editor) .discovery-editor-tab[data-mode=custom]{border-bottom-right-radius:0;padding-bottom:3px}.page-discovery>.discovery-editor .discovery-editor-tabs .discovery-editor-tab:not(.active) .show-view-editor-toggle{pointer-events:none}.page-discovery>.discovery-editor .discovery-editor-tabs .show-view-editor-toggle{display:inline-block;vertical-align:middle;margin:-3px -9px -7px 1px;cursor:pointer}.page-discovery>.discovery-editor .discovery-editor-tabs .show-view-editor-toggle:before{content:"";display:inline-block;width:20px;aspect-ratio:1;mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">%0A  <path stroke="%23888" stroke-width=".5" d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>%0A  <path stroke="%23888" stroke-width=".5" d="M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8"/>%0A</svg>%0A') center no-repeat;mask-size:12px;background-color:light-dark(#aaa,#aaac)}.page-discovery>.discovery-editor .discovery-editor-tabs .discovery-editor-tab.active:hover .show-view-editor-toggle:before{background-color:#fff;background-color:light-dark(rgba(0,141,255,1),#ccc)}.page-discovery>.discovery-editor .view-editor-form.hide-editor .discovery-editor-tabs .show-view-editor-toggle:before{mask-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16">%0A  <path stroke="%23888" stroke-width=".5" d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>%0A  <path stroke="%23888" stroke-width=".5" d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>%0A</svg>%0A')}.page-discovery>.discovery-editor .discovery-editor-tabs.presets{margin-left:3ex}.page-discovery>.discovery-editor .discovery-editor-tabs.presets:before{content:"View presets:"}.page-discovery>.discovery-editor .discovery-editor-tabs.presets .discovery-editor-tab:first-child{border-bottom-left-radius:4px}.page-discovery>.discovery-editor .view-editor-form.hide-editor .view-editor-form-content{display:none}.page-discovery>.discovery-editor .view-editor-form-content{padding:8px var(--discovery-page-padding-right) 8px var(--discovery-page-padding-left);margin-bottom:1px;background-color:#6cbcf126}.page-discovery>.discovery-editor .view-editor-form-content .formatting{position:absolute;left:5px;width:30px;height:30px;font-size:0;background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 172 172">%0A    <path fill="%23888" d="M26.875,21.5c-8.84221,0 -16.125,7.28279 -16.125,16.125v96.75c0,8.84221 7.28279,16.125 16.125,16.125h37.625v-10.75h-37.625c-3.02579,0 -5.375,-2.34921 -5.375,-5.375v-96.75c0,-3.02579 2.34921,-5.375 5.375,-5.375h118.25c3.02579,0 5.375,2.34921 5.375,5.375v26.875h10.75v-26.875c0,-8.84221 -7.28279,-16.125 -16.125,-16.125zM78.35742,43l-24.37646,83.54345l-0.23096,2.45655h10.68701l6.27783,-21.5h15.09619l10.75,-10.75h-22.69678l12.19873,-41.76123l11.73682,40.52246l8.6084,-8.6084l-12.63965,-43.90283zM137.46142,75.29199c-2.61253,0 -5.21878,0.97757 -7.18066,2.93945l-52.04932,52.07031c-3.92375,3.92375 -3.92375,10.43757 0,14.36132l24.35547,24.35547c3.92375,3.92375 10.43757,3.92375 14.36132,0l52.04932,-52.04932c3.94035,-3.91783 3.94035,-10.4645 0,-14.38232l-24.33447,-24.35547c-1.96187,-1.96188 -4.58912,-2.93945 -7.20166,-2.93945zM137.46142,86.25195l23.53662,23.53663l-21.81493,21.79394l-23.51562,-23.51563zM108.06689,115.66748l23.51563,23.51562l-21.81493,21.81493l-23.51563,-23.51562z"/>%0A</svg>%0A');background-repeat:no-repeat;background-size:20px;background-position:center;border-color:#1562944d}.page-discovery>.discovery-editor .view-editor-form-content .view-expand{width:100%;margin-top:5px}.page-discovery>.discovery-editor .view-editor-form-content .view-expand .header{background:none}.page-discovery>.discovery-editor .view-editor-form-content .view-expand .header:hover{background:#0000000d}.page-discovery>.discovery-editor .view-editor-form-content .view-editor-view-list{display:none;padding:15px 8px;font-size:12px;color:#aaa;column-count:8;column-width:150px;column-gap:20px;margin-right:-190px}.page-discovery>.discovery-editor .view-editor-form-content .view-editor-view-list.visible{display:block}.page-discovery>.discovery-editor .view-editor-form-content .view-editor-view-list .item:not([href]){color:#888}.discovery-view-popup.view-editor-view-list-hint{padding:20px;min-width:640px;min-height:100px}.discovery-view-popup.view-editor-view-list-hint>.discovery-view-usage>.view-header:first-child{font-size:16px;background:#b4b4b433;margin:-36px -20px 0;padding:6px 20px;line-height:24px}.page-discovery{padding-top:20px!important}.discovery:not([data-dzen]) .page-discovery>.discovery-render-content{min-height:calc(100vh - 121px)}.page-discovery>.discovery-editor .discovery-error,.page-discovery>.discovery-render-content>.discovery-error{display:block;overflow:hidden;border-left:3px solid rgba(255,0,0,.8);background:#e14b4b33;background-clip:padding-box;padding:8px 12px;font-size:12px;white-space:pre-wrap;font-family:var(--discovery-monospace-font-family);font-size:11px}.page-discovery>.discovery-editor .discovery-error:before,.page-discovery>.discovery-render-content>.discovery-error:before{display:block;margin-bottom:.5em;font-size:16px}.page-discovery>.discovery-editor .query-error:before{content:"Query error"}.page-discovery>.discovery-render-content>.render-error:before{content:"Render error"}.page-views-showcase{flex:1;display:flex;flex-direction:row;border:1px solid rgba(170,170,170,.4);margin:35px 40px 20px;padding:0!important;box-sizing:border-box;overflow:hidden;border-radius:3px;background-color:#fffc;transition-property:background-color;transition-duration:.25s;transition-timing-function:ease-in}.discovery-root-darkmode .page-views-showcase{background-color:#242424cc}.page-views-showcase>.sidebar{display:flex;flex-direction:column;width:220px;border-right:1px solid rgba(170,170,170,.2)}.page-views-showcase>.sidebar>.index-page-link{display:block;padding:3px 11px;margin:1px;color:var(--discovery-color);text-decoration:none}.page-views-showcase>.sidebar>.index-page-link:hover{background-color:#83838340}.page-views-showcase>.sidebar .view-content-filter{flex:1;overflow:hidden;display:flex;flex-direction:column}.page-views-showcase>.sidebar .view-content-filter>.view-input{margin:0}.page-views-showcase>.sidebar .view-content-filter>.view-input input{border:none;border-top:1px solid rgba(170,170,170,.2);border-bottom:1px solid rgba(170,170,170,.2);border-radius:0;box-shadow:none}.page-views-showcase>.sidebar .view-content-filter .view-block{flex:1;overflow:hidden;overflow-y:scroll;padding:1px}.page-views-showcase>.sidebar .view-menu-item:not(.disabled){color:var(--discovery-link-color, #0099DD)}.page-views-showcase>.sidebar .view-menu-item:hover{color:var(--discovery-link-hover-color, #0077BB)}.page-views-showcase>.content{flex:1;padding:0 24px 20px;overflow:hidden;overflow-y:scroll}.page-views-showcase>.content>.view-h1{margin-top:16px;font-family:Helvetica Neue,Helvetica,Tahoma,Arial,sans-serif;font-weight:200}.discovery-view-inspector-overlay{position:fixed;inset:0;background-color:#0000ff1a;z-index:2000}.discovery-view-inspector-overlay .cancel-hint{content:"Inspection mode is enabled. Press Esc to cancel";position:absolute;z-index:10;top:4px;left:50%;transform:translate(-50%);padding:2px 10px;font-size:12px;border-radius:25px;background-color:var(--discovery-background-color);opacity:.8}.discovery-view-inspector-overlay .cancel-hint:before{content:"Inspection mode is enabled. Press Esc to cancel"}.discovery-view-inspector-overlay .cancel-hint[data-alt]:before{content:"Inspection mode is enabled. Unhold Alt to cancel"}.discovery-view-inspector-overlay .overlay{position:absolute;transition:background-color 15ms 25ms;box-sizing:border-box}.discovery-view-inspector-overlay .overlay.view-root:not([data-inspectable]){pointer-events:none}.discovery-view-inspector-overlay .overlay:not(.view-root){pointer-events:auto}.discovery-view-inspector-overlay .overlay.hovered{background-color:rgba(0,255,0,var(--discovery-background-alpha));outline:1px dashed rgba(0,128,0,.4);outline-offset:-1px;--discovery-background-alpha: .3}.discovery-view-inspector-overlay .overlay.view-root.hovered{background-color:rgba(106,0,204,var(--discovery-background-alpha));outline:1px dashed rgba(54,0,102,.4)}.discovery-root-darkmode .discovery-view-inspector-overlay .overlay.hovered{outline-color:#80c880a6;--discovery-background-alpha: .2}.discovery-root-darkmode .discovery-view-inspector-overlay .overlay.view-root.hovered{outline-color:#6f4a98a6}@supports (backdrop-filter: grayscale(1)) or (-webkit-backdrop-filter: grayscale(1)){.discovery-view-inspector-overlay .overlay.hovered{--discovery-background-alpha: .25;-webkit-backdrop-filter:grayscale(1);backdrop-filter:grayscale(1)}}.discovery-inspect-details-popup{pointer-events:none;z-index:2001;max-width:650px!important;display:grid;grid-template-areas:"sidebar toolbar toolbar" "sidebar props-config data-context";grid-template-rows:auto 1fr;grid-template-columns:0px 4fr 6fr;gap:1px;padding:1px;border-radius:2px;background:rgba(255,255,255,var(--discovery-background-alpha));--discovery-background-alpha: .95;--discovery-mate-background: rgba(240, 240, 240, .5);--discovery-link-color: #333;--discovery-link-underline-color: #0002;--discovery-view-root-highlight-color: rgba(106, 0, 204, 25%)}.discovery-root-darkmode .discovery-inspect-details-popup{background:rgba(36,36,36,var(--discovery-background-alpha));--discovery-background-alpha: .92;--discovery-mate-background: rgba(52, 52, 52, .5);--discovery-link-color: #aaa;--discovery-link-underline-color: #aaa2;--discovery-view-root-highlight-color: rgba(189, 120, 255, 25%)}.discovery-inspect-details-popup.frozen{pointer-events:all;inset:32px 20px 20px!important;max-height:none!important;max-width:none!important;transition:.125s ease;transition-property:top,left,right,bottom,grid-template-rows,grid-template-columns;grid-template-rows:auto minmax(20%,1fr);grid-template-columns:minmax(290px,25%) 4fr 6fr}.discovery-inspect-details-popup:not(.frozen){padding-bottom:21px}.discovery-inspect-details-popup:not(.frozen):after{content:"Cmd+Click (Mac) or Ctrl+Click (Win) opens the view description in a documentation";position:absolute;bottom:0;left:0;right:0;padding:.4em 1ex;text-align:center;white-space:nowrap;font-size:11px;line-height:1;border-top:1px solid var(--discovery-background-color);background-color:color-mix(in srgb,var(--discovery-background-color),light-dark(#000,#fff) 10%);color:#888}@supports (backdrop-filter: blur(5px)) or (-webkit-backdrop-filter: blur(5px)){.discovery-inspect-details-popup{--discovery-background-alpha: .65;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.discovery-root-darkmode .discovery-inspect-details-popup{--discovery-background-alpha: .4}}.discovery-inspect-details-popup .sidebar{grid-area:sidebar;overflow:auto;overscroll-behavior:contain;padding:4px;background-color:var(--discovery-mate-background)}.discovery-inspect-details-popup .sidebar .view-tree-leaf-content{white-space:nowrap;padding-right:12px}.discovery-inspect-details-popup .sidebar .view-root{display:inline-block;margin-bottom:1px;margin-left:-6px;border:4px solid transparent;border-width:1px 8px;background-color:var(--discovery-view-root-highlight-color)}.discovery-inspect-details-popup .sidebar .selected{background-color:#4ebbff4d;box-shadow:0 0 0 3px #4ebbff4d;display:inline}.discovery-inspect-details-popup .sidebar .skipped{text-decoration:line-through;font-style:italic;opacity:.65}.discovery-inspect-details-popup .sidebar>.view-tree-leaf:only-child{margin:-4px 0 0 -4px;grid-template-columns:6px auto;background:none}.discovery-inspect-details-popup .sidebar>.view-tree-leaf:only-child>.view-tree-leaf-toggle{display:none}.discovery-inspect-details-popup .sidebar .view-badge{vertical-align:top;margin-left:1ex;margin-right:0;border-radius:0;font-size:9px}.discovery-inspect-details-popup .sidebar .view-badge+.view-badge{margin-left:1px}.discovery-inspect-details-popup .toolbar{grid-area:toolbar;display:flex;gap:1px}.discovery-inspect-details-popup .stack-view-chain{flex:1;gap:1px;background-color:var(--discovery-mate-background)}.discovery-inspect-details-popup .stack-view-chain .view-toggle{border-radius:0;margin:0;padding:5px 8px;line-height:16px}.discovery-inspect-details-popup .stack-view-chain .skipped{text-decoration:line-through;font-style:italic;opacity:.65}.discovery-inspect-details-popup .stack-view-chain .view-root:not(.checked):not(:hover){background-color:var(--discovery-view-root-highlight-color)}.discovery-inspect-details-popup .stack-view-chain .data-flow-changes{position:relative;vertical-align:middle;display:inline-flex;gap:2px;margin:-5px -2px -2px 4px;font-size:7px;line-height:12px;text-align:center;text-transform:uppercase}.discovery-inspect-details-popup .stack-view-chain .data-flow-changes>*{width:12px;height:12px;border-radius:8px;overflow:hidden;box-shadow:1px 1px 1px #0003}.discovery-inspect-details-popup .stack-view-chain .data-flow-changes .data{background:#1f841f80}.discovery-inspect-details-popup .stack-view-chain .data-flow-changes .context{background:#b1366f80;bottom:0}.discovery-inspect-details-popup .toolbar .view-button{padding:5px 8px 7px;font-size:12px;line-height:12px;border-radius:2px 1px 2px 2px;box-shadow:none}.discovery-inspect-details-popup .content{overflow:hidden;background-color:var(--discovery-mate-background);font-size:12px;line-height:14px}.discovery-inspect-details-popup.frozen .content{overflow:auto}.discovery-inspect-details-popup .content .view-struct{overflow:visible;background-color:transparent}.discovery-inspect-details-popup .content .view-source{font-size:11px;line-height:15px;background-color:transparent}.discovery-inspect-details-popup .content.props-config{grid-area:props-config}.discovery-inspect-details-popup .content.data-context{grid-area:data-context}.discovery-inspect-details-popup .content-section:before{content:var(--header);display:inline-block;padding:8px 10px 2px 1px;margin-left:7px;text-transform:uppercase;font-size:10px;color:#444;border-bottom:2px solid #ddd}.discovery-root-darkmode .discovery-inspect-details-popup .content-section:before{color:inherit;text-shadow:1px 1px 0 rgba(0,0,0,.25);border-bottom:2px solid #666}.discovery-inspect-details-popup .content-section.skip{--header: "Not rendered reason"}.discovery-inspect-details-popup .content-section.skip .view-block{padding:6px 0 8px 6px;font-size:14px}.discovery-inspect-details-popup .content-section.render{--header: "Render function"}.discovery-inspect-details-popup .content-section.props{--header: "Render props"}.discovery-inspect-details-popup .content-section.config{--header: "Config"}.discovery-inspect-details-popup .content-section.props .transition-fn{position:relative;padding:16px 0 0 4px;margin:-4px 0 -4px 11px;border-left:1px solid #888}.discovery-inspect-details-popup .content-section.props .transition-fn .view-source__content{padding-bottom:6px}.discovery-inspect-details-popup .content-section.props .transition-fn:before{content:"";position:absolute;left:-4px;top:-2px;width:7px;height:7px;border:3.5px solid transparent;border-top:none;border-bottom:7px solid #888;box-sizing:border-box}.discovery-inspect-details-popup .content-section.props .transition-fn:after{content:"Normalize (view.options.props)";position:absolute;top:5px;left:0;padding:0 4px;background:#8885;font-size:10px;opacity:.75}.discovery-inspect-details-popup .content-section.config>.view-tree{margin-left:6px}.discovery-inspect-details-popup .content-section.config .view-tree-leaf-content>.view-struct{margin:-4px 0 -4px -4px}.discovery-inspect-details-popup .content-section.data{--header: "Data"}.discovery-inspect-details-popup .content-section.data .data-flow-transitions{display:flex;flex-direction:column-reverse}.discovery-inspect-details-popup .content-section.data .data-flow-transitions>.more-buttons{margin-top:0;padding:6px 0 0 8px;margin-bottom:-4px}.discovery-inspect-details-popup .content-section.data .data-flow-transitions>.more-buttons .more-button{padding-top:2px;padding-bottom:2px}.discovery-inspect-details-popup .content-section.data .root-data{padding:6px 0 0 8px;pointer-events:none;margin-bottom:-6px}.discovery-inspect-details-popup .content-section.data .root-data .view-badge{padding:2px 8px;font-size:9px;text-transform:uppercase}.discovery-inspect-details-popup .content-section.data .data-flow-transition{position:relative;padding:12px 0 0 4px;margin:-4px 0 -2px 11px;border-left:1px solid #888}.discovery-inspect-details-popup .content-section.data .data-flow-transition>.view-name{position:absolute;top:0;left:0;padding:0 4px;background:#8885;font-size:10px;opacity:.75}.discovery-inspect-details-popup .content-section.data .data-flow-transition:before{content:"";position:absolute;left:-4px;bottom:-2px;width:7px;height:7px;border:3.5px solid transparent;border-bottom:none;border-top:7px solid #888;box-sizing:border-box}.discovery-inspect-details-popup .content-section.context{--header: "Context"}:host{transition:opacity .2s}.discovery-root{all:initial;color-scheme:only light;position:relative;font-family:var(--discovery-font-family);font-size:14px;line-height:1.6;-webkit-text-size-adjust:none;text-size-adjust:none;background-color:var(--discovery-background-color, white);color:var(--discovery-color, black);transition-property:background-color,color;transition-duration:.25s;transition-timing-function:ease-in;--discovery-app-icon: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="-6 -4 136 140">%0A    <rect x="65.6" y="24.6" transform="matrix(0.9397 -0.342 0.342 0.9397 -9.9426 31.828)" fill="%23FFFFFF" width="39.3" height="39"></rect>%0A    <rect x="70.6" y="52.7" transform="matrix(-0.9397 0.342 -0.342 -0.9397 194.7852 81.1204)" fill="%23C7D7E2" width="39.3" height="10"></rect>%0A    <path fill="%2398BED8" d="M111.5,54.6l-1.1,1.1L97.1,19.1l1.5,0.2c8,0.9,14.7,6.2,17.4,13.7l0,0C118.8,40.4,117,48.8,111.5,54.6z"></path>%0A    <path fill="%23454B54" d="M73.5,72.2c-1.2,0-2.4-0.8-2.8-2L57.3,33.5c-0.3-0.7-0.2-1.6,0.1-2.3c0.3-0.7,0.9-1.3,1.7-1.6l36.9-13.4c1.6-0.6,3.3,0.2,3.8,1.8l13.3,36.6c0.3,0.7,0.2,1.6-0.1,2.3c-0.3,0.7-0.9,1.3-1.7,1.6L74.5,72C74.2,72.1,73.8,72.2,73.5,72.2zM64,34.3l11.3,31l31.3-11.4l-11.3-31L64,34.3z"></path>%0A    <rect x="35" y="46.7" transform="matrix(0.9397 -0.342 0.342 0.9397 -16.2011 20.988)" fill="%23FFFFFF" width="32.8" height="19.5"></rect>%0A    <rect x="37.3" y="59.8" transform="matrix(-0.9397 0.342 -0.342 -0.9397 125.6763 103.3946)" fill="%23C7D7E2" width="32.8" height="6"></rect>%0A    <path fill="%23454B54" d="M39.4,74.2c-0.4,0-0.9-0.1-1.3-0.3c-0.7-0.3-1.3-0.9-1.6-1.7l-6.7-18.3c-0.3-0.7-0.2-1.6,0.1-2.3c0.3-0.7,0.9-1.3,1.7-1.6l30.8-11.2c0.7-0.3,1.6-0.2,2.3,0.1c0.7,0.3,1.3,0.9,1.6,1.7L73,59c0.6,1.6-0.2,3.3-1.8,3.8L40.4,74C40,74.1,39.7,74.2,39.4,74.2z M36.5,54.7l4.6,12.7l25.2-9.2l-4.6-12.7L36.5,54.7z"></path>%0A    <path fill="%23454B54" d="M70,118.9c-1.2,0-2.4-0.7-2.8-1.9l-14-37.2l-8.4,3.1l-17.2,34.4c-0.7,1.5-2.5,2.1-4,1.3c-1.5-0.7-2.1-2.5-1.3-4L40,79c0.3-0.7,0.9-1.2,1.7-1.5L54,73.1c1.5-0.6,3.3,0.2,3.8,1.8l15,40c0.6,1.6-0.2,3.3-1.8,3.9C70.7,118.8,70.4,118.9,70,118.9z"></path>%0A    <path fill="%23454B54" d="M13.6,80.1c-1.2,0-2.4-0.8-2.8-2L6.3,65.9c-0.6-1.6,0.2-3.3,1.8-3.8c1.6-0.6,3.3,0.2,3.8,1.8l4.4,12.2c0.6,1.6-0.2,3.3-1.8,3.8C14.3,80.1,14,80.1,13.6,80.1z"></path>%0A    <path fill="%23454B54" d="M13.2,73.3c-1.2,0-2.4-0.8-2.8-2c-0.6-1.6,0.2-3.3,1.8-3.8L35,59.2c1.6-0.6,3.3,0.2,3.8,1.8c0.6,1.6-0.2,3.3-1.8,3.8l-22.8,8.3C13.9,73.3,13.6,73.3,13.2,73.3z"></path>%0A</svg>%0A');--discovery-font-family: Tahoma, Verdana, Arial, sans-serif;--discovery-monospace-font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;--discovery-monospace-font-size: 12px;--discovery-monospace-line-height: 1.5;--discovery-ui-font-family: system-ui, Arial, sans-serif;--discovery-background-color: white;--discovery-color: black;--discovery-input-bg-color: white;--discovery-input-color: black;--discovery-button-color: black;--discovery-button-bg-color: white;--discovery-button-border-color: #cccccc;--discovery-button-hover-color: black;--discovery-button-hover-bg-color: #f5f5f5;--discovery-button-hover-border-color: #cccccc;--discovery-fmt-color: #666;--discovery-fmt-hover-color: #333;--discovery-fmt-flag-color: #ff6e13;--discovery-fmt-variable-color: #047d65;--discovery-fmt-property-color: #bd6476;--discovery-fmt-keyword-color: #9150c5;--discovery-fmt-number-color: #07a;--discovery-fmt-atom-color: #07a;--discovery-fmt-type-color: #a7994b;--discovery-fmt-string-color: #690;--discovery-fmt-string-highlight-color: rgba(35, 165, 25, .1);--discovery-fmt-comment-color: #75787b;--discovery-fmt-qualifier: #dd4a68;--discovery-fmt-entity: #9a6e3a;--discovery-fmt-punctuation: #999;--discovery-page-padding-top: 35px;--discovery-page-padding-right: 40px;--discovery-page-padding-bottom: 30px;--discovery-page-padding-left: 40px}.discovery-root-darkmode{color-scheme:only dark;--discovery-background-color: #242424;--discovery-color: #cccccc;--discovery-link-color: #1c87d4;--discovery-link-underline-color: rgb(37, 146, 226, 50%);--discovery-link-hover-color: #4aa6e8;--discovery-input-bg-color: #343434;--discovery-input-color: #e8e8e8;--discovery-button-color: #cccccc;--discovery-button-bg-color: #3a3a3a;--discovery-button-border-color: #cccccc;--discovery-button-hover-color: black;--discovery-button-hover-bg-color: #f5f5f5;--discovery-button-hover-border-color: #cccccc;--discovery-fmt-color: #999;--discovery-fmt-hover-color: #aaa;--discovery-fmt-flag-color: #ff8030;--discovery-fmt-variable-color: #16a78a;--discovery-fmt-property-color: #d17a8c;--discovery-fmt-keyword-color: #a783c4;--discovery-fmt-number-color: #0f8dc2;--discovery-fmt-atom-color: #0f8dc2;--discovery-fmt-string-color: #7faf20;--discovery-fmt-string-underline-color: #85ab51;--discovery-fmt-string-hover-color: #97cf26}.discovery[data-dzen] .discovery-hidden-in-dzen{display:none}.discovery{display:flex;overflow:hidden;height:100%}.discovery-content{flex:1;display:flex;flex-direction:column;position:relative;overflow:auto;z-index:10}.discovery-content>.page{padding:var(--discovery-page-padding-top) var(--discovery-page-padding-right) var(--discovery-page-padding-bottom) var(--discovery-page-padding-left)}.discovery[data-compact] .page{--discovery-page-padding-top: 0;--discovery-page-padding-left: 0;--discovery-page-padding-right: 0;--discovery-page-padding-bottom: 0}.discovery-sidebar{position:relative;z-index:200;overflow:auto;width:350px;background:#6969691a;border-right:1px solid rgba(85,85,85,.2);box-shadow:2px 0 5px -3px #00000042;transform:translateZ(0)}.discovery-sidebar:empty{display:none}.discovery-sidebar .view-tabs,.discovery-sidebar .view-tabs-content,.discovery-sidebar .view-content-filter{display:flex;flex-direction:column;max-height:100%}.discovery-sidebar .view-tabs{height:100%}.discovery-sidebar .view-tab.active:before{background-color:#fff;transition-property:background-color;transition-duration:.25s;transition-timing-function:ease-in}.discovery-root-darkmode .discovery-sidebar .view-tab.active:before{background-color:#363637}.discovery-sidebar .view-content-filter>.view-input{border-bottom:1px solid rgba(170,170,170,.4);margin-bottom:-1px;background-color:#fff;transition-property:background-color;transition-duration:.25s;transition-timing-function:ease-in}.discovery-root-darkmode .discovery-sidebar .view-content-filter>.view-input{background-color:#363637}.discovery-sidebar .view-content-filter>.view-input input,.discovery-sidebar .view-content-filter>.view-input input:focus{background-color:transparent;outline:none;box-shadow:none;border:none;border-radius:0}.discovery-sidebar .view-content-filter>.content>.view-list{padding:8px 0 8px 12px}.discovery-sidebar .view-content-filter>.content>.view-tree{padding:4px 0 8px 8px}.discovery-sidebar .view-list-item:first-child .view-toc-section{margin-top:-8px}.discovery-sidebar .view-list-item:last-child .view-toc-section{margin-bottom:-8px}.discovery-sidebar .view-toc-section{margin-left:-12px}.discovery-sidebar .view-text-match{color:#282828d9;background:#ffffff73;border-bottom:2px solid orange;line-height:1.2;display:inline-block;border-radius:3px;padding:0 1px}.discovery-nav{position:absolute;z-index:102;top:0;right:var(--discovery-page-padding-right, 40px);padding:0 1px 1px;border-radius:0 0 6px 6px;background-color:#ffffffeb;transition:background-color .25s ease-in;user-select:none}.discovery-root-darkmode .discovery-nav{background-color:#242424eb}@supports (backdrop-filter: blur(5px)) or (-webkit-backdrop-filter: blur(5px)){.discovery-nav{background-color:#fffc;-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px)}.discovery-root-darkmode .discovery-nav{background-color:#242424cc}}.discovery-nav>:first-child{border-bottom-left-radius:5px;transition:border-radius .25s ease-in-out}.discovery-nav>:last-child{border-bottom-right-radius:5px;transition:border-radius .25s ease-in-out}.discovery-nav .view-nav-button.discovery-view-popup-active:not(.discovery-view-has-tooltip){border-radius:0}.discovery-nav .view-nav-button[data-name=burger]{background-image:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 172 172">%0A    <path fill="%23888" d="M21.5,35.83333c-2.58456,-0.03655 -4.98858,1.32136 -6.29153,3.55376c-1.30295,2.2324 -1.30295,4.99342 0,7.22582c1.30295,2.2324 3.70697,3.59031 6.29153,3.55376h129c2.58456,0.03655 4.98858,-1.32136 6.29153,-3.55376c1.30295,-2.2324 1.30295,-4.99342 0,-7.22582c-1.30295,-2.2324 -3.70697,-3.59031 -6.29153,-3.55376zM21.5,78.83333c-2.58456,-0.03655 -4.98858,1.32136 -6.29153,3.55376c-1.30295,2.2324 -1.30295,4.99342 0,7.22582c1.30295,2.2324 3.70697,3.59031 6.29153,3.55376h129c2.58456,0.03655 4.98858,-1.32136 6.29153,-3.55376c1.30295,-2.2324 1.30295,-4.99342 0,-7.22582c-1.30295,-2.2324 -3.70697,-3.59031 -6.29153,-3.55376zM21.5,121.83333c-2.58456,-0.03655 -4.98858,1.32136 -6.29153,3.55376c-1.30295,2.2324 -1.30295,4.99342 0,7.22582c1.30295,2.2324 3.70697,3.59031 6.29153,3.55376h129c2.58456,0.03655 4.98858,-1.32136 6.29153,-3.55376c1.30295,-2.2324 1.30295,-4.99342 0,-7.22582c-1.30295,-2.2324 -3.70697,-3.59031 -6.29153,-3.55376z" />%0A</svg>%0A');background-repeat:no-repeat;background-position:center;background-size:18px}.discovery-nav .view-nav-button[data-name=inspect]:before{content:"";display:inline-block;vertical-align:text-top;height:16px;aspect-ratio:1;margin:0 -8px;mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30">%0A    <path fill="currentColor" d="M 15 2 C 8.3844239 2 3 7.3844287 3 14 C 3 20.615571 8.3844239 26 15 26 L 25 26 C 26.105 26 27 25.105 27 24 L 27 14 C 27 7.3844287 21.615576 2 15 2 z M 15 4 C 20.534697 4 25 8.465307 25 14 C 25 19.534693 20.534697 24 15 24 C 9.4653034 24 5 19.534693 5 14 C 5 8.465307 9.4653034 4 15 4 z M 15.953125 6.9863281 A 1.0001 1.0001 0 0 0 15.013672 7.8359375 L 13.013672 19.835938 A 1.0001 1.0001 0 1 0 14.986328 20.164062 L 16.986328 8.1640625 A 1.0001 1.0001 0 0 0 15.953125 6.9863281 z M 10.980469 9.9882812 A 1.0001 1.0001 0 0 0 10.167969 10.445312 L 8.1679688 13.445312 A 1.0001 1.0001 0 0 0 8.1679688 14.554688 L 10.167969 17.554688 A 1.0001 1.0001 0 1 0 11.832031 16.445312 L 10.201172 14 L 11.832031 11.554688 A 1.0001 1.0001 0 0 0 10.980469 9.9882812 z M 18.988281 9.9882812 A 1.0001 1.0001 0 0 0 18.167969 11.554688 L 19.798828 14 L 18.167969 16.445312 A 1.0001 1.0001 0 1 0 19.832031 17.554688 L 21.832031 14.554688 A 1.0001 1.0001 0 0 0 21.832031 13.445312 L 19.832031 10.445312 A 1.0001 1.0001 0 0 0 18.988281 9.9882812 z"/>%0A</svg>%0A') no-repeat center / 16px;background-color:currentColor;opacity:.85}.discovery-nav .view-nav-button[data-name=inspect][data-suspend-seconds]:before{visibility:hidden}.discovery-nav .view-nav-button[data-name=inspect][data-suspend-seconds]:after{content:attr(data-suspend-seconds);display:inline-block;position:absolute;margin-left:-11px;width:24px;text-align:center}.discovery-nav>.view-nav-button[data-name=github]:before{content:"";display:inline-block;vertical-align:text-top;height:15px;aspect-ratio:1;margin-left:-3px;margin-right:5px;mask:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 98 96">%0A    <path d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z"/>%0A</svg>%0A') no-repeat center / 15px;background-color:currentColor;opacity:.85}.discovery-nav>.view-nav-button[data-name=github]:empty:before{margin-left:-7px;margin-right:-7px}.discovery-nav-popup>.toggle-menu-item{padding:4px 4px 4px 12px}.discovery-nav-popup>.toggle-menu-item .view-toggle-group{display:flex;align-items:center}.discovery-nav-popup>.toggle-menu-item .view-toggle-group-before{flex:1}.discovery-nav-popup>.toggle-menu-item .view-toggle{font-size:11px;padding-top:2px;padding-bottom:2px}.discovery-nav-popup .powered-by-discoveryjs{padding:2px 6px 4px;font-size:11px;opacity:.75;background-color:#8882;text-align:right}.discovery>.loading-overlay{position:absolute;z-index:1000;inset:0;padding:35px 40px;background:var(--discovery-background-color);will-change:opacity,visibility}.discovery>.loading-overlay.error{overflow:auto;display:flex;flex-direction:column;gap:16px}.discovery>.loading-overlay>.view-app-header{transition:opacity .25s .5s;will-change:opacity;contain:paint;@starting-style{opacity:0}}.discovery>.loading-overlay.error>.view-app-header{transition:none!important}.discovery>.loading-overlay.done>.view-app-header{visibility:hidden}.discovery>.loading-overlay.error>.view-app-header:first-child{margin-top:-10px;margin-bottom:27px}.discovery>.loading-overlay.error>.action-buttons .view-button+.view-button{margin-left:2ex}.discovery>.loading-overlay.error>.error-message,.discovery>.loading-overlay.error>.warning-message{padding:20px;box-sizing:border-box;color:#d85a5a;background:#ff00002e;overflow:auto}.discovery>.loading-overlay.error>.warning-message{color:#856404;background-color:#fff3d1}.discovery-root-darkmode>.loading-overlay.error>.error-message{background-color:#3f3333;color:#dc7c7c}.discovery-root-darkmode>.loading-overlay.error>.warning-message{background-color:#3c3627;color:#bdab77}.discovery>.loading-overlay.error>:is(.error-message,.warning-message) a{color:inherit;color:color-mix(in srgb,currentColor,var(--discovery-color) 35%);text-decoration-color:color-mix(in srgb,currentColor,var(--discovery-background-color) 65%)}.discovery-root-darkmode>.loading-overlay.error>:is(.error-message,.warning-message) a{color:color-mix(in srgb,currentColor,var(--discovery-color) 45%);text-decoration-color:color-mix(in srgb,currentColor,var(--discovery-background-color) 45%)}.discovery>.loading-overlay.error>:is(.error-message,.warning-message) a:hover{text-decoration-color:currentColor}.discovery>.loading-overlay.error>:is(.error-message,.warning-message) .error-type-badge{margin:-20px 0 15px -20px}.discovery>.loading-overlay.error>:is(.error-message,.warning-message) .error-type-badge:before{content:"Error" attr(data-stage);display:inline-block;padding:1ex 20px;background-color:#ff9d9d;color:#992d2d;text-shadow:none;font-size:11px;text-transform:uppercase}.discovery-root-darkmode>.loading-overlay.error>:is(.error-message,.warning-message) .error-type-badge:before{color:var(--discovery-color);background-color:#833939}.discovery>.loading-overlay.error>.warning-message .error-type-badge:before{color:inherit;background-color:#f9de91}.discovery-root-darkmode>.loading-overlay.error>.warning-message .error-type-badge:before{background-color:#5d502d}.discovery>.loading-overlay.done{opacity:0;visibility:hidden;transition:all .25s;pointer-events:none}.discovery>.loading-overlay .view-progress{max-width:none}.discovery>.loading-overlay .view-progress .progress{max-width:300px}.discovery-buildin-view-render-error{display:inline-block;vertical-align:top;margin:1px;border:1px solid rgba(212,0,0,.4);background-image:linear-gradient(to bottom,rgba(255,25,25,.1) 19px,transparent 0);background-clip:padding-box;color:#c66;border-radius:4px;padding:4px;font-size:10px;line-height:1}.discovery-buildin-view-render-error:before{content:"ERROR";display:inline-block;margin:-4px 1ex -4px -4px;border-radius:3px 0 0 3px;background:#e2242466;color:#ffffffd9;text-shadow:1px 1px rgb(0,0,0,.2);padding:4px}.discovery-buildin-view-render-error[data-type=config]:before{content:"CONFIG ERROR"}.discovery-buildin-view-render-error[data-type=render]:before{content:"RENDER ERROR"}.discovery-buildin-view-render-error.expanded:before{border-bottom-left-radius:0}.discovery-buildin-view-render-error .toggle-config{margin-left:1ex;cursor:pointer;opacity:.65;color:#888;user-select:none}.discovery-buildin-view-render-error .toggle-config:hover{opacity:1}.discovery-buildin-view-render-error .view-struct{margin:5px -4px -4px;border-radius:0 0 3px 3px}.discovery-buildin-view-tooltip{padding:5px 10px;min-width:120px;border:.5px solid #fff5;border-radius:3px;font-size:12px;background:#ffffffbf;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.discovery-root-darkmode .discovery-buildin-view-tooltip{background:#242424cc}
</style>
    <style type="discovery/style" src="model-loader.css">.view-progress{max-width:300px;z-index:1;pointer-events:none}.view-progress.skip-fast-track{transition:opacity .25s var(--appearance-delay, .5s);will-change:opacity;contain:paint;@starting-style{opacity:0}}.view-progress.skip-fast-track.done:not(.error){display:none}.view-progress>.progress{content:"";display:block;position:relative;overflow:hidden;margin-top:4px;box-sizing:border-box;height:3px;background:#c6c6c64d;border-radius:2px}.view-progress>.progress:before{content:"";display:block;height:100%;width:100%;position:absolute;left:0;top:0;transform:scaleX(var(--progress, 0));transform-origin:left;background-color:var(--color, #1f7ec5)}.view-progress>.content.main-secondary{display:flex;white-space:nowrap;gap:1ex}.view-progress>.content>.secondary{flex:1;overflow:hidden;text-overflow:ellipsis;color:#888}:host{position:absolute;z-index:1001!important;padding:35px 40px;width:100%}.view-button{position:relative;display:inline-block;box-sizing:border-box;padding:8px 12px;outline:none;margin:0;color:var(--discovery-view-button-color);background-color:var(--discovery-view-button-background-color);border:1px solid var(--discovery-view-button-border-color);border-radius:3px;font-family:inherit;font-size:inherit;line-height:1.2;text-align:center;cursor:pointer;--discovery-view-button-color: var(--discovery-color);--discovery-view-button-background-color: rgba(255, 255, 255, .1);--discovery-view-button-border-color: rgba(127, 127, 127, .4);--discovery-view-button-hover-background-color: rgba(221, 221, 221, .3);--discovery-view-button-hover-border-color: rgba(170, 170, 170, .6);--discovery-view-button-active-background-color: rgba(131, 131, 131, .25);--discovery-view-button-active-border-color: var(--discovery-view-button-border-color);--discovery-view-button-focus-background-color: var(--discovery-view-button-background-color);--discovery-view-button-focus-border-color: rgba(128, 128, 128, .6)}.view-button:empty:before{content:"\200b";float:left}.view-button:focus-visible{box-shadow:0 0 1px 3px #0af3;background-color:var(--discovery-view-button-focus-background-color);border-color:var(--discovery-view-button-focus-border-color);z-index:1}.view-button:hover,.view-button.discovery-view-popup-active{background-color:var(--discovery-view-button-hover-background-color);border-color:var(--discovery-view-button-hover-border-color)}.view-button:active{background-color:var(--discovery-view-button-active-background-color);border-color:var(--discovery-view-button-active-border-color)}.view-button[disabled]{opacity:.5;pointer-events:none;cursor:default}.view-button+.view-button{margin-left:1ex}.view-button-primary{--discovery-view-button-color: white;--discovery-view-button-background-color: #00aaff;--discovery-view-button-border-color: transparent;--discovery-view-button-hover-background-color: #009cf0;--discovery-view-button-hover-border-color: transparent;--discovery-view-button-active-background-color: #008ee0;--discovery-view-button-focus-border-color: transparent}.discovery-root-darkmode .view-button-primary{--discovery-view-button-color: #fffd;--discovery-view-button-background-color: #006aa3e6;--discovery-view-button-hover-background-color: #0074b3e6;--discovery-view-button-active-background-color: #006aa3d0}.view-button-danger{--discovery-view-button-color: white;--discovery-view-button-background-color: #ff6163;--discovery-view-button-border-color: transparent;--discovery-view-button-hover-background-color: #f05456;--discovery-view-button-hover-border-color: transparent;--discovery-view-button-active-background-color: #e34449;--discovery-view-button-focus-border-color: transparent}.discovery-root-darkmode .view-button-danger{--discovery-view-button-color: #fffd;--discovery-view-button-background-color: #c32224bf;--discovery-view-button-hover-background-color: #d02528bf;--discovery-view-button-active-background-color: #c32224a6}.view-button-warning{--discovery-view-button-color: rgba(0, 0, 0, .84);--discovery-view-button-background-color: #ffcf21;--discovery-view-button-border-color: transparent;--discovery-view-button-hover-background-color: #fcbd00;--discovery-view-button-hover-border-color: transparent;--discovery-view-button-active-background-color: #f7ad00;--discovery-view-button-focus-border-color: transparent}.discovery-root-darkmode .view-button-warning{--discovery-view-button-color: #eeee;--discovery-view-button-background-color: #ffd40199;--discovery-view-button-hover-background-color: #ffd91aa6;--discovery-view-button-active-background-color: #ffd4018e}:host{display:flex;flex-direction:column;box-sizing:border-box;max-width:100vw;height:100%;z-index:1}:host(.generate-data-crash){display:flex;flex-direction:column}:host>.view-progress{max-width:none}:host>.view-progress>.progress{max-width:300px}:host>.error{margin:20px 0;padding:20px;box-sizing:border-box;width:100%;font-family:Menlo,Monaco,Consolas,monospace;font-size:12px;color:#d85a5a;background:#ff00002e;text-shadow:1px 1px var(--discovery-background-color);white-space:pre-wrap;overflow:auto}:host([darkmode])>.error{background-color:#3f3333;color:#eb8f8f}:host>.error .error-type-badge{margin:-20px 0 15px -20px}:host>.error .error-type-badge:before{content:"Client error";display:inline-block;padding:1ex 20px;background-color:#ff9d9d;color:#e23c3c;text-shadow:none;font-size:11px;text-transform:uppercase}:host>.error .error-type-badge[data-type=server]:before{content:"Server error"}:host([darkmode])>.error .error-type-badge:before{color:var(--discovery-color);background-color:#833939}:host>.action-buttons{font-size:14px}:host>.action-buttons .view-button{padding-left:20px;padding-right:20px}:host(.generate-data-crash)>.action-buttons{margin:-3px 0 0 -20px}.data-status{flex:1;overflow:hidden;display:flex;flex-direction:column;margin:-15px -20px;font-family:Menlo,Monaco,Consolas,monospace;font-size:12px;line-height:16px;transition:opacity .5s,margin .5s;pointer-events:all;@starting-style{opacity:0}}.view-progress+.data-status{margin-top:15px}.data-status.finished{transition-duration:.15s}.data-status.finished:not(.crashed){opacity:0;transition-duration:.5s}.data-status.compliment-error{margin:10px 0 20px}.data-status>.header{padding:10px 20px;background-color:#c0c0c01f;background-image:linear-gradient(to top,#96969626,#96969626);margin-bottom:1px;opacity:.8}.data-status.crashed>.header{background-color:#ff898940;color:#d00;opacity:1}:host([darkmode]) .data-status.crashed>.header{background-color:#91000040;color:#eb8f8f}.data-status.compliment-error.collapsed>.header,.data-status.compliment-error:not(.collapsed)>.output{margin-bottom:20px}.data-status>.output{flex:1;padding:10px 20px;overflow:scroll;white-space:pre-wrap;background-color:#c0c0c01f}.data-status.crashed>.output{background-color:#ff98981f}.data-status.collapsed>.output{display:none}.data-status>.output .stderr{color:#d00}:host([darkmode]) .data-status>.output .stderr{color:#eb8f8f}.data-status .plan-step-list{--nested-padding: 20px;padding:0;margin:0;margin-left:var(--nested-padding)}.data-status>.output>.plan-step-list{margin-left:-20px}.data-status .plan-step{list-style:none}.data-status .num-delim{padding-left:.14em}.data-status .plan-step>.plan-step__header{display:flex;align-items:center;height:2em;margin:0 -20px 0 calc(-20px - var(--nested-padding) * var(--level, 0));padding:0 20px 0 calc(20px + var(--nested-padding) * var(--level, 0))}.data-status .plan-step:is(.started,.finished,.crashed)>.plan-step__header:hover{background-color:#0001;cursor:pointer}:host([darkmode]) .data-status .plan-step:is(.started,.finished,.crashed)>.plan-step__header:hover{background-color:#0002}.data-status .plan-step:not(.started,.finished,.crashed)>.plan-step__header .plan-step__header-content,.data-status .plan-step:not(.started,.finished,.crashed)>.plan-step__header .plan-step__header-status{filter:brightness(.65) contrast(.1)}.data-status .plan-step>.plan-step__header .plan-step__header-status{display:inline-block;box-sizing:border-box;height:10px;margin-top:-1px;margin-right:1ex;aspect-ratio:1/1;border:1px solid currentColor;border-radius:50%;background-clip:content-box;background-color:transparent}.data-status .plan-step.started>.plan-step__header .plan-step__header-status{--spinner-color: #a88d16;border-width:0px;background:radial-gradient(farthest-side,var(--spinner-color) 94%,#0000) top / 1px 1px no-repeat,conic-gradient(#0000 30%,var(--spinner-color));-webkit-mask:radial-gradient(farthest-side,#0000 calc(100% - 1px),#000 0);mask:radial-gradient(farthest-side,#0000 calc(100% - 1px),#000 0);animation:1.25s infinite linear discovery-loader-processing}:host([darkmode]) .data-status .plan-step.started>.plan-step__header .plan-step__header-status{--spinner-color: #d8d431}.data-status .plan-step.finished>.plan-step__header .plan-step__header-status{background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 8 8">%0A    <path fill="%23fff6" d="M6.564.75l-3.59 3.612-1.538-1.55L0 4.26l2.974 2.99L8 2.193z"/>%0A</svg>%0A') no-repeat center #1e7d1e;background-size:6px;transform:scale(1.2);border-color:#28701a;filter:brightness(1.4)}:host([darkmode]) .data-status .plan-step.finished>.plan-step__header .plan-step__header-status{background-color:#146614;border-color:#1f880b;filter:none}.data-status .plan-step.crashed>.plan-step__header .plan-step__header-status{background:#e05f5fab;border-color:#b97d7d;transition:.5s ease-in-out;transition-property:border,background-color}.data-status .plan-step>.plan-step__header .plan-step__header-toggle{order:-1;height:100%;width:20px;text-align:center;filter:brightness(.75)}.data-status .plan-step>.plan-step__header:hover .plan-step__header-toggle,.data-status .plan-step:not(.collapsed)>.plan-step__header .plan-step__header-toggle{filter:brightness(1)}.data-status .plan-step:not(.has-output,:not(.collapsed))>.plan-step__header:not(:hover) .plan-step__header-toggle{visibility:hidden}.data-status .plan-step>.plan-step__header .plan-step__header-toggle:before{content:"";background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">%0A    <path fill="%23888" d="M 3.71875 7.78125 L 2.28125 9.21875 L 11.28125 18.21875 L 12 18.90625 L 12.71875 18.21875 L 21.71875 9.21875 L 20.28125 7.78125 L 12 16.0625 Z "/>%0A</svg>%0A') no-repeat center;background-size:11px;transition:transform .15s ease-out;width:12px;height:100%;display:inline-block;vertical-align:middle;transform:rotate(-90deg)}.data-status .plan-step:not(.collapsed)>.plan-step__header .plan-step__header-toggle:before{transform:rotate(0)}.data-status .plan-step>.plan-step__header .plan-step__header-summary{order:3;padding:2px 6px;margin-left:12px;background-color:#8882;color:#888;border-radius:3px;opacity:1;transition:opacity .5s ease-in}:host([darkmode]) .data-status .plan-step>.plan-step__header .plan-step__header-summary{background-color:#0003}.data-status .plan-step>.plan-step__header .plan-step__header-summary:empty{opacity:0;visibility:hidden}.data-status .plan-step>.plan-step__header .plan-step__elapsed-time{opacity:.5;margin-left:12px;padding-top:1px;font-size:11px}.data-status .plan-step>.plan-step__content{min-height:1em;margin:2px 0 2px 24px;padding:.25em 0 .25em 12px;border-left:1px solid #888;line-height:1.4}.data-status .plan-step>.plan-step__content>.stdout{filter:brightness(.8) contrast(.1)}.data-status .plan-step>.plan-step__content:empty:before{content:"No output";filter:brightness(.65) contrast(.1);font-style:italic}.data-status .plan-step.collapsed>.plan-step__content{display:none}@keyframes discovery-loader-processing{to{transform:rotate(1turn)}}
</style>
    
    
    
    <style>
        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
            border: none;
            -webkit-text-size-adjust: 100%;
        }
        .discovery {
            height: 100vh;
        }
    </style>
</head>
<body>
    <noscript type="discovery-noscript">
        <style>body { margin: 16px }</style>
        <p>Sorry, but this page requires JavaScript to display properly.</p>
        <p>Please enable JavaScript in your browser settings or upgrade to a browser that supports JavaScript.</p>
    </noscript>
    <script>(()=>{var c1=Object.create;var ru=Object.defineProperty;var f1=Object.getOwnPropertyDescriptor;var d1=Object.getOwnPropertyNames;var p1=Object.getPrototypeOf,h1=Object.prototype.hasOwnProperty;var z=(n,e)=>()=>(n&&(e=n(n=0)),e);var Ct=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),Fe=(n,e)=>{for(var i in e)ru(n,i,{get:e[i],enumerable:!0})},g1=(n,e,i,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of d1(e))!h1.call(n,l)&&l!==i&&ru(n,l,{get:()=>e[l],enumerable:!(o=f1(e,l))||o.enumerable});return n};var dn=(n,e,i)=>(i=n!=null?c1(p1(n)):{},g1(e||!n||!n.__esModule?ru(i,"default",{value:n,enumerable:!0}):i,n));var Vs,iu=z(()=>{Vs=[]});var m1,y1,pn,Ae,st=z(()=>{({toString:m1,hasOwnProperty:y1}=Object.prototype),pn=n=>m1.call(n),Ae=Object.hasOwn||((n,e)=>y1.call(n,e))});function gi(){return[performance.timeOrigin.toString(16),(1e4*performance.now()).toString(16),Math.random().toString(16).slice(2)].join("-")}var Ys=z(()=>{});var Et,er=z(()=>{Et=class{subscriber;value;constructor(e,i){this.subscriber=null,this.value=e,this.shouldUpdate=typeof i=="function"?i:this.shouldUpdate}get readonly(){let e=this;return{subscribe:this.subscribe.bind(this),subscribeSync:this.subscribeSync.bind(this),unsubscribe:this.unsubscribe.bind(this),get value(){return e.value}}}subscribe(e){return this.subscriber={callback:e,subscriber:this.subscriber},()=>this.unsubscribe(e)}subscribeSync(e){let i=this.subscribe(e);return e(this.value,i),i}unsubscribe(e){let i=this,o=this.subscriber;for(;o!==null;){if(o.callback===e){o.callback=null,i.subscriber=o.subscriber;break}i=o,o=o.subscriber}}shouldUpdate(e,i){return e!==i}set(e){return this.#e(e)!==!1}asyncSet(e){let i=this.#e(e);return i===!1?Promise.resolve(!1):Promise.all(i).then(()=>!0)}#e(e){if(!this.shouldUpdate(e,this.value))return!1;let i=[],o=this.subscriber;for(this.value=e;o!==null;){let{callback:l}=o;l!==null&&i.push(l(e,()=>this.unsubscribe(l))),o=o.subscriber}return i}}});function v1(n){let e=fh(n),i=new Map;return function(l){let c=i.get(l);return c===void 0&&(c=new Ks(e,l),i.set(l,c),b1(e,i)),c}}function w1(n){let e=fh(n);return function(o){return e?.getItem(o)??null}}function fh(n){let e="__storage_test__"+Math.random(),i;try{i=window[n]}catch{return null}try{i.setItem(e,e),i.removeItem(e)}catch(o){if(!(o instanceof DOMException&&(o.code===22||o.code===1014||o.name==="QuotaExceededError"||o.name==="NS_ERROR_DOM_QUOTA_REACHED")&&i.length!==0))return null}return i}function b1(n,e){n!==null&&!Qs.has(n)&&(Qs.set(n,e),Qs.size===1&&addEventListener("storage",i=>{let o=Qs.get(i.storageArea);if(o!==void 0){let l=o.get(i.key);l&&l.forceSync()}}))}var ou,su,Qs,Ks,au=z(()=>{er();ou=v1("localStorage"),su=w1("localStorage"),Qs=new Map;Ks=class extends Et{#e;#t;constructor(e,i){super(e?.getItem(i)??null),this.#e=e,this.#t=i}#n(){return this.#e?.getItem(this.#t)??null}get storage(){return this.#e}get key(){return this.#t}get(){return this.value}set(e){if(this.#e){let i=this.#n();if(e!==i)return this.#e.setItem(this.#t,e),super.set(e)}return!1}delete(){this.#e&&this.#e.removeItem(this.#t)}forceSync(){return this.#e?super.set(this.#n()):!1}}});function ph(n){return x1.includes(n)}function xo(){return matchMedia("(prefers-color-scheme:dark)")}function hh(n,e){let i=n;switch(n){case!0:n="dark";break;case!1:n="light";break;case"disabled":case"disable":case"off":n="light-only";break;case"only":n="dark-only";break}if(i!==n&&console.warn(`Used legacy value "${i}" for ColorSheme, value replaced for "${n}"`),n!=="light-only"&&n!=="dark-only"&&e){let o=su(dh);ph(o)&&(n=o)}return n}function k1(n){switch(n){case"light":case"dark":return"manual";case"light-only":case"dark-only":return"only";case"auto":return"auto";default:return n}}function lu(n){let e=mi(n);return e==="auto"?xo().matches?"dark":"light":e}function mi(n){switch(n){case"auto":return"auto";case"dark":case"dark-only":return"dark";case"light":case"light-only":default:return"light"}}function Xs(n="auto",e=!1){return lu(hh(n,e))}var dh,x1,Js,Zs,yi=z(()=>{au();dh="discoveryjs:color-scheme",x1=Object.freeze(["auto","light","dark"]),Js=Object.freeze(["auto","light","dark","light-only","dark-only"]);Zs=class{#e;#t;#n;#o;#r;#i;persistent;state;value;serializedValue;mode;constructor(e="auto",i=!1){this.#e=i?ou(dh):null,this.#o=[],this.#r=hh(e,i),this.#i=lu(this.#r),Object.defineProperties(this,{persistent:{get:()=>this.#e!==null},state:{get:()=>this.#r},value:{get:()=>this.#i},serializedValue:{get:()=>mi(this.#r)},mode:{get:()=>k1(this.#r)}}),this.#t=this.#e?.subscribe(o=>{ph(o)&&o!==this.serializedValue&&this.mode!=="only"&&this.set(o)}),this.#n=()=>{let o=xo(),l=()=>{this.state==="auto"&&this.set("auto")};return o.addEventListener("change",l),()=>o.removeEventListener("change",l)}}subscribe(e,i=!1){let o={fn:e};return this.#o.push(o),i&&o.fn(this.#i,this.#r),()=>{let l=o!==null?this.#o.indexOf(o):-1;o=null,l!==-1&&this.#o.splice(l,1)}}destroy(){this.#t?.(),this.#t=void 0,this.#n?.(),this.#n=void 0}set(e){let i=this.serializedValue,o=this.#i,l=this.#r;if(!Js.includes(e)){console.warn(`Bad value "${e}" for ColorScheme#state, value ignored`);return}this.#r=e,this.#i=lu(e),this.serializedValue!==i&&this.#e?.set(this.serializedValue),(this.#r!==l||this.#i!==o)&&this.#o.forEach(({fn:c})=>c(this.#i,this.#r))}toggle(e=!1){switch(this.#r){case"auto":this.set(xo().matches?"dark":"light");return;case"dark":this.set(e&&!xo().matches?"auto":"light");return;case"light":this.set(e&&xo().matches?"auto":"dark");return}console.warn(`ColorScheme is locked for changes (mode=${this.#r})`)}}});function mh(n,e,i){e in i||(i[e]=[n.style.getPropertyValue(e),n.style.getPropertyPriority(e)])}function uu(n,e){let i=gh.get(n)||Object.create(null),o=Xs(e)==="dark";for(let[l,c]of Object.entries(C1))mh(n,l,i),n.style.setProperty(l,c);for(let[l,c]of Object.entries(D1))mh(n,l,i),o?n.style.setProperty(l,c):n.style.removeProperty(l);return gh.set(n,i),o}var gh,C1,D1,cu=z(()=>{yi();gh=new WeakMap,C1={"font-family":"Tahoma, Verdana, Arial, sans-serif","font-size":"14px","line-height":"1.6","-webkit-text-size-adjust":"none","text-size-adjust":"none","background-color":"var(--discovery-background-color, white)",color:"var(--discovery-color, black)"},D1={"--discovery-background-color":"#242424","--discovery-color":"#cccccc"}});function $(n,e,i){let o=document.createElement(n);typeof e=="string"&&(e={class:e});for(let l in e)if(Ae(e,l)){let c=e[l];if(typeof c>"u")continue;typeof c=="function"?o.addEventListener(l.slice(2),c):o.setAttribute(l,c)}return Array.isArray(i)?o.append(...i):typeof i=="string"&&(o.innerHTML=i),o}function yh(n){return document.createTextNode(String(n))}function fu(n){return n.nodeType===Node.DOCUMENT_FRAGMENT_NODE}function Dr(...n){let e=document.createDocumentFragment();return n.forEach(i=>e.appendChild(i instanceof Node?i:yh(i))),e}var vh,Rt,Oe=z(()=>{st();vh=(()=>{let n=!1;try{let e={get passive(){return n=!0,!1}},i=()=>{};window.addEventListener("test-passive",i,e),window.removeEventListener("test-passive",i)}catch{}return n})(),Rt=vh?Object.freeze({passive:!0,capture:!0}):!0});async function ko(n,e){let i=$("style",null,":host{display:none}"),o=new Set;Array.isArray(e)&&(n.append(...e.map(l=>{switch(typeof l=="string"&&(l={type:"style",content:l}),l.type){case"style":case"inline":return $("style",{media:l.media},l.content);case"link":case"external":{let c,f,d=new Promise((m,y)=>{c=m,f=y});return o.add(d),$("link",{rel:"stylesheet",href:l.href,media:l.media,onerror(m){o.delete(d),f(m)},onload(){o.delete(d),c()}})}default:throw new Error(`Unknown type "${l.type}" for a style descriptor`)}})),o.size&&(n.append(i),await Promise.all(o),i.remove()))}var ea=z(()=>{Oe()});function A1(n){if(!n||typeof n!="object")return"value is not an object";let{name:e,test:i,decode:o}=n;return typeof e!="string"?"missed name":typeof i!="function"?"missed test function":typeof o!="function"?"missed decode function":!1}function S1(n){let e=A1(n);if(e)throw new Error(`Bad encoding config${n?.name?` "${n.name}"`:""}: ${e}`);let{name:i,test:o,streaming:l,decode:c}=n;return Object.freeze(l?{name:i||"unknown",test:o,streaming:!0,decode:c}:{name:i||"unknown",test:o,streaming:!1,decode:c})}function ta(n){if(!n)return[];if(!Array.isArray(n))throw new Error("Encodings must be an array");return n.map(S1)}var du=z(()=>{});function pu(n){return typeof n=="object"&&n!==null&&(typeof n[Symbol.iterator]=="function"||typeof n[Symbol.asyncIterator]=="function")}function hu(n,e,i,o){switch(i&&typeof i.toJSON=="function"&&(i=i.toJSON()),o!==null&&(i=o.call(n,String(e),i)),typeof i){case"function":case"symbol":i=void 0;break;case"object":if(i!==null){let l=i.constructor;(l===String||l===Number||l===Boolean)&&(i=i.valueOf())}break}return i}function E1(n){return typeof n=="function"?n:Array.isArray(n)?[...new Set(n.map(i=>{let o=i&&i.constructor;return o===String||o===Number?String(i):null}).filter(i=>typeof i=="string"))]:null}function M1(n){return typeof n=="number"?!Number.isFinite(n)||n<1?!1:" ".repeat(Math.min(n,10)):typeof n=="string"&&n.slice(0,10)||!1}function gu(n,e){(n===null||Array.isArray(n)||typeof n!="object")&&(n={replacer:n,space:e});let i=E1(n.replacer),o=Object.keys;if(Array.isArray(i)){let l=i;o=()=>l,i=null}return{...n,replacer:i,getKeys:o,space:M1(n.space)}}var Co=z(()=>{});function F1(n,e){return n.name==="SyntaxError"&&e.jsonParseOffset&&(n.message=n.message.replace(/at position (\d+)/,(i,o)=>"at position "+(Number(o)+e.jsonParseOffset))),n}function N1(n,e){let i=n.length;n.length+=e.length;for(let o=0;o<e.length;o++)n[i+o]=e[o]}async function na(n){let e=typeof n=="function"?n():n;if(pu(e)){let i=new mu;try{for await(let o of e){if(typeof o!="string"&&!ArrayBuffer.isView(o))throw new TypeError("Invalid chunk: Expected string, TypedArray or Buffer");i.push(o)}return i.finish()}catch(o){throw F1(o,i)}}throw new TypeError("Invalid chunk emitter: Expected an Iterable, AsyncIterable, generator, async generator, or a function returning an Iterable or AsyncIterable")}var Do,L1,T1,mu,yu=z(()=>{Co();Do=1,L1=2,T1=new TextDecoder;mu=class{constructor(){this.value=void 0,this.valueStack=null,this.stack=new Array(100),this.lastFlushDepth=0,this.flushDepth=0,this.stateString=!1,this.stateStringEscape=!1,this.pendingByteSeq=null,this.pendingChunk=null,this.chunkOffset=0,this.jsonParseOffset=0}parseAndAppend(e,i){this.stack[this.lastFlushDepth-1]===Do?(i&&(this.jsonParseOffset--,e="{"+e+"}"),Object.assign(this.valueStack.value,JSON.parse(e))):(i&&(this.jsonParseOffset--,e="["+e+"]"),N1(this.valueStack.value,JSON.parse(e)))}prepareAddition(e){let{value:i}=this.valueStack;if(Array.isArray(i)?i.length!==0:Object.keys(i).length!==0){if(e[0]===",")return this.jsonParseOffset++,e.slice(1);if(e[0]!=="}"&&e[0]!=="]")return this.jsonParseOffset-=3,"[[]"+e}return e}flush(e,i,o){let l=e.slice(i,o);if(this.jsonParseOffset=this.chunkOffset+i,this.pendingChunk!==null&&(l=this.pendingChunk+l,this.jsonParseOffset-=this.pendingChunk.length,this.pendingChunk=null),this.flushDepth===this.lastFlushDepth)this.flushDepth>0?this.parseAndAppend(this.prepareAddition(l),!0):(this.value=JSON.parse(l),this.valueStack={value:this.value,prev:null});else if(this.flushDepth>this.lastFlushDepth){for(let c=this.flushDepth-1;c>=this.lastFlushDepth;c--)l+=this.stack[c]===Do?"}":"]";this.lastFlushDepth===0?(this.value=JSON.parse(l),this.valueStack={value:this.value,prev:null}):this.parseAndAppend(this.prepareAddition(l),!0);for(let c=this.lastFlushDepth||1;c<this.flushDepth;c++){let f=this.valueStack.value;if(this.stack[c-1]===Do){let d;for(d in f);f=f[d]}else f=f[f.length-1];this.valueStack={value:f,prev:this.valueStack}}}else{l=this.prepareAddition(l);for(let c=this.lastFlushDepth-1;c>=this.flushDepth;c--)this.jsonParseOffset--,l=(this.stack[c]===Do?"{":"[")+l;this.parseAndAppend(l,!1);for(let c=this.lastFlushDepth-1;c>=this.flushDepth;c--)this.valueStack=this.valueStack.prev}this.lastFlushDepth=this.flushDepth}push(e){if(typeof e!="string"){if(this.pendingByteSeq!==null){let c=e;e=new Uint8Array(this.pendingByteSeq.length+c.length),e.set(this.pendingByteSeq),e.set(c,this.pendingByteSeq.length),this.pendingByteSeq=null}if(e[e.length-1]>127)for(let c=0;c<e.length;c++){let f=e[e.length-1-c];if(f>>6===3){c++,(c!==4&&f>>3===30||c!==3&&f>>4===14||c!==2&&f>>5===6)&&(this.pendingByteSeq=e.slice(e.length-c),e=e.slice(0,-c));break}}e=T1.decode(e)}let i=e.length,o=0,l=0;e:for(let c=0;c<i;c++){if(this.stateString){for(;c<i;c++)if(this.stateStringEscape)this.stateStringEscape=!1;else switch(e.charCodeAt(c)){case 34:this.stateString=!1;continue e;case 92:this.stateStringEscape=!0}break}switch(e.charCodeAt(c)){case 34:this.stateString=!0,this.stateStringEscape=!1;break;case 44:l=c;break;case 123:l=c+1,this.stack[this.flushDepth++]=Do;break;case 91:l=c+1,this.stack[this.flushDepth++]=L1;break;case 93:case 125:l=c+1,this.flushDepth--,this.flushDepth<this.lastFlushDepth&&(this.flush(e,o,l),o=l);break;case 9:case 10:case 13:case 32:o===c&&o++,l===c&&l++;break}}l>o&&this.flush(e,o,l),l<i&&(this.pendingChunk!==null?this.pendingChunk+=e:this.pendingChunk=e.slice(l,i)),this.chunkOffset+=i}finish(){return this.pendingChunk!==null&&(this.flush("",0,0),this.pendingChunk=null),this.value}}});var vu=z(()=>{Co()});function P1(n){return n>=55296&&n<=56319}function j1(n){return n>=56320&&n<=57343}function wh(n){if(!/[^\x20\x21\x23-\x5B\x5D-\x7F]/.test(n))return n.length+2;let e=0,i=!1;for(let o=0;o<n.length;o++){let l=n.charCodeAt(o);if(l<2048)e+=B1[l];else if(P1(l)){e+=6,i=!0;continue}else j1(l)?e=i?e-2:e+6:e+=3;i=!1}return e+2}function z1(n){let e=0;return n<0&&(e=1,n=-n),n>=1e9&&(e+=9,n=(n-n%1e9)/1e9),n>=1e4?n>=1e6?e+(n>=1e8?9:n>=1e7?8:7):e+(n>=1e5?6:5):e+(n>=100?n>=1e3?4:3:n>=10?2:1)}function R1(n){switch(typeof n){case"string":return wh(n);case"number":return Number.isFinite(n)?Number.isInteger(n)?z1(n):String(n).length:4;case"boolean":return n?4:5;case"undefined":case"object":return 4;default:return 0}}function Ao(n,...e){let{replacer:i,getKeys:o,...l}=gu(...e),c=!!l.continueOnCircular,f=l.space?.length||0,d=new Map,g=new Map,m=new Set,y=[],k={"":n},C=!1,M=0,E=0,F=0;return N(k,"",n),M===0&&(M+=9),{bytes:isNaN(M)?1/0:M+E,spaceBytes:f>0&&isNaN(M)?1/0:E,circular:[...m]};function N(A,b,L){if(!C)if(L=hu(A,b,L,i),L===null||typeof L!="object")(L!==void 0||Array.isArray(A))&&(M+=R1(L));else{if(y.includes(L)){m.add(L),M+=4,c||(C=!0);return}if(g.has(L)){M+=g.get(L);return}F++;let T=F,I=M,B=0;if(y.push(L),Array.isArray(L)){B=L.length;for(let R=0;R<B;R++)N(L,R,L[R])}else{let R=M;for(let U of o(L))if(N(L,U,L[U]),R!==M){let W=d.get(U);W===void 0&&d.set(U,W=wh(U)+1),M+=W,B++,R=M}}M+=B===0?2:1+B,f>0&&B>0&&(E+=(Array.isArray(L)?0:B)+(1+y.length*f)*(B+1)-f),y.pop(),T!==F&&g.set(L,M-I)}}}var O1,I1,B1,bh=z(()=>{Co();O1=typeof Object.hasOwn=="function"?Object.hasOwn:(n,e)=>Object.hasOwnProperty.call(n,e),I1={8:"\\b",9:"\\t",10:"\\n",12:"\\f",13:"\\r",34:'\\"',92:"\\\\"},B1=Uint8Array.from({length:2048},(n,e)=>O1(I1,e)?2:e<32?6:e<128?1:2)});var xh=z(()=>{yu();vu();Co()});var wu=z(()=>{yu();vu();bh();xh()});var bu,kh=z(()=>{wu();bu=Object.freeze({name:"json",test:()=>!0,streaming:!0,decode:na})});function cD(n,e,i,o=new Array(i)){let l=e&15,c=e&48,f=i,d=0,g=0;switch(c){case Ch:{d=o[0]=n.readIntVar(),f--,g=1;break}case Dh:{d=n.readIntVar();break}}switch(l){case iD:{for(let m=0;m<f;m++)o[g+m]=n.readVlq();break}case oD:{for(let m=0;m<f;m++)o[g+m]=n.readIntVar();break}case sD:{let m=n.readBytes(Math.ceil(f/2));for(let y=0,k=0;y<f;y++)k=y&1?k>>4:m[y>>1],o[g+y]=k&8?n.readVlq()*8+(k&7):k&7;break}case aD:{let m=n.readBytes(Math.ceil(f/2));for(let y=0,k=0;y<f;y++){k=y&1?k>>4:m[y>>1];let C=k&4?-1:1;o[g+y]=k&8?C*(n.readVlq()*4+(k&3)):C*(k&3)}break}case Mh:{let m=e>>8,y=(1<<m)-1,k=n.readBytes(Math.ceil(f*m/8)),C=0,M=0,E=0;for(let F=0;F<f;F++){for(;M<m;)E|=k[C++]<<M,M+=8;o[g+F]=E&y,E>>=m,M-=m}break}case Lh:{let m=e>>8,y=(1<<m)-1,k=n.readBytes(Math.ceil(f*m/8)),C=0,M=0,E=0;for(let F=0;F<f;F++){for(;M<m;)E|=k[C++]<<M,M+=8;o[g+F]=E&1?-((E&y)>>1):(E&y)>>1,E>>=m,M-=m}break}case lD:{let m=o[0]=n.readIntVar(),y=n.readIntVar();for(let k=1;k<i;k++)o[k]=m+=y;break}case Eh:case ku:{let m=l===ku,y=e>>8,k=m?e&rD|y&nD:y;if(Th[y]>1){let C=n.readTypeIndex(f,k);for(let M=0;M<f;M++)o[g+M]=n.readNumber(C[M])}else{let C=31-Math.clz32(k);for(let M=0;M<f;M++)o[g+M]=n.readNumber(C)}break}default:throw new Error(`Unknown numeric array encoding method: ${l}`)}switch(c){case Ch:{o[0]=d;for(let m=1;m<i;m++)o[m]+=o[m-1];break}case Dh:{for(let m=0;m<i;m++)o[m]+=d;break}}return o}function fD(n){return n===Sh||n===9}function Fh(n){try{let{version:e}=Nh(n);if(fD(e))return!0;throw new Error(`Unsupported jsonxl version "${e}", expected "${Sh}"`)}catch{return!1}}function Nh(n){if(n.byteLength<Eo)throw new Error(`Header length must be at least ${Eo} bytes`);let e=new Uint8Array(n.buffer,n.byteOffset,Eo);if(e.subarray(0,8).some((c,f)=>c!==q1[f]))throw new Error("Bad magic number");let i=new DataView(e.buffer,e.byteOffset,Eo),o=i.getUint16(8,!0),l=i.getUint16(10,!0);return{version:o,flags:l,headerSize:Eo}}function pD(n){let e=dD.decode(n.readBytes(n.readVlq())),i=n.readNumericArray(),o=n.readNumericArray(),l=n.readNumericArray(),c=new Array(i);for(let f=0,d=0,g=0,m=0,y="";f<i.length;f++){let k=i[f],C=e.slice(d,d+=k>>2);k&2&&(C=y.slice(0,o[g++])+C),k&1&&(C=C+y.slice(-l[m++])),c[f]=C,y=C}return c}function Ah(n,e){let i=0;for(let o=0;o<n.length;o++)n[o]===e&&i++;return i}function Oh(n,e){function i(d={}){let g=0,m;for(;m=c.readObjectEntry(g++);)d[m.key]=l(m.type);return d}function o(d=c.readArrayLength()){if(d===0)return[];let g=c.readArrayHeader(),m=g>>16,y=g&65535,k=m&1,C=m>>5&1,M=m>>9&1,E=m>>1&255|(m&1)<<4,F=new Array(d),N=Th[E]>1?c.readTypeIndex(d,E,!0):null;if(E&uD)if(N===null)switch(E){case ra:F.fill(null);break;case ia:F.fill(!0);break;case oa:F.fill(!1);break}else for(let A=0;A<d;A++)switch(N[A]){case ra:F[A]=null;break;case ia:F[A]=!0;break;case oa:F[A]=!1;break}if(E&xu)for(let A=0;A<d;A++)(N===null||N[A]===xu)&&(F[A]=c.readString());if(E&So)if(E===So)c.readNumbers(y,d,F);else{let A=Ah(N,So),b=c.readNumbers(y,A);for(let L=0,T=0;L<d;L++)N[L]===So&&(F[L]=b[T++])}if(E&vi)if(M){let A=E===vi?d:Ah(N,vi),b=c.readNumericArray(A),L=o();for(let T=0,I=0,B=0;T<d;T++)(N===null||N[T]===vi)&&(F[T]=L.slice(B,B+=b[I++]))}else for(let A=0;A<d;A++)(N===null||N[A]===vi)&&(F[A]=o());if(E&Mo){let A=E===Mo?F:[];for(let b=0,L=0;b<d;b++)(N===null||N[b]===Mo)&&(F[b]=A[L++]={});if(C){let b=c.readVlq(),L=new Array(b);for(let T=0;T<b;T++)L[T]=c.readString();for(let T=0;T<b;T++){let I=L[T],B=o(A.length);for(let R=0;R<A.length;R++)B[R]!==void 0&&(A[R][I]=B[R])}}if(k)for(let b=0;b<A.length;b++)i(A[b])}return F}function l(d){switch(1<<(d&7)){case ra:return null;case xu:return c.readString();case So:return c.readNumber(d>>3);case Mo:return i();case ia:return!0;case oa:return!1;case vi:return o()}}let c=new hD(n,e),f=l(c.readUint8());if(c.pos!==n.byteLength)throw new Error("End of input is not reached");return f}var q1,Sh,_1,W1,ra,So,xu,Mo,ia,oa,vi,$1,U1,G1,V1,Y1,Q1,K1,Z1,J1,X1,eD,tD,nD,rD,Eh,ku,iD,oD,sD,aD,Mh,Lh,lD,Ch,Dh,MF,uD,Th,Eo,dD,hD,Ih=z(()=>{q1=new Uint8Array([0,0,74,83,79,78,88,76]),Sh=9,_1=268435455,W1=4294967295,ra=2,So=4,xu=8,Mo=16,ia=32,oa=64,vi=128,$1=0,U1=1,G1=2,V1=3,Y1=4,Q1=5,K1=6,Z1=8,J1=9,X1=10,eD=11,tD=12,nD=224,rD=7936,Eh=0,ku=1,iD=2,oD=3,sD=4,aD=5,Mh=6,Lh=7,lD=8,Ch=16,Dh=32,MF=~Mo,uD=ra|ia|oa,Th=new Uint8Array(256).map((n,e)=>{for(let i=0;i<8;i++)n+=e>>i&1;return n});Eo=12;dD=new TextDecoder("utf8",{ignoreBOM:!0});hD=class{constructor(n,e){this.view=new DataView(n.buffer,n.byteOffset,n.byteLength),this.bytes=n,this.pos=0,typeof e=="function"&&e(this),this.consumeHeader(),this.loadStrings(),this.loadArrayLengths(),this.loadArrayHeaders(),this.loadObjectEntries()}consumeHeader(){let{version:n,flags:e,headerSize:i}=Nh(this.view);return this.pos+=i,{version:n,flags:e}}loadStrings(){this.strings=pD(this),this.stringRefs=this.readNumericArray(),this.stringRefsCursor=0}loadArrayHeaders(){this.arrayHeaders=this.readNumericArray(),this.arrayHeaderRefs=this.readNumericArray(),this.arrayHeaderRefsCursor=0}loadArrayLengths(){this.arrayLengths=this.readNumericArray(),this.arrayLengthsCursor=0}loadObjectEntries(){let n=this.readVlq(),e=this.readVlq();this.objectEntries=new Array(n),this.objectKeys=e?this.stringRefs.slice(-e).map(i=>this.strings[i]):[];for(let i=0;i<n;i++)this.objectEntries[i]={dict:this.readNumericArray(),refs:this.readNumericArray(),cursor:0}}readString(){return this.strings[this.stringRefs[this.stringRefsCursor++]]}readArrayHeader(){return this.arrayHeaders[this.arrayHeaderRefs[this.arrayHeaderRefsCursor++]]}readArrayLength(){return this.arrayLengths[this.arrayLengthsCursor++]}readObjectEntry(n){let e=this.objectEntries[n],i=e.refs[e.cursor++],o=e.dict[i];return o===0?null:{key:this.objectKeys[o>>8],type:o&255}}readBytes(n){return this.bytes.subarray(this.pos,this.pos+=n)}readTypeIndex(n,e,i){let o=0,l=0,c=0;for(;e>0;)e&1&&(o|=c<<(l++<<2)),c++,e>>=1;let f=new Uint8Array(n),d=32-Math.clz32(l-1),g=(1<<d)-1,m=this.readBytes(Math.ceil(d*n/8)),y=0,k=0,C=0;for(let M=0;M<n;M++){C<d&&(k|=m[y++]<<C,C+=8);let E=o>>((k&g)<<2)&15;f[M]=i?1<<E:E,k>>=d,C-=d}return f}readVlq(){let n=this.view.getUint8(this.pos);if(!(n&1))n=n>>1,this.pos+=1;else if(!(n&2))n=this.view.getUint8(this.pos+1)<<6|n>>2,this.pos+=2;else if(!(n&4))n=this.view.getUint16(this.pos+1,!0)<<5|n>>3,this.pos+=3;else{let e=this.view.getUint32(this.pos,!0);n=e>>>3&_1,this.pos+=4,e>>>31&&(n+=this.readUintVar()*(1<<28))}return n}readUintVar(){let n=this.view.getUint8(this.pos++),e=n&127,i=128;for(;n&128;)n=this.view.getUint8(this.pos++),e+=(n&127)*i,i*=128;return e}readIntVar(){let n=this.readUintVar();return n&1?-(n-1)/2:n<=W1?n>>>1:n/2}readUint8(){let n=this.view.getUint8(this.pos);return this.pos++,n}readInt8(){let n=this.view.getInt8(this.pos);return this.pos++,n}readUint16(){let n=this.view.getUint16(this.pos,!0);return this.pos+=2,n}readInt16(){let n=this.view.getInt16(this.pos,!0);return this.pos+=2,n}readUint24(){let n=this.view.getUint16(this.pos,!0)|this.view.getUint8(this.pos+2)<<16;return this.pos+=3,n}readInt24(){let n=this.view.getUint16(this.pos,!0),e=this.view.getUint8(this.pos+2),i=e&128?(e<<16|n)-16777216:e<<16|n;return this.pos+=3,i}readUint32(){let n=this.view.getUint32(this.pos,!0);return this.pos+=4,n}readInt32(){let n=this.view.getInt32(this.pos,!0);return this.pos+=4,n}readFloat32(){let n=this.view.getFloat32(this.pos,!0);return this.pos+=4,n}readFloat64(){let n=this.view.getFloat64(this.pos,!0);return this.pos+=8,n}readNumber(n){switch(n){case $1:return this.readUint8();case U1:return this.readUint16();case G1:return this.readUint24();case V1:return this.readUint32();case Y1:return this.readUintVar();case Z1:return this.readInt8();case J1:return this.readInt16();case X1:return this.readInt24();case eD:return this.readInt32();case tD:return this.readIntVar();case Q1:return this.readFloat32();case K1:return this.readFloat64()}}readNumericArrayEncoding(){let n=this.readUint8();switch(n&15){case Eh:case ku:case Mh:case Lh:n|=this.readUint8()<<8;break}return n}readNumericArray(n=this.readVlq()){if(n===0)return[];let e=this.readNumericArrayEncoding();return this.readNumbers(e,n)}readNumbers(n,e,i){return cD(this,n,e,i)}}});var sa,Cu=z(()=>{Ih();sa=Object.freeze({name:"jsonxl/snapshot9",test:Fh,streaming:!1,decode:Oh})});var Bh=z(()=>{kh();Cu()});function mD(n){try{return new URL(n,location.origin).origin===location.origin}catch{return!1}}function yD(n){return n.ok}function vD(n){return n.headers.get("x-file-encoded-size")||n.headers.get("content-length")}function wD(n){return n.headers.get("x-file-size")||(mD(n.url)&&!n.headers.get("content-encoding")?n.headers.get("content-length"):void 0)}function bD(n){return n.headers.get("x-file-created-at")||n.headers.get("last-modified")||void 0}function xD(n){let e=n?Object.keys(n):[],i=["name","createdAt","elapsedTime","data"];return!(e.length!==4||e.some(o=>!i.includes(o)))}function kD(n,e,{size:i,encoding:o}){let l=null;if(xD(n)){let{data:F,...N}=n;n=F,e={...e,createdAt:F.createdAt},l=N}let c=n,f=l||{},{type:d,name:g,encoding:m,size:y,encodedSize:k,createdAt:C,...M}=e||{};return{resource:{type:d||"unknown",name:g||"unknown",encoding:o,...Number.isFinite(i)?{size:i}:null,...Number.isFinite(k)?{encodedSize:k}:null,createdAt:new Date((typeof C=="string"?Date.parse(C):C)||Date.now()),...M},meta:f,data:c}}async function CD(n){let e=[],i=0;for await(let c of n)e.push(c),i+=c.byteLength;let o=new Uint8Array(i),l=0;for(let c of e)o.set(c,l),l+=c.length;return o}async function DD(n,e,i,o){let c=n.getReader(),f=Date.now(),d=[...ta(e),sa,bu],g=0,m="unknown",y=0;await o("receiving",k(!1));try{let E=await c.read(),{value:F,done:N}=E;if(N)throw new Error("Empty payload");for(let{name:A,test:b,streaming:L,decode:T}of d)if(b(F))return m=A,{data:await(L?T(C(E)):CD(C(E)).then(M(T))),encoding:m,size:y,decodingTime:g};throw new Error("No matched encoding found for the payload")}finally{c.releaseLock()}function k(E){return{done:E,elapsed:Date.now()-f,units:"bytes",completed:y,total:i}}async function*C(E){for(;;){let{value:F,done:N}=E||await c.read();if(E=void 0,N)break;for(let A=0;A<F.length;A+=1048576){let b=performance.now(),L=A===0&&F.length-A<1048576?F:F.slice(A,A+1048576);yield L,g+=performance.now()-b,y+=L.length,await o("receiving",k(!1))}}await o("receiving",k(!0))}function M(E){return async F=>{await o("decoding",void 0,m);let N=performance.now();try{return await E(F)}finally{g=performance.now()-N}}}}async function AD(n,e){try{await e.asyncSet({stage:"request"});let i=new Date,{method:o,stream:l,resource:c,options:f,data:d}=await n(),g=new Date,m=c?.size,{encodings:y}=f||{},{data:k,encoding:C="unknown",size:M=void 0,decodingTime:E=0}=d?{data:d}:await DD(l,y,Number(m)||0,(I,B,R)=>e.asyncSet({stage:I,progress:B,step:R}));await e.asyncSet({stage:"received"});let{data:F,resource:N,meta:A}=kD(k,c,{size:M,encoding:C}),b=new Date,L=Number(b)-Number(i),T=Math.round(E||0);return{loadMethod:o,resource:N,meta:A,data:F,timings:{time:L,start:i,end:b,loadingTime:L-T,decodingTime:T,requestTime:Number(g)-Number(i),requestStart:i,requestEnd:g,responseTime:Number(b)-Number(g),responseStart:g,responseEnd:b}}}catch(i){throw console.error("[Discovery] Error loading data:",i),await e.asyncSet({stage:"error",error:i}),i}}function la(n,e){let i=new Et({stage:"inited"});return{state:i,dataset:n(i),...e}}function ua(n){return e=>AD(n,e)}function Lo(n,e){return la(ua(()=>({method:"stream",stream:n,resource:e?.resource,options:e})))}function ca(n,e){let i=Ph(n);return la(ua(()=>({method:"file",stream:n.stream(),resource:e?.resource||i,options:e})),{title:"Load data from file: "+(i?.name||"unknown")})}function Du(n,e){let o=(n.dataTransfer||n.clipboardData||n.target)?.files?.[0];if(n.stopPropagation(),n.preventDefault(),!o)throw new Error("Can't extract a file from an event object");return ca(o,e)}function Au(n,e){return e=e||{},la(ua(async()=>{let i=await fetch(n,e.fetch),o=Ph(i,e);if(o&&i.body)return{method:"fetch",stream:i.body,resource:e.resource||o,options:e};let l=i.headers.get("content-type")||"",c=await i.text();if(l.toLowerCase().startsWith("application/json"))try{let f=JSON.parse(c);c=f.error||f}catch{}throw c=new Error(c),c.isFetchError=!0,c.status=i.status,c.statusText=i.statusText,c.stack=null,c}),{title:`Load data from url: ${n}`})}function Su(n){let e,i=new ReadableStream({start(f){e=f},cancel(){e=null}}),o,l=null,c=new Promise(f=>{o=d=>f({method:"push",stream:i,resource:d?l=d:n?.resource,options:n})});return n=n||{},la(ua(()=>c),{start(f){o(f)},push(f){o(),e?.enqueue(f)},finish(f){e?.close(),e=null,f!==void 0&&isFinite(f)&&l!==null&&(l.encodedSize=Number(f)),l=null}})}function fa({dataset:n,state:e},i){return new Promise((o,l)=>e.subscribeSync(async(c,f)=>{if(c.stage==="error"){f(),l(c.error);return}let{stage:d,progress:g,step:m}=c;await i.setState({stage:d,progress:g},m),d==="received"&&(f(),o(n))}))}function Ph(n,e){if(n instanceof Response){let i=e?.isResponseOk||yD,o=e?.getContentSize||wD,l=e?.getContentEncodedSize||vD,c=e?.getContentCreatedAt||bD;if(i(n))return{type:"url",name:n.url,size:Number(o(n))||null,encodedSize:Number(l(n)),createdAt:c(n)}}if(n instanceof File)return{type:"file",name:n.name,size:n.size,createdAt:n.lastModified};if(n instanceof Blob)return{size:n.size};if(ArrayBuffer.isView(n))return{size:n.byteLength};if(typeof n=="string")return{size:n.length}}var aa,wi=z(()=>{er();du();Bh();aa={stream:Lo,event:Du,file:ca,url:Au,push:Su}});function Rh(n,e,i){let{value:o,title:l,duration:c}=Hh[n],f=0,d=null;if(e){let{done:g,elapsed:m,units:y,completed:k,total:C}=e;C?(f=g?1:k/C,d=y==="bytes"?Math.round(f*100)+"%":`${k}/${C}`):(f=g?1:.1+Math.min(.9,m/2e4),d=y==="bytes"?(k/(1024*1024)).toFixed(1)+"MB":String(k))}return{stageTitle:l,progressValue:o+f*c,progressText:d,stepText:i||"",title:d?`${l} (${d})${i?":":"..."}`:n!=="done"?`${l}${i?":":"..."}`:l}}var Hh,SD,jh,zh,ED,Ar,da=z(()=>{er();Oe();Hh={inited:{value:0,duration:0,title:"Init"},request:{value:0,duration:.1,title:"Awaiting data"},receiving:{value:.1,duration:.8,title:"Receiving data"},decoding:{value:.9,duration:.015,title:"Decoding data"},received:{value:.915,duration:.01,title:"Await app ready"},prepare:{value:.925,duration:.055,title:"Processing data (prepare)"},initui:{value:.98,duration:.02,title:"Rendering UI"},done:{value:1,duration:0,title:"Done!"},error:{value:1,duration:0,title:"Error"}},SD=n=>n|0,jh=n=>typeof n=="function"?n:()=>{},zh=n=>new Promise(e=>setTimeout(e,n)),ED=async()=>{if(!document.hidden)return Promise.race([new Promise(requestAnimationFrame).then(()=>zh(0)),zh(12)])};Ar=class extends Et{startTime;lastStageStartTime;awaitRepaintPenaltyTime;finished;awaitRepaint;timings;onTiming;onFinish;appearanceDelay;domReady;el;#e;#t;constructor({onTiming:e,onFinish:i,domReady:o}){super({stage:"inited",progress:null,error:null}),this.startTime=null,this.lastStageStartTime=null,this.awaitRepaintPenaltyTime=0,this.finished=!1,this.awaitRepaint=null,this.timings=[],this.onTiming=jh(e),this.onFinish=jh(i),this.domReady=o||Promise.resolve(),this.el=$("div","view-progress skip-fast-track",[$("div","content main-secondary",[this.#e=$("span","main"),this.#t=$("span","secondary")]),$("div","progress")])}recordTiming(e,i,o=performance.now()){let l={stage:e,title:Hh[e].title,duration:SD(o-i)};this.lastStageStartTime=o,this.timings.push(l),this.onTiming(l)}async#n(e=!1,i=performance.now()){let o=i-(this.awaitRepaint||0),l=i-(this.lastStageStartTime||0);if(e||o>65&&l>200){let c=performance.now();await ED(),this.awaitRepaintPenaltyTime+=performance.now()-c,this.awaitRepaint=performance.now()}}async setState(e,i){let o=this.value.stage,{stage:l=o,progress:c=null,error:f=null}=e;if(this.finished)return;if(f){this.set("stage"in e?{stage:l,progress:c,error:f}:{...this.value,error:f}),this.finish(f);return}this.set({stage:l,progress:c,error:f});let d=l!==o,g=performance.now();o==="inited"&&(this.startTime=g),d&&(this.lastStageStartTime!==null&&this.recordTiming(o,this.lastStageStartTime,g),this.lastStageStartTime=g,this.awaitRepaint=g);let{title:m,stepText:y,progressValue:k}=Rh(l,c,i);this.el.style.setProperty("--progress",String(k)),this.#e.textContent=m,this.#t.textContent=y,this.el.offsetWidth,await this.#n(d,g)}async setStateStep(e){let{title:i,stepText:o}=Rh(this.value.stage,this.value.progress,e);this.#e.textContent=i,this.#t.textContent=o,this.el.offsetWidth,await this.#n(!0)}finish(e){this.finished||(this.finished=!0,this.lastStageStartTime!==null&&this.recordTiming(this.value.stage,this.lastStageStartTime),this.recordTiming(e?"error":"done",this.startTime||this.lastStageStartTime||performance.now()),this.set({stage:"done",progress:null,error:e||null}),this.onFinish(Object.assign([...this.timings],{awaitRepaintPenaltyTime:Math.round(this.awaitRepaintPenaltyTime)})),this.el.classList.add("done"),this.el.classList.toggle("error",!!e))}dispose(){this.finish(),this.el.remove()}}});function MD(n){return new Ar({domReady:n,onTiming:({title:e,duration:i})=>console.log(`[Discovery/preloader] ${e} \u2013 ${i}ms`)})}function LD(n){if(n&&!Ae(aa,n))throw new Error(`dataSource "${n}" is not supported`)}function TD(n,e,i){let{darkmode:o,darkmodePersistent:l,colorScheme:c=o,colorSchemePersistent:f=l}=i,d=Xs(c,f);uu(e,d)&&n.setAttribute("darkmode","")}function pa(n){n=n||{};let e=n.container||document.body,i=document.createElement("div"),o=i.attachShadow({mode:"open"}),l=n.dataSource;LD(l),TD(i,e,n);let c=n.data,f=c?l==="push"?aa.push(n.loadDataOptions):aa[l||"url"](n.data,n.loadDataOptions):{dataset:Promise.resolve(),state:void 0};if(c&&l==="push"){let{start:y,push:k,finish:C}=f;globalThis.discoveryLoader={start:y,push:k,finish(...M){delete globalThis.discoveryLoader,C(...M)}}}let d=ko(o,n.styles),g=n.progressbar||MD(d),m=n.embed?FD(f.state):()=>{};return f.state&&fa(f,g).catch(()=>{}),o.append(g.el),e.append(i),Object.assign(f.dataset,{el:i,shadowRoot:o,progressbar:g,disposeEmbed:m})}function FD(n){let e=gi(),i=window.parent,o=[],l=(g,m)=>{let y={from:"discoveryjs-app",id:e,type:g,payload:m};i.postMessage(y,"*")},c=()=>l("destroy",null),f=g=>{let{id:m,type:y}=g.data||{};if(m===e)switch(y){case"defineAction":case"setPageHash":case"setRouterPreventLocationUpdate":{o.push(g.data);break}default:console.error(`[Discovery/preloader] Unknown preload message type "${y}"`)}};if(i===window)return;addEventListener("message",f,!1),addEventListener("unload",c,!1),l("preinit",{page:{hash:location.hash||"#"}});let d=n?n.subscribeSync(g=>{let{stage:m}=g;return(m==="error"||m==="received")&&d(),l("loadingState",g)}):()=>{};return()=>(removeEventListener("message",f,!1),removeEventListener("unload",c,!1),d(),c(),{hostId:e,postponeMessages:o})}var qh=z(()=>{st();Ys();yi();cu();ea();wi();da();pa.colorScheme=!0});var Wh,_h=z(()=>{Wh="AGFzbQEAAAABEANgAABgAX8Bf2ADf39/AX8CEwEHaW1wb3J0cwZtZW1vcnkCAAADBgUAAQICAQYMAn8AQbMKC38BQQALBygDC2lucHV0T2Zmc2V0AwAMb3V0cHV0T2Zmc2V0AwEHaW5mbGF0ZQAECAEACuoIBQwAPwBBAXZBEHQkAQvEAQEEfyMAIgEiAiAAaiEEAkADQCAARSAEQQFrLQAAQT1Hcg0BIARBAWshBCAAQQFrIQAMAAsLA0AgAS0AAC0AswhBEnQgAUEBai0AAC0AswhBDHRyIAFBAmotAAAtALMIQQZ0ciABQQNqLQAALQCzCHIhAyACIANBEHY6AAAgAkEBaiADQQh2OgAAIAJBAmogAzoAACABQQRqIQEgAkEDaiECIAEgBEkNAAsCfyAAQQJ2QQNsCwJ/IABBA3FBBmxBA3YLagsrACACIAAgAk8NAANAIAAgAS0AADoAACABQQFqIQEgAEEBaiIAIAJJDQALCxAAIAEgACACIAFr/AsAIAIL1wYBGn8gABABIRMjACEBIwEhAiABQQMiBnQhBQN/An8CQAJ/AkACQAJAAkACfwJAAn8CQAJAAkACQAJAAkACQAJAIAVBA3YoAgAgBUEHcXZBASAGdEEBa3EhByAFIAZqIQUgAw4IAAQJBQcFDgUOCyAHQQFxIQQgB0EBdg4CAAECCyACIAVBB2pBA3YiAUEEaiIJIAIgAS8BACIaahACIQIgCSAaakEDdCEFDA4LQRVBCEEHQQlBCEEAQZABEANBgAIQA0GYAhADQaACIgsQA0HAAhADIQ5BBQwHC0EODA0LIAdBBXZBH3EgB0EfcUGBAmoiC2pBAWohDCAHQQp2QQRqIQ1BACIKQQBBFiIOEANBAwwMCyAIQQF0IAdyIBJBAWoiEi0AgANrIghBAE4NDCASQQF0LwHAAiAIQQF0ai8BoAMhCCADQQNrQQF2DgIABQYLIAhBEEkEQCAIIAogC09BBHRqIREgCkEBagwCCyAIQRBGIBFsIREgCiAIQRVGQQN0aiEPIAhBDmsMCgtBASEGQQMhAyAHIA9qQQNqCyEPIBEgCiAPEAMhCkEAIAogDEkNBiAMIQ5BBQwBCyAKLQCgCCAHOgAAIApBAWoiCiANSQ0IQQMLIQNBAEHAAkGgAxADIA4hCgNAIApBAWsiCi0AACIQIBAtAIADQQFqOgCAAyAKDQALA0AgCiAKLwHAAiAKQQF2LQCAA0EBdGo7AcICIApBAmoiCkE+SQ0AC0EAIQoDQCAKLQAAQQF0IhAvAcACIhEgCjsBoAMgECARQQJqOwHAAiAKQQFqIgogDkkNAAtBACIKDAQLIAhBgAJJBEAgAiAIOgAAIAJBAWohAkEADAQLIAhBgAJGDQRBAyEVQRwhFkECIRcgCEGBAmshCAwBC0EBIhchFUEfIRYgCCALayEICyAVIBVBAWogCCAVcWogCCAXdkEBa0EAIAggFUsiGCAIIBZJIhlxGyIGdEH/ASAZGyAIIBgbaiEUIAYgBg0DGkEAIQcLIBQgB2ohFCADQQdJBH8gFCEaQQchA0EQBSACIAIgFGsgAiAaahACIQJBBSEDQQALCyESQQEhBkEAIQgMAgsgAiMBayAEDQJBAyEGQQAhAwwBCyEGIANBAWohAwwACwsLcAIAQaAICxMQERUACAcJBgoFCwQMAw0CDgEPAEHeCAtQPgAAAD80NTY3ODk6Ozw9AAAAAAAAAAABAgMEBQYHCAkKCwwNDg8QERITFBUWFxgZAAAAAAAAGhscHR4fICEiIyQlJicoKSorLC0uLzAxMjM="});function Mu(n){let e=n.length;for(;e>0&&n[e-1]==="=";)e--;let i=new Uint8Array(3*Math.ceil(e/4)),o,l,c,f;for(let d=0,g=0;d<e;)o=To[n.charCodeAt(d++)&255],l=To[n.charCodeAt(d++)&255],c=To[n.charCodeAt(d++)&255],f=To[n.charCodeAt(d++)&255],i[g++]=o<<2|l>>4,i[g++]=l<<4|c>>2,i[g++]=c<<6|f;return i.subarray(0,(e>>2)*3+(e%4*6>>3))}function ID(n,e={}){let i=Mu(n),o={imports:e},l=new WebAssembly.Module(i);return new WebAssembly.Instance(l,o)}function BD(){let n=new WebAssembly.Memory({initial:32}),e=ID(Wh,{memory:n}),{inputOffset:i,outputOffset:o,inflate:l}=e.exports,c=new Uint8Array(n.buffer,i,o),f=new Uint8Array(n.buffer,o);return function(d){let g=l(OD.encodeInto(d,c).written);return f.subarray(0,g)}}function Lu(n){return Eu===null&&(Eu=BD()),Eu(n)}var $h,To,OD,Eu,Uh=z(()=>{_h();$h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",To=new Uint8Array(256),OD=new TextEncoder,Eu=null;for(let n=0;n<$h.length;n++)To[$h.charCodeAt(n)]=n});function Gh(n,e,i,o){let l=document.body,c=String(Math.random()).slice(2,18).padStart(16,"0"),f=pa({...o,loadDataOptions:{...o.loadDataOptions,encodings:o.encodings,fetch:{headers:{"Cache-Control":"no-cache, no-transform","x-data-request-id":c}}},container:l});return PD(),o.dataSource==="url"&&o.data&&zD(f,c),Promise.all([n,f]).then(([d,g])=>d({...i,styles:e},f.progressbar,f.disposeEmbed?.(),g)).then(()=>{f.el.remove()},d=>{let g=document.querySelector("body > .discovery"),m=document.createElement("div");if(m.firstChild&&(m.className="action-buttons",f.progressbar.el.before(m)),!d.supressLoadDataError){let y=document.createElement("pre"),k=document.createElement("div"),C=String(d),M=String(d.stack||"");M.startsWith(C)&&(M=M.slice(C.length)),k.className="error-type-badge",k.dataset.type=d.isFetchError?"server":"client",y.className="error",y.append(k,C+(M?`
`+M.replace(/^[\r\n]+/,""):"")),f.progressbar.el.replaceWith(y)}f.disposeEmbed?.(),f.progressbar.dispose(),g&&g.remove()})}function PD(){let{push:n}=window.discoveryLoader||{};typeof n=="function"&&(window.discoveryLoader.push=function(e,i,o){o?e=i?Lu(e).slice():new TextDecoder().decode(Lu(e)):i&&(e=Mu(e)),n(e)})}function jD(){let n=document.createElement("div");return n.className="data-status",n.innerHTML='<div class="header">Getting data: <span class="elapsed-time"></span></div><div class="output"></div>',n.firstChild.addEventListener("click",function(){n.classList.toggle("collapsed")},!0),n.elapsedTimeEl=n.querySelector(":scope > .header > .elapsed-time"),n}function zD(n,e){let i=!1,o=!0,l=!1,c=jD(),f=()=>{n.progressbar.value.stage==="request"&&!c.parentNode&&n.progressbar.el.getRootNode().append(c)},d=setTimeout(()=>{if(n.progressbar.value.stage!=="request")return;n.progressbar.subscribe(({stage:N},A)=>{N!=="request"&&(A(),c.classList.add("finished"),g.close(),o=!1)});let g=new EventSource("data-status?data-request-id="+e),m=null,y,k,C,M,E,F=N=>{if(!(!o||!isFinite(N)||k!==void 0&&N<=k)){if(clearTimeout(C),k=Number(N),y&&k-y>=1e3&&(c.elapsedTimeEl.textContent=Fu(k-y,i?1:0)),m)for(let{started:A,elapsedTimeEl:b}of m.values())A&&(b.textContent=Fu(k-A,1));M=Date.now(),C=setTimeout(()=>F(k+(Date.now()-M)-5),42)}};g.addEventListener("message",N=>{try{let A=JSON.parse(N.data);switch(A.type){case"start":setTimeout(f,3e3),y=A.timestamp,l=!0;break;case"finish":break;case"crash":if(i=!0,f(),m)for(let{started:b,el:L}of m.values())b&&(L.classList.add("crashed"),L.classList.remove("started"),L.classList.toggle("collapsed",L!==E));break;case"stderr":case"stdout":{let b=document.createElement("div");if(b.className=A.type,b.append(String(A.chunk)),!m)f(),c.lastChild.append(b),Tu(b);else{let L=m.get(A.stepId);L&&(L.contentEl.append(b),L.el.classList.add("has-output"),Tu(b),A.type=="stderr"&&(E=L.el))}break}case"plan":{let b=Vh(A.plan.steps);m=b.map,c.lastChild.innerHTML="",c.lastChild.appendChild(b.el),m&&f();break}case"plan-step-event":{let b=m.get(A.stepId);if(b)switch(A.stepEvent){case"start":b.started=A.timestamp,b.el.classList.add("started"),Tu(b.el);break;case"finish":b.elapsedTimeEl.textContent=Fu(A.timestamp-b.started),b.started=!1,b.el.classList.remove("started"),b.el.classList.add("finished");break;case"summary":b.summaryEl.innerHTML=HD(A.data);break;default:console.warn("Unhandled data status SSE pipeline step event",A)}else console.warn("Pipeline step not found",A);break}default:console.warn("Unhandled data status SSE event",A)}F(A.timestamp)}catch(A){console.error("SSE message parse error",A)}}),g.addEventListener("server-time",({data:N})=>{F(N)}),g.addEventListener("done",()=>{g.close(),o=!1})},150);n.then(()=>clearTimeout(d),g=>{if(o=!1,!!l){i?(g.supressLoadDataError=!0,n.el.classList.add("generate-data-crash")):c.classList.add("compliment-error","collapsed");for(let m of c.querySelectorAll(".plan-step.started"))m.classList.remove("started");c.classList.add("crashed"),c.firstChild.firstChild.textContent="Retrieving data failed "+(c.elapsedTimeEl.textContent?"in ":"")}})}function Tu(n){try{typeof n.scrollIntoViewIfNeeded=="function"?n.scrollIntoViewIfNeeded(!1):n.scrollIntoView({block:"nearest"})}catch{}}function Vh(n,e=0,i=new Map){let o=document.createElement("ul");o.className="plan-step-list",o.style.setProperty("--level",e);for(let l of n){let c=o.appendChild(document.createElement("li")),f=c.appendChild(document.createElement("div")),d=f.appendChild(document.createElement("span")),g=f.appendChild(document.createElement("span")),m=f.appendChild(document.createElement("span")),y=f.appendChild(document.createElement("span")),k=f.appendChild(document.createElement("span")),C=c.appendChild(document.createElement("div"));i.set(l.id,{step:l,el:c,elapsedTimeEl:k,summaryEl:y,contentEl:C,started:!1}),c.className="plan-step collapsed",f.className="plan-step__header",f.addEventListener("click",()=>c.classList.toggle("collapsed")),d.className="plan-step__header-toggle",g.className="plan-step__header-status",m.className="plan-step__header-content",m.textContent=l.name||"Untitled",y.className="plan-step__header-summary",k.className="plan-step__elapsed-time",C.className="plan-step__content",l.steps&&c.append(Vh(l.steps,e+1,i).el)}return{el:o,map:i.size?i:null}}function RD(n){return n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function HD(n,e=!0){let i=e&&typeof n!="number"?RD(String(n)):String(n);return i.length>3?i.replace(/\.\d+(eE[-+]?\d+)?|\B(?=(\d{3})+(\D|$))/g,o=>o||'<span class="num-delim"></span>'):i}function Fu(n,e=1){return n<1e3?n+"ms":n<1e4?(n/1e3).toFixed(e)+"s":n<6e4?Math.round(n/1e3)+"s":`${Math.floor(n/6e4)}:${String(Math.floor(n/1e3)%60).padStart(2,"0")}`}var ha,Nu,Ou=z(()=>{qh();Uh();ha=({darkmode:n,darkmodePersistent:e,colorScheme:i=n,colorSchemePersistent:o=e})=>pa.colorScheme?{colorScheme:i,colorSchemePersistent:o}:{darkmode:i,darkmodePersistent:o},Nu=n=>document.querySelector(`style[type="discovery/style"][src=${JSON.stringify(n)}]`).firstChild.nodeValue});function Yh(n){let e=[].filter(i=>{if(typeof i=="function")return!0;console.warn('[discovery-cli] "prepare" module should return a function, but got '+typeof i)});e.length&&n.setPrepare(async(i,...o)=>{for(let l of e)i=await l(i,...o)||i;return i})}var Qh=z(()=>{});var Iu,Kh=z(()=>{Iu=null});var Zh,Jh=z(()=>{Zh=[]});var Bu,Pu=z(()=>{Bu="1.0.0-beta.92"});var Xh,eg=z(()=>{Xh="1.0.0-beta.13"});function bi(n,e){return e!==void 0&&(Re(e)?e.forEach(i=>n.add(i)):n.add(e)),n}function ga(n,e,i){n.has(e)?n.get(e).add(i):n.set(e,new Set([i]))}function tg(n,e){return n&&Mt(n,e)?n[e]:void 0}function hn(n){return n!==null&&typeof n=="object"&&n.constructor===Object}function tr(n){return qD.call(n)==="[object RegExp]"}function Pn(n){return n&&(Re(n)||Mt(n,"length")&&isFinite(n.length))}function Re(n){return Array.isArray(n)||ArrayBuffer.isView(n)}function Sr(n,e=0){let i=parseInt(n,10);return isNaN(i)?e:i}function Vt(n){if(Re(n))return n.length>0;if(hn(n)){for(let e in n)if(Mt(n,e))return!0;return!1}return!!n}var Mt,qD,jn=z(()=>{Mt=Object.hasOwn||((n,e)=>Object.hasOwnProperty.call(n,e)),qD=Object.prototype.toString});function ju(){this.yy={}}var _D,WD,ma,ng=z(()=>{_D=function(){return{yy:{},options:{ranges:!0},rules:[/^(?:\/\/.*?(?:\n|\r\n?|\u2028|\u2029|$)|\/\*(?:.|\s)*?(?:\*\/|$))/,/^\s+/,/^\//,/^<(?!=)/,/^/,/^(?:(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*\(?)/,/^/,(e,i)=>{if(e[0]!==(i==="template"?"}":"`"))return null;for(let o=1;o<e.length;o++){if(e[o]==="`")return o+1;if(e[o]==="$"&&e[o+1]==="{")return o+2;e[o]==="\\"&&o++}return null},(e,i)=>{if(e[0]!==(i==="template"?"}":"`"))return null;for(let o=1;o<e.length;o++){if(e[o]==="`")return o+1;if(e[o]==="$"&&e[o+1]==="{")return o+2;e[o]==="\\"&&o++}return null},/^/,/^\(/,/^\)/,/^\[/,/^\]/,/^\{/,/^\}/,/^(?:(true|false|null|undefined|Infinity|NaN)\b)/,/^and\b/,/^or\b/,/^is\b/,/^has\s+no\b/,/^has\b/,/^in\b/,/^not\s+in\b/,/^not\b/,/^no\b/,/^(?:(asc|desc)(NA?|AN?)?\b)/,/^(?:(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*\()/,/^(?:\$(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*\()/,/^(?:(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^(?:\$(?:[a-zA-Z_]|\\u[0-9a-fA-F]{4})(?:[a-zA-Z_$0-9]|\\u[0-9a-fA-F]{4})*)/,/^(?:[_\d]*\.)?[_\d]+(?:[eE][-+]?[_\d]+)?\b/,/^(?:\d*\.)?\d+(?:[eE][-+]?\d+)?\b/,/^0[xX][_0-9a-fA-F]+/,/^0[xX][0-9a-fA-F]+/,/^(?:"(?:\\[\\"]|[^"])*")/,/^(?:'(?:\\[\\']|[^'])*')/,/^(?:\/(?:\\.|[^/])+\/[gimsu]*)/,/^@/,/^#/,/^\$\$/,/^\$/,/^=>/,/^=/,/^!=/,/^~=/,/^>=/,/^<=/,/^</,/^>/,/^\.\.\(/,/^\.\(/,/^\.\[/,/^\.\.\./,/^\.\./,/^\./,/^\?\?/,/^\?/,/^,/,/^:/,/^;/,/^\-/,/^\+/,/^\*/,/^\//,/^\%/,/^(?:\|)/,/^./,/^$/],conditions:{preventPrimitive:{rules:[0,1,2,3,4,7,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68],inclusive:!0},preventKeyword:{rules:[5,6],inclusive:!1},template:{rules:[8,9],inclusive:!1},INITIAL:{rules:[0,1,7,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68],inclusive:!0}},performAction(e,i,o,l){let c=l;switch(o){case 0:{e.commentRanges.push(i.yylloc.range);break}case 1:break;case 2:{return this.popState(),40;break}case 3:{return this.popState(),44;break}case 4:{this.done=!1,this.popState();break}case 5:{if(this.popState(),i.yytext.endsWith("(")){this.unput(i.yytext);return}return e.pps(),i.yytext=this.ident(i.yytext),14;break}case 6:{this.done=!1,this.popState();break}case 7:{let f=i.yytext.endsWith("`")?"TEMPLATE":"TPL_START";return i.yytext=this.toStringLiteral(i.yytext,!0,1+ +(f!=="TEMPLATE")),f==="TEMPLATE"&&e.pps(),f;break}case 8:{let f=i.yytext.endsWith("`")?"TPL_END":"TPL_CONTINUE";return i.yytext=this.toStringLiteral(i.yytext,!0,1+ +(f!=="TPL_END")),this.popState(),f==="TPL_END"&&e.pps(),f;break}case 9:{this.parseError("Unexpected end of input");break}case 10:return 21;case 11:{return e.pps(),22;break}case 12:return 61;case 13:{return e.pps(),63;break}case 14:return 84;case 15:{if(this.bracketStack[this.bracketStack.length-1]!=="TPL_END")return e.pps(),85;this.unput("}"),this.begin("template");break}case 16:{return i.yytext=this.toLiteral(i.yytext),57;break}case 17:return 36;case 18:return 37;case 19:return 30;case 20:return 35;case 21:return 33;case 22:return 32;case 23:return 34;case 24:return 25;case 25:return 26;case 26:return 95;case 27:{return i.yytext=this.ident(i.yytext.slice(0,-1)),70;break}case 28:{return i.yytext=this.ident(i.yytext.slice(1,-1)),72;break}case 29:{return e.pps(),i.yytext=this.ident(i.yytext),14;break}case 30:{return e.pps(),i.yytext=this.ident(i.yytext.slice(1)),15;break}case 31:{return e.pps(),i.yytext=this.toNumberLiteral(i.yytext,!0),55;break}case 32:{return e.pps(),i.yytext=this.toNumberLiteral(i.yytext),55;break}case 33:{return e.pps(),i.yytext=this.toNumberLiteral(i.yytext,!0,!0),55;break}case 34:{return e.pps(),i.yytext=this.toNumberLiteral(i.yytext,!1,!0),55;break}case 35:{return e.pps(),i.yytext=this.toStringLiteral(i.yytext),54;break}case 36:{return e.pps(),i.yytext=this.toStringLiteral(i.yytext),54;break}case 37:{return e.pps(),i.yytext=this.toRegExp(i.yytext),56;break}case 38:{return e.pps(),51;break}case 39:{return e.pps(),52;break}case 40:{return e.pps(),53;break}case 41:{return e.pps(),9;break}case 42:return 20;case 43:return 42;case 44:return 43;case 45:return 48;case 46:return 47;case 47:return 45;case 48:return 44;case 49:return 46;case 50:return 69;case 51:return 66;case 52:return 67;case 53:return 89;case 54:{return e.pps(),e.pks(),68;break}case 55:{return e.pps(),e.pks(),65;break}case 56:return 38;case 57:return 17;case 58:return 73;case 59:return 11;case 60:return 10;case 61:return 27;case 62:return 28;case 63:return 39;case 64:return 40;case 65:return 41;case 66:return 29;case 67:{this.parseError(`Bad input on line ${i.yylloc.first_line} column ${i.yylloc.first_column}
`+this.showPosition(),{text:i.yytext,token:"BAD_TOKEN"});break}case 68:return 5}},setInput(e,i){return this.yy=i||this.yy||{},this._input=e,this._more=!1,this._backtrack=!1,this.done=!1,this.currentCondition="INITIAL",this.conditionStack=["INITIAL"],this.offset=0,this.yytext=this.match="",this.yyleng=0,this.yylineno=0,this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.yylloc.range=[0,0],this},parseError(e,i){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,i)},input(){let e=this._input[this.offset],i=/\n|\r\n?|\u2028|\u2029/g.test(e);return this.offset++,this.yyleng++,this.yytext=this.match=this.yytext+e,i?(this.yylineno++,this.yylloc.last_line++,this.yylloc.last_column=0):this.yylloc.last_column++,this.yylloc.range[1]++,e},lineColumnForOffset(e=this.offset,i=this._input,o=1,l=0){let c=/\n|\r\n?|\u2028|\u2029/g,f=o,d=l,g=0,m;for(;(m=c.exec(i))!==null;)if(m.index<e)f++,d=0,g=m.index+m[0].length;else{d+=e-g,g=-1;break}return g!==-1&&(d+=e-g),{line:f,column:d}},setMatch(e,i){let o=this._input.slice(e,i),l=e!==this.offset?this.lineColumnForOffset(e):{line:this.yylloc.last_line,column:this.yylloc.last_column},c=e!==i?this.lineColumnForOffset(i-e,o,l.line,l.column):l;this.yytext=this.match=o,this.yyleng=i-e,this.offset=i,this.yylineno=c.line-1,this.yylloc={first_line:l.line,first_column:l.column,last_line:c.line,last_column:c.column},this.yylloc.range=[e,i]},less(e){let i=this.offset-this.match.length;this.setMatch(i,i+e)},unput(e){let i=this.match.length-e.length;if(!this.match.startsWith(e,i))throw new Error("Lexer#unput() should receive a part of matched text only");this.less(i)},more(){this._more=!0},reject(){throw new Error("reject() is allowed only when options.backtrack_lexer = true")},showPosition(e=this.offset-this.match.length){let i=this._input,o=Math.max(e-20,0),l=Math.min(e+20,i.length),c=(o===0?"":"...")+i.slice(o,e).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n"),f=i.slice(e,l).replace(/\n|\r\n?|\u2028|\u2029/g,"\\n")+(l===i.length?"":"...");return c+f+`
${"-".repeat(c.length)}^`},test_match(e,i){let o;this._more=!1,this._backtrack=!1,this.setMatch(this.offset,this.offset+e[0].length),this.matches=e;let l=this.performAction.call(this,this.yy,this,i,this.conditionStack[this.conditionStack.length-1]);return!l&&this._backtrack?(Object.assign(this,o),!1):(this.eof()||(this.done=!1),typeof l=="number"&&this.yy.parser?this.yy.parser.terminals_[l]:l||!1)},eof(){return this.offset===this._input.length},next(){if(this.done)return 1;this.eof()&&(this.done=!0),this._more||(this.yytext="",this.match="");let e,i;for(let o of this.conditions[this.currentCondition].rules){let l=this.rules[o],c=this._input.slice(this.offset),f;if(typeof l=="function"){let d=l(c,this.currentCondition);switch(typeof d){case"string":f=[d];break;case"number":f=[c.slice(0,d)];break;default:f=d}}else f=c.match(l);if(f&&(!e||f[0].length>e[0].length)){e=f,i=o;break}}if(e)return this.test_match(e,i);if(this.eof())return 1;this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex(){let e;for(;!e;)e=this.next();return e},begin(e){this.currentCondition=e,this.conditionStack.push(e)},pushState(e){this.begin(e)},popState(){return this.conditionStack.pop(),this.currentCondition=this.conditionStack.length?this.conditionStack[this.conditionStack.length-1]:"INITIAL"},topState(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:"INITIAL"},stateStackSize(){return this.conditionStack.length}}}();ju.prototype={Parser:ju,lexer:_D,symbols_:{error:2,root:3,block:4,EOF:5,definitions:6,e:7,def:8,$:9,";":10,":":11,$ident:12,ident:13,IDENT:14,$IDENT:15,condConsequent:16,"?":17,condAlternate:18,query:19,"=>":20,"(":21,")":22,functionArgs:23,compareFunction:24,NOT:25,NO:26,"-":27,"+":28,"|":29,IS:30,assertion:31,IN:32,HAS:33,NOTIN:34,HASNO:35,AND:36,OR:37,"??":38,"*":39,"/":40,"%":41,"=":42,"!=":43,"<":44,"<=":45,">":46,">=":47,"~=":48,queryRoot:49,relativePath:50,"@":51,"#":52,$$:53,STRING:54,NUMBER:55,REGEXP:56,LITERAL:57,template:58,object:59,array:60,"[":61,sliceNotation:62,"]":63,"method()":64,".":65,".(":66,".[":67,"..":68,"..(":69,"METHOD(":70,arguments:71,"$METHOD(":72,",":73,functionArg:74,templateString:75,templateStart:76,templateTail:77,templateEnd:78,templateContinue:79,TEMPLATE:80,TPL_START:81,TPL_CONTINUE:82,TPL_END:83,"{":84,"}":85,objectEntries:86,objectEntry:87,objectEntryKeyLiteral:88,"...":89,arrayElements:90,arrayElement:91,assertionTerm:92,assertionList:93,compareExpr:94,ORDER:95,sliceNotationComponent:96,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",9:"$",10:";",11:":",14:"IDENT",15:"$IDENT",17:"?",20:"=>",21:"(",22:")",25:"NOT",26:"NO",27:"-",28:"+",29:"|",30:"IS",32:"IN",33:"HAS",34:"NOTIN",35:"HASNO",36:"AND",37:"OR",38:"??",39:"*",40:"/",41:"%",42:"=",43:"!=",44:"<",45:"<=",46:">",47:">=",48:"~=",51:"@",52:"#",53:"$$",54:"STRING",55:"NUMBER",56:"REGEXP",57:"LITERAL",61:"[",63:"]",65:".",66:".(",67:".[",68:"..",69:"..(",70:"METHOD(",72:"$METHOD(",73:",",80:"TEMPLATE",81:"TPL_START",82:"TPL_CONTINUE",83:"TPL_END",84:"{",85:"}",89:"...",95:"ORDER"},productions_:[0,[3,2],[4,2],[4,1],[4,1],[4,0],[6,1],[6,2],[8,2],[8,4],[8,2],[8,4],[13,1],[12,1],[16,2],[16,1],[18,2],[18,1],[18,0],[7,1],[7,2],[7,3],[7,4],[7,5],[7,1],[7,2],[7,2],[7,2],[7,2],[7,3],[7,4],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[7,3],[19,1],[19,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,1],[49,3],[49,2],[49,2],[49,1],[49,1],[49,3],[49,4],[49,2],[49,2],[49,3],[49,3],[49,2],[49,2],[49,3],[49,2],[49,3],[50,3],[50,4],[50,4],[50,3],[50,3],[50,4],[50,4],[50,3],[50,3],[50,4],[64,2],[64,3],[64,2],[64,3],[71,1],[71,3],[74,1],[23,1],[23,3],[58,1],[58,2],[77,1],[77,2],[77,2],[77,3],[75,1],[76,1],[79,1],[78,1],[59,2],[59,3],[59,4],[59,3],[59,4],[59,5],[86,1],[86,3],[88,1],[88,1],[88,1],[87,1],[87,1],[87,1],[87,1],[87,1],[87,3],[87,3],[87,3],[87,2],[87,2],[87,2],[87,5],[87,1],[87,2],[90,1],[90,3],[91,1],[91,1],[91,2],[60,2],[60,3],[60,4],[31,1],[31,2],[31,3],[31,4],[92,1],[92,1],[92,1],[92,1],[93,1],[93,3],[93,3],[24,1],[24,3],[94,2],[62,1],[62,2],[62,2],[62,3],[96,1],[96,2]],table:function(e){function i(C){let M=C.match(/[\x20-\x2f]/g),E=M?Math.max(...M.map(F=>F.charCodeAt()-32)):-1;for(let F=E;F>=0;F--){let N=(32+F).toString(16),A;C=C.replace(new RegExp("\\[\\x"+N+"(.+?)\\]"),(b,L)=>A=L).replace(new RegExp("\\x"+N,"g"),A)}return C=C.replace(/<([^>]+?)>/g,(F,N)=>{let A=c[N[0]],b=1;return A>>5===1&&(A=A&31|c[N[1]]<<5,b=2),N.slice(b).repeat(A)}),C}function o(C){let M=[];for(let E=0;E<C.length;E++){let F=c[C[E]];if(F&32){let N=c[C[++E]];M.push(F&31|N<<5)}else M.push(F)}return M}let c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789~|=".split("").reduce((C,M,E)=>(C[M]=E,C),Object.create(null)),[f,d,...g]=e.split("=").map(i),m=d.split(";").map(C=>{let M=[];for(let E=0;E<C.length;E++)for(let F=0,N=c[C[E]];F<3;F++)M.push(N>>F*2&3);return M}),y=g.map(o),k=o(f).map(C=>{let M=m[C],E=Object.create(null);for(let F=0;F<M.length;F++){let N=M[F];if(N!==0){let A=y[N-1].shift();E[F]=N===1?A:[N-1,A]}}return E});for(let C=0;C<y[3].length;C+=2)k[y[3][C]][y[3][C+1]]=[3];return k}(`ABCDEFGHIJKHHHHLL<NM>NOPMMQRSQRTMUVWXYYMZaEFTO<TH>PMbQRSQRcMMHdefgBhBiBHj[ BjBkBk]BFHFHlBMmBnBoBpBqBrBMMsBtBMMMMXMWMMuB[!lBMMuB]vBgBMMwBUMZMxByBzB0B1B2B3B4BH5<DB6>BvBXe7BXevBgBM<E8B>9B~ <DB|>BgCgC<EhC>gCMMiC<C!>cHdjCMfMkClClCMMmCnCnBoCpCMtBqCrCvBMMMvBMUMMsCMxBHtCHtCtCHuCvCTXHXvB<FM>cHhBhBMFFMpBpCnCqCMOOMMzBzB2BMsCwCtCtCxC7BcMrCrCHMHtCtC=A1[ V[!C["lmkCpqC]]]<FA>[#[$[%[&['UqqWJkq]K]C][([)FgCCAAE];]]A];Ag;AwU[*ClmkOpqC]<FA>[+[,U[-qqWJnqK]]C(A]wAA[.A[/kAMAqi]]<Fq>CAAAAD<JA>g;AwADwzwP8|D<GA>||DMz|PDAwDPw;AwA8AwAMA|z<F|>DAAAIjqCMAA8MAAw;AAE!<FA>#wA8AwgMA|z<F|>DAAAMz|DMAA8MAAw;AAVClmkapqC<FA>&S(AwA8AwAMA|z<F|>DAAAMz|DIAA8MAAw;AwAoAwAMA|z<F|>DAAAMz|DMAA8MAAw;AwA8AwAMA|z<F|>DAAAMz|DMAA8MAAw;AAEi"<FA>UqqWZmqKCFgCCgFEB;AAAChCACIAE<IA>C<KA>Q;AwAsAwBMA|z<F|>DAAAMz|DMAA8MAAw;AAAAk<QA>EAIC;AEV*<FA>#E <FA>+A <FA>#AE!<FA>%VlqCAAE;AARClC<MA>KCIEAICAAAYl;AwE~lmkOp6y<F|>X-OFg~OAA0;AwA|wzwP8|z<F|>D||DMz|PPAw|PAAw;AAEClmkKpqC<FA>'aC(AAADwzwD8|D<GA>||DMw|PDAw|D;M;AAEi"<FA>UqqWZmqKC)B;AwA8.<Fq>CAAAMz|DMAA8MAA<Cg;AAAAAA>AI<QA>I;<FA>kAIAqi<Fq>C<OA>g;AAU!<FA>$<HA>M<QA>M;AAA8AwgMA|z<F|>DAAAMw|DM<GA>w;AwA8A0AMA6jq|qqqCAAAMz|DMAA8MAAw;AwA8A0AMA|z||q||DAAAMz|DMAA8MAAw<C;AAAAAAAAAAAAAAAAAAAAAC>AAI;AAAg<RA>D<KA>B;AAAgAkAAAqi<Fq>CAAAADAAM<GA>gB;<VA>DAAM;AAEy"<FA>+AE!<FA>,O(AAAChCACA<KA>C<KA>Q;AAAChCACIAE<IA>C<KA>QB;<HA>I;AwA8AkAMA6i<Fq>CAAAMz|DMAA8MAAw;<FA>kAAAqi<Fq>C<JA>FoAAAg;<YA>IAAAI;AAQClC<MA>KCIEAICAAAYl;<YA>MAAAM;AAAo<UA>MAAAM;AAEq"<FA>&OFgCOAAE;AAEi"<FA>&OFgCOAAE;AAE!<FA>&OFgCOAAE;AAAg<UA>MAAAM;AAAClmECAgC<FA>&OFgCO;AAAw<UA>MAAAM;<FA>/<Fq>C<HA>M<GA>g;AwA8A0AMA6z||qqqCAAAMz|DMAA8MAAw;AwA8A0AMA6jqvqqqCAAAMz|DMAA8MAAw;AwA8A0AMA6jquqqqCAAAMz|DMAA8MAAw;AwA8A0AMA|z<F|>DAAAMz|DMAA8MAAw;AwA8A0AMA6z||qvqDAAAMz|DMAA8MAAw;AwA8A0AMA6z||q||DAAAMz|DMAA8MAAw;AAAgAkAAAqi<Fq><CCAAAA><FA>gB;<FA>C<SA>Q;<FA>kAAAqi<Fq>C<OA>g;AAAIAkAAAqi<Fq>C<OA>g;AAE!<FA>UqqWJmqKCFgCCgEE;<VA>D;AAAwAkAAAqi<Fq>CAAAAD<JA>g;<FA>kAAAqi<Fq>CAAAADAAM<GA>g;<HA>IAAAAK;<HA>MAAAAP;AAAClC<MA>KCIEAICAAAIl;<FA>kAAAqi<Fq>C<HA>MAAAMAAg;<FA>kAAAqi<Fq><CCAAAA><FA>g;<UA>IgqCMAAAM;AAAIAkAAAqi<Fq>C<HA>MAAAMAAg;AAAg=BC[ D[!E["[#F[$QhBgBG]][%[&['[(KRSbcd]iB]pBqB]T]]]]zB[)0B$%qC]y[*C[[,+[-0ChBgB]]G%]]5C4C#3C'6CpBqBT9*~*|*gD+pD-G(lD[.iBpBqB]nDqDToDzDtDuD2D4D5D6D 7D 8D9D~D gE|D"jE-G&hEiEkETpEF[/sEtEuE]oEqEvE1E+4E-G'3EpBqBT4E-G'6EpBqBTqC8E7!zD9EuD~E+|E+gF+hF+iF+jF+kF+lF+mF+nF+oF+pF+qF+rF+sF+tF+uF+vF+wF+xFzF-G(0F.ToD1F2F3F 4F 5F6F7F qC8F+qChG0B$%jG-G&iG<EqC>kG+lG+pGqCqGrG+sG+zDtGzDwGuDvGxG+qC1G)2G3GjE-G&4GiEkET0B/8GqEvE~G+gH+hH+jH,kHRSbcd.qCqCqCpH0B$%<UqC>qGqCvH+xH<EqC>4H-G&3HT5HqCqCzDwGuD6HqCqCjE-G&~HiEkETiItEuEgIvElI+qCmI+qCqCnI+qC5C4C"pI+qCqCqI+qCzDsIuDzDtIuD~G+iItEuEgIvE<FqC>xI+yI+qCqC=[ [!["P[#[$[%[&['tBIsBHJ]LMNO][(oB[)fUVWXYZae]]][*jBkBlBmBnBuBvBwBxB]]r]]B]y][+B[,![-[.sB|B~B][/1B2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC]]]rC]sCtCuCvCwCxCzC#B1CPtB7CsBHJ2CLMNO(*rB8C<EzC#B>hDiDjDkDzCrD%mD*rBsDyDxD1DwDvD0D3D<CtBuBvB!!>zC$mElErBrEtB1DyEzE0EwEuBvBnExEzC&)*rBzC'2ELMNO(*rBzC'5ELMNO(*rB-rC DxD1DwDvD0D<TzC#B>3DzCrD%yF*rBtBuBv<CB">BtBuBv+zC#B9F~F|FsBgG|B~B/rC!1CzC#B<C|B~B3B4B5B6BgChCiCjCkClCmCnCoCpC><CgChCiC><CzC#B>mGnGoGrDrD-rC<CzC#B>yDxD1DuG0DyDxD1DwDvD0DzC&)*rByGzG0G.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC,mElErCzC$mElErB6G5GrEtB1DyEzE0EwEuBvB7GxEhDiDzCjD9G#BzC|G#BzC#BiHzC#BzCtB1DsBlH(*rB.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpCmHnH-rCoHnH.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC!<E|B~BgChCiCjCkClCmCnCoCpC>|B~B3B4B5B6B9BgChCiCjCkClCmCnCoCpC|B~B3B4B5B6B7B9BgChCiCjCkClCmCnCoCpC|B~B3B4B5B6BgChCiCjCkClCmCnCoCp<CCgChCi><CC|B~BgChCiClCmCnCo><FC|B~BgChCi>ClCmCnCoCrD-qHrCrHsHtHuH-rCzC#BwHyHsBzH|B~B/rC-rC0H-rC1H-rCzC%2H*rBsDrD<C-rC>yDxD1DwDvD0D7H8H9H<C.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC>zC$mElErBhItB1DyEzE0EwEuBvB|HxEkIjI<CzC#B-rC>-rCzC#B-oIrCsCtCuCvCwCxC!zC#B.2B3B4B5B6B7B8B9BgChCiCjCkClCmCnCoCpC-rCzC#B-rCrI8H9H<CyDxD1DwDvD0D>zCuI#BhItB1DyEzE0EwEuBvBvIxE1H<D-rC>wI<C-rC><CzC#B><C-rC>=FDDDEEE<jBG><gBT><mBN><lBY><kB4B><kB6B><mB0B><mB1B><mB7E><mB2B><mB3B><mB5B><mB7B><mB8B><mB9B><mB~B><mB|B><mBgC><mBhC><lBS><mBlC><mBmC>FFF<mBlD><cP><5BM><mBrD><gBsD>BCCC<jBH><lBS><mB9E>FFF<PU><mB4B><mB6B>jDjDNNNiD<bN>iDN<WZ><Wa><jBb><jBc><jBI><jBK><mBtE>~EqEqEoEoEiFiFrErE<mBjC><mBwE><mB0E><mB1E><mB2E><mB3E><5BN><mBkC><cR><mBpC><mBqC><mBtC><mBuC><RwC><mBmD><mBnD><mBuD><gBtD><mBvD>1D1[ D6D6D7D7D]8D8D9D9D~D~DmEmE<D3D><D4D><D5D><RO><5B8C>gDgD<5B~C><Rd><mBf><agB><ahB><aiB><ajB><VkB><UlB><WmB><jBnB><jBoB><mBpB><mBqB><mBrB><dsB><dtB><hBuB><hBvB><hBwB><hBxB><dyB><mBzB><mByC><mB1C><mB2C><mB5C><mB6C><PV><mBnC><mB8E><mBiC><mBuE>|EgFjFjFsEsE<mBxE><D4E><RQ><mBrC><mBsC><mBvC><RxC><mBoD><mBpD><mBwD><mByD>iEiEjEjEkEkEnEnE<5B9C><5B|C><Re><mBzC><mB0C><mB3C><mB4C><mB7C><PW>kDkDiDiD<mBoC><jBJ><jBL><mBvE>pEpEqEqEhF<mByE><mBqD><mBxD>2D2 <mBzD>hEhE|D|DgEgEhDhD<PX><mBzE><D5E><D6E><mB0D>hEhElElE=BB`),defaultActions:{50:[2,1],201:[2,159],249:[2,161]},performAction(n,e,i,o,l,c,f){let d=c.length-1;switch(l){case 1:return o.buildResult(c[d-1]);case 2:this.$={type:"Block",definitions:c[d-1],body:c[d],range:this._$.range};break;case 3:this.$={type:"Block",definitions:c[d],body:{type:"Placeholder",range:[f[d].range[1],f[d].range[1]]},range:this._$.range};break;case 4:this.$={type:"Block",definitions:[],body:c[d],range:this._$.range};break;case 5:this.$={type:"Block",definitions:[],body:{type:"Placeholder",range:[f[d].range[1],f[d].range[1]]},range:this._$.range};break;case 6:case 96:case 99:case 101:case 117:case 136:case 152:case 155:this.$=[c[d]];break;case 7:c[d-1].push(c[d]);break;case 8:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:f[d-1].range},value:null,range:this._$.range};break;case 9:this.$={type:"Definition",declarator:{type:"Declarator",name:null,range:f[d-3].range},value:c[d-1],range:this._$.range};break;case 10:this.$={type:"Definition",declarator:{type:"Declarator",name:c[d-1].name,range:f[d-1].range},value:null,range:this._$.range};break;case 11:this.$={type:"Definition",declarator:{type:"Declarator",name:c[d-3].name,range:f[d-3].range},value:c[d-1],range:this._$.range};break;case 12:case 13:case 98:case 148:case 149:this.$={type:"Identifier",name:c[d],range:this._$.range};break;case 14:case 16:case 163:this.$=c[d];break;case 15:case 17:this.$={type:"Placeholder",range:[f[d].range[1],f[d].range[1]]};break;case 18:case 162:this.$=null;break;case 19:case 52:case 53:case 64:case 65:case 138:break;case 20:case 22:this.$={type:"Function",arguments:[],body:c[d],range:this._$.range};break;case 21:this.$={type:"Function",arguments:[{type:"Identifier",name:c[d-2]}],body:c[d],range:this._$.range};break;case 23:this.$={type:"Function",arguments:c[d-3],body:c[d],range:this._$.range};break;case 24:this.$={type:"CompareFunction",compares:c[d],range:this._$.range};break;case 25:case 26:case 27:case 28:case 67:this.$={type:"Prefix",operator:c[d-1],argument:c[d],range:this._$.range};break;case 29:this.$={type:"Pipeline",left:c[d-2],right:c[d],range:this._$.range};break;case 30:this.$={type:"Pipeline",left:c[d-3],right:{type:"Block",definitions:c[d-1],body:c[d]},range:this._$.range};break;case 31:this.$={type:"Postfix",operator:c[d],argument:c[d-2],range:this._$.range};break;case 32:case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 48:case 49:case 50:this.$={type:"Binary",operator:c[d-1],left:c[d-2],right:c[d],range:this._$.range};break;case 51:this.$={type:"Conditional",test:c[d-2],consequent:c[d-1],alternate:c[d],range:this._$.range};break;case 54:this.$={type:"Data",range:this._$.range};break;case 55:this.$={type:"Context",range:this._$.range};break;case 56:this.$={type:"Current",range:this._$.range};break;case 57:this.$={type:"Arg1",range:this._$.range};break;case 58:this.$={type:"Reference",name:c[d],range:this._$.range};break;case 59:case 60:case 61:case 62:case 107:case 108:case 109:case 110:case 119:case 120:case 121:this.$={type:"Literal",value:c[d],range:this._$.range};break;case 63:this.$={type:"Template",values:c[d],range:this._$.range};break;case 66:this.$={type:"SliceNotation",value:null,arguments:c[d-1],range:this._$.range};break;case 68:this.$={type:"Conditional",test:null,consequent:c[d-1],alternate:c[d],range:this._$.range};break;case 69:case 73:this.$={type:"GetProperty",value:null,property:c[d],range:this._$.range};break;case 70:case 74:this.$={type:"MethodCall",value:null,method:c[d],range:this._$.range};break;case 71:this.$={type:"Parentheses",body:c[d-1],range:this._$.range};break;case 72:this.$={type:"Parentheses",body:{type:"Block",definitions:c[d-2],body:c[d-1]},range:this._$.range};break;case 75:this.$={type:"Map",value:null,query:c[d-1],range:this._$.range};break;case 76:this.$={type:"Filter",value:null,query:c[d-1],range:this._$.range};break;case 77:this.$={type:"MapRecursive",value:null,query:{type:"GetProperty",value:null,property:c[d]},range:this._$.range};break;case 78:this.$={type:"MapRecursive",value:null,query:{type:"MethodCall",value:null,method:c[d]},range:this._$.range};break;case 79:this.$={type:"MapRecursive",value:null,query:c[d-1],range:this._$.range};break;case 80:this.$={type:"Pipeline",left:null,right:c[d],range:this._$.range};break;case 81:this.$={type:"Pipeline",left:null,right:{type:"Block",definitions:c[d-1],body:c[d]},range:this._$.range};break;case 82:this.$={type:"Pick",value:c[d-2],getter:null,range:this._$.range};break;case 83:this.$={type:"Pick",value:c[d-3],getter:c[d-1],range:this._$.range};break;case 84:this.$={type:"SliceNotation",value:c[d-3],arguments:c[d-1],range:this._$.range};break;case 85:this.$={type:"GetProperty",value:c[d-2],property:c[d],range:this._$.range};break;case 86:this.$={type:"MethodCall",value:c[d-2],method:c[d],range:this._$.range};break;case 87:this.$={type:"Map",value:c[d-3],query:c[d-1],range:this._$.range};break;case 88:this.$={type:"Filter",value:c[d-3],query:c[d-1],range:this._$.range};break;case 89:this.$={type:"MapRecursive",value:c[d-2],query:{type:"GetProperty",value:null,property:c[d]},range:this._$.range};break;case 90:this.$={type:"MapRecursive",value:c[d-2],query:{type:"MethodCall",value:null,method:c[d]},range:this._$.range};break;case 91:this.$={type:"MapRecursive",value:c[d-3],query:c[d-1],range:this._$.range};break;case 92:this.$={type:"Method",reference:{type:"Identifier",name:c[d-1],range:[f[d-1].range[0],f[d-1].range[1]-1]},arguments:[],range:this._$.range},this._mn=c[d-1];break;case 93:this.$={type:"Method",reference:{type:"Identifier",name:c[d-2],range:[f[d-2].range[0],f[d-2].range[1]-1]},arguments:c[d-1],range:this._$.range},this._mn=c[d-2];break;case 94:this.$={type:"Method",reference:{type:"Reference",name:{type:"Identifier",name:c[d-1],range:[f[d-1].range[0],f[d-1].range[1]-1]},range:[f[d-1].range[0],f[d-1].range[1]-1]},arguments:[],range:this._$.range},this._mn=c[d-1];break;case 95:this.$={type:"Method",reference:{type:"Reference",name:{type:"Identifier",name:c[d-2],range:[f[d-2].range[0],f[d-2].range[1]-1]},range:[f[d-2].range[0],f[d-2].range[1]-1]},arguments:c[d-1],range:this._$.range},this._mn=c[d-2];break;case 97:case 100:case 118:case 137:case 156:c[d-2].push(c[d]);break;case 102:this.$=[c[d-1],...c[d]];break;case 103:case 158:this.$=[null,c[d]];break;case 104:case 160:this.$=[c[d-1],c[d]];break;case 105:this.$=[null,c[d-1],...c[d]];break;case 106:this.$=[c[d-2],c[d-1],...c[d]];break;case 111:case 114:this.$={type:"Object",properties:[],range:this._$.range};break;case 112:this.$={type:"Object",properties:c[d-1],range:this._$.range};break;case 113:this.$={type:"Object",properties:c[d-2],range:this._$.range};break;case 115:this.$={type:"Block",definitions:c[d-2],body:{type:"Object",properties:c[d-1]},range:this._$.range};break;case 116:this.$={type:"Block",definitions:c[d-3],body:{type:"Object",properties:c[d-2]},range:this._$.range};break;case 122:this.$={type:"ObjectEntry",key:{type:"Current"},value:null,range:this._$.range};break;case 123:this.$={type:"ObjectEntry",key:{type:"Reference",name:c[d]},value:null,range:this._$.range};break;case 124:case 126:this.$={type:"ObjectEntry",key:c[d],value:null,range:this._$.range};break;case 125:this.$={type:"ObjectEntry",key:{type:"Literal",value:this._mn},value:c[d],range:this._$.range};break;case 127:case 128:this.$={type:"ObjectEntry",key:c[d-2],value:c[d],range:this._$.range};break;case 129:this.$={type:"ObjectEntry",key:{type:"Identifier",name:"$"+c[d-2].name},value:c[d],range:this._$.range};break;case 130:this.$={type:"ObjectEntry",key:c[d-1],value:{type:"Pipeline",left:{type:"Reference",name:c[d-1]},right:c[d]},range:this._$.range};break;case 131:this.$={type:"ObjectEntry",key:c[d-1],value:{type:"Pipeline",left:{type:"GetProperty",value:null,property:c[d-1]},right:c[d]},range:this._$.range};break;case 132:this.$={type:"ObjectEntry",key:{type:"Literal",value:this._mn},value:{type:"Pipeline",left:c[d-1],right:c[d]},range:this._$.range};break;case 133:this.$={type:"ObjectEntry",key:c[d-3],value:c[d],range:this._$.range};break;case 134:this.$={type:"Spread",query:null,array:!1,range:this._$.range};break;case 135:this.$={type:"Spread",query:c[d],array:!1,range:this._$.range};break;case 139:this.$={type:"Spread",query:null,array:!0,range:this._$.range};break;case 140:this.$={type:"Spread",query:c[d],array:!0,range:this._$.range};break;case 141:this.$={type:"Array",elements:[],range:this._$.range};break;case 142:this.$={type:"Array",elements:c[d-1],range:this._$.range};break;case 143:this.$={type:"Array",elements:c[d-2],range:this._$.range};break;case 144:this.$={type:"Assertion",negation:!1,assertion:c[d],range:this._$.range};break;case 145:this.$={type:"Assertion",negation:!0,assertion:c[d],range:this._$.range};break;case 146:this.$={type:"Assertion",negation:!1,assertion:c[d-1],range:this._$.range};break;case 147:this.$={type:"Assertion",negation:!0,assertion:c[d-1],range:this._$.range};break;case 150:this.$={type:"Method",reference:{type:"Reference",name:c[d]},arguments:[],range:this._$.range};break;case 151:this.$={type:"Identifier",name:String(c[d]),range:this._$.range};break;case 153:case 154:c[d-2].push(c[d-1],c[d]);break;case 157:this.$={type:"Compare",query:c[d-1],order:c[d],range:this._$.range};break;case 159:this.$=[null,c[d-1],c[d]];break;case 161:this.$=[c[d-2],c[d-1],c[d]];break}},trace(...n){this.DEBUG&&Jison.print(...n)},parseError(n,e){if(e.recoverable)this.trace(n);else{let i=new Error(n);throw i.hash=e,i}},parse(n,...e){let d=W=>{F.length-=2*W,N.length-=W,A.length-=W},g=()=>{let W=m.lex()||1;return typeof W!="number"&&(W=this.symbols_[W]||W),W},m=Object.create(this.lexer),y=m.options&&m.options.ranges,k={...this.yy,parser:this,lexer:m};m.setInput(n,k),typeof k.parseError=="function"&&(this.parseError=k.parseError),typeof m.yylloc>"u"&&(m.yylloc={});let C=this.table,M={},E=m.yylloc,F=[0],N=[null],A=[E],b=[],L="",T=0,I=0,B=0,R,U;for(;;){let W=F[F.length-1],ne;if(this.defaultActions[W]?ne=this.defaultActions[W]:((R===null||typeof R>"u")&&(R=g()),ne=C[W]&&C[W][R]),!ne||!ne[0]){let S=function(X){let ee=F.length-1,pe=0;for(;;){if("2"in C[X])return pe;if(X===0||ee<2)return!1;ee-=2,X=F[ee],++pe}},q,Z="";if(!B){let X=[];for(let ee in C[W])ee in this.terminals_&&ee>2&&X.push("'"+this.terminals_[ee]+"'");Z=m.showPosition?"Parse error on line "+(T+1)+`:
`+m.showPosition()+`
Expecting `+X.join(", ")+", got '"+(this.terminals_[R]||R)+"'":"Parse error on line "+(T+1)+": Unexpected "+(R===1?"end of input":"'"+(this.terminals_[R]||R)+"'"),this.parseError(Z,{text:m.match,token:this.terminals_[R]||R,line:m.yylineno,loc:E,expected:X})}if(B===3){if(R===1||U===1)throw new Error(Z||"Parsing halted while starting to recover from another error.");I=m.yyleng,L=m.yytext,T=m.yylineno,E=m.yylloc,R=g()}if(q===!1)throw new Error(Z||"Parsing halted. No suitable error recovery rule available.");d(q),U=R==2?null:R,R=2,W=F[F.length-1],ne=C[W]&&C[W][2],B=3}if(Array.isArray(ne[0])&&ne.length>1)throw new Error("Parse Error: multiple actions possible at state: "+W+", token: "+R);switch(ne[0]){case 1:F.push(R),N.push(m.yytext),A.push(m.yylloc),F.push(ne[1]),R=null,U?(R=U,U=null):(I=m.yyleng,L=m.yytext,T=m.yylineno,E=m.yylloc,B>0&&B--);break;case 2:{let q=this.productions_[ne[1]][1],Z=A[A.length-(q||1)],S=A[A.length-1];M.$=N[N.length-q],M._$={first_line:Z.first_line,last_line:S.last_line,first_column:Z.first_column,last_column:S.last_column},y&&(M._$.range=[Z.range[0],S.range[1]]);let X=this.performAction.call(M,L,I,T,k,ne[1],N,A,...e);if(typeof X<"u")return X;q&&d(q),F.push(this.productions_[ne[1]][0]),N.push(M.$),A.push(M._$),F.push(C[F[F.length-2]][F[F.length-1]]);break}case 3:return!0}}}};WD=function(e){function i(b,L){Object.entries(L).forEach(([T,I])=>b[T]=I(b[T]))}let o=new Map([["EOF",["<end of input>"]],["IDENT",["ident"]],["$IDENT",["$ident"]],["NOT",["'not'"]],["NO",["'no'"]],["IS",["'is'"]],["IN",["'in'"]],["HAS",["'has'"]],["NOTIN",["'not in'"]],["HASNO",["'has no'"]],["AND",["'and'"]],["OR",["'or'"]],["STRING",["string"]],["TPL_START",["template"]],["TEMPLATE",["template"]],["NUMBER",["number"]],["REGEXP",["regexp"]],["LITERAL",["'true'","'false'","'null'","'undefined'","'NaN'","'Infinity'"]],["ORDER",["'asc'","'desc'","'ascN'","'descN'"]],["METHOD(",["'method('"]],["$METHOD(",["'$method('"]]]),l=b=>o.get(b)||`'${b}'`,c=function(b,L={},T){if(L.recoverable)this.trace(b);else{if(Array.isArray(L.inside)){let W=T.lexer.offset-T.lexer.match.length;T.lexer.setMatch(W+L.inside[0],W+L.inside[1])}let I=T.lexer.yylloc,B=[b.split(/\n/)[0],"",T.lexer.showPosition()],R=Array.isArray(L.expected)?[...new Set([].concat(...L.expected.map(W=>l(W.slice(1,-1)))))]:null;R&&B.push("","Expecting "+R.join(", ")+" got "+l(L.token));let U=new SyntaxError(B.join(`
`));throw U.details={rawMessage:b,text:L.text,token:L.token,expected:R,loc:{range:I.range,start:{line:I.first_line,column:I.first_column,offset:I.range[0]},end:{line:I.last_line,column:I.last_column,offset:I.range[1]}}},U}},f=new Set([`
`,"\r","\u2028","\u2029"]),d=new Map([["undefined",void 0],["null",null],["false",!1],["true",!0],["Infinity",1/0],["NaN",NaN]]);Object.assign(e.lexer,{ident:b=>b.replace(/\\u[0-9a-fA-F]{4}/g,L=>String.fromCharCode(parseInt(L.slice(2),16))),toLiteral:b=>d.get(b),toNumberLiteral(b,L,T=!1){if(L){let I=b.match(T?/(?:^|[^0-9a-fA-F])_|_(?:[^0-9a-fA-F]|$)/:/(?:^|\D)_|_(?:\D|$)/);if(I){let B=I[0],R=I.index+ +(B[1]==="_"),U=B==="__"?"Only one underscore is allowed":"Wrong underscore";this.parseError(U+" as numeric separator",{inside:[R,R+1]})}b=b.replace(/_/g,"")}return T?parseInt(b,16):parseFloat(b)},toStringLiteral(b,L=!1,T=1){let I=b.length-T,B="";for(let R=1;R<I;R++){if(!L&&f.has(b[R])&&this.parseError("Invalid line terminator",{inside:[R,R+1]}),b[R]!=="\\"){B+=b[R];continue}R===I-1&&this.parseError("Invalid backslash",{inside:[R,R+1]});let U=b[++R];switch(U){case"\r":R+=b[R+1]===`
`;break;case`
`:case"\u2028":case"\u2029":break;case"0":B+="\0";break;case"b":B+="\b";break;case"n":B+=`
`;break;case"r":B+="\r";break;case"f":B+="\f";break;case"t":B+="	";break;case"v":B+="\v";break;case"u":{let[W=""]=b.slice(R+1,R+5).match(/^[0-9a-f]*/i)||[];if(W.length===4){B+=String.fromCharCode(parseInt(W,16)),R+=4;break}this.parseError("Invalid Unicode escape sequence",{inside:[R-1,Math.min(R+1+W.length,I)]});break}case"x":{let[W=""]=b.slice(R+1,R+3).match(/^[0-9a-f]*/i)||[];if(W.length===2){B+=String.fromCharCode(parseInt(W,16)),R+=2;break}this.parseError("Invalid hexadecimal escape sequence",{inside:[R-1,Math.min(R+1+W.length,I)]});break}default:B+=U}}return B},toRegExp(b){let L=b.lastIndexOf("/")+1,T=b.substr(L);return T.split("").forEach((I,B,R)=>{let U=R.indexOf(I,B+1);U!==-1&&this.parseError("Duplicate flag in regexp",{inside:[L+U,L+U+1]})}),new RegExp(b.substr(1,b.lastIndexOf("/")-1),T)}}),i(e.lexer,{setInput:b=>function(L,T){let I=[];return T.commentRanges=I,T.buildResult=B=>({ast:B,commentRanges:I}),T.parseError=function(...B){return c.call(this,...B,T)},T.pks=()=>{this.eof()||this.begin("preventKeyword")},T.pps=()=>{this.eof()||this.begin("preventPrimitive")},this.bracketStack=[],this.prevToken=null,this.prevYylloc={first_line:1,last_line:1,first_column:0,last_column:0,range:[0,0]},b.call(this,L,T)}});let g=new e.Parser;g.lexer={...e.lexer},g.yy={...e.yy};let m=["AND","OR","IN","NOTIN","HAS","HASNO","IS"],y=[...m,"NOT","NO","ORDER"],k=["+","-","*","/","%","|","=","!=","~=",">=","<=","<",">"],C=[null,"?",":",";",",",".","..","(",".(","..(","METHOD(","$METHOD(","[",".[","=>",...k,...m,"NOT","NO"],M=[",","?",":",";","EOF","]",")","}","TPL_CONTINUE","TPL_END",...k,...m,"ORDER"],E=new Map(C.map(b=>[b,new Set(M)]));for(let b of[".(","..(","METHOD(","$METHOD("])E.get(b).delete(")");for(let b of["[",".["])E.get(b).delete("]");i(g.lexer,{lex:b=>function(){let T=this.offset,I=b.call(this);if(E.has(this.prevToken)&&E.get(this.prevToken).has(I)){let B={first_line:this.prevYylloc.last_line,last_line:this.yylloc.first_line,first_column:this.prevYylloc.last_column,last_column:this.yylloc.first_column,range:[this.prevYylloc.range[1],this.yylloc.range[0]]};if(this.unput(this.match),this.pushState("preventPrimitive"),this.done=!1,this.yytext="",this.yylloc=this.prevYylloc=B,T!==this.offset&&y.includes(I))switch(this._input[T]){case" ":case"	":B.last_column--,B.range[1]--;break;case`
`:{let R=this._input.lastIndexOf(`
`,T-1);B.last_line--,B.last_column=R===-1?B.last_column-1:T-R,B.range[1]--;break}}return this.prevToken="IDENT"}if(this.prevYylloc=this.yylloc,y.includes(I))switch(this._input[this.offset]){case" ":case"	":this.prevYylloc={...this.prevYylloc,last_column:this.prevYylloc.last_column+1,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]};break;case`
`:this.prevYylloc={...this.prevYylloc,last_line:this.prevYylloc.last_line+1,last_column:0,range:[this.prevYylloc.range[0],this.prevYylloc.range[1]+1]};break}return this.prevToken=I}});let F=new Map([["(",")"],[".(",")"],["..(",")"],["METHOD(",")"],["$METHOD(",")"],["[","]"],[".[","]"],["{","}"],["TPL_START","TPL_END"]]),N=new Set([")","]","}","TPL_END"]),A=b=>function(){let T=b.call(this);if(N.has(T)){let I=this.bracketStack.pop();I!==T&&this.parseError(`Expected "${I}" got "${T}"`)}return F.has(T)&&this.bracketStack.push(F.get(T)),T};return i(e.lexer,{lex:A}),i(g.lexer,{lex:A}),{parse(b,L){return L?g.parse(b):e.parse(b)},*tokenize(b,L,T){let I=L?g:e,B=Object.create(I.lexer);for(B.setInput(b,{parser:I});!B.done;){let R={type:B.lex(),value:B.match,offset:B.yylloc.range[0]};T&&(R.loc={range:B.yylloc.range,start:{line:B.yylloc.first_line,column:B.yylloc.first_column},end:{line:B.yylloc.last_line,column:B.yylloc.last_column}}),yield R}}}}(new ju),ma=WD});var zu={};Fe(zu,{compile:()=>$D,stringify:()=>GD,walk:()=>UD});function $D(n,e){e.put(e.scope.arg1?"arguments[1]":"undefined")}function UD(){}function GD(n,e){e.put("$$")}var rg=z(()=>{});var Ru={};Fe(Ru,{compile:()=>YD,stringify:()=>KD,suggest:()=>VD,walk:()=>QD});function VD(n,e){n.elements.length===0&&e.queryRoot(n.range[0]+1,n.range[1]-1)}function YD(n,e){e.put("["),e.list(n.elements,","),e.put("]")}function QD(n,e){e.list(n.elements)}function KD(n,e){e.put("["),e.list(n.elements,","),e.put("]")}var ig=z(()=>{});var Hu={};Fe(Hu,{compile:()=>JD,stringify:()=>eA,suggest:()=>ZD,walk:()=>XD});function ZD(n,e){Array.isArray(n.assertion)||(e.range(n.assertion.range,"var"),e.range(n.assertion.range,"assertion"))}function JD(n,e){if(Array.isArray(n.assertion)){e.put(n.negation?"!(":"(");for(let i=0;i<n.assertion.length;i++)if(i%2===0)e.node(n.assertion[i]);else switch(n.assertion[i]){case"and":e.put("&&");break;case"or":e.put("||");break;default:e.error("Bad conjuction operator in assertion",n)}e.put(")")}else switch(n.negation&&e.put("!"),n.assertion.type){case"Identifier":n.assertion.name?(e.put("!!"),e.tolerant&&e.put("(typeof "),e.put("a."),e.put(n.assertion.name),e.tolerant&&(e.put('==="function"?a.'),e.put(n.assertion.name)),e.put(".call(mctx,"),e.nodeOrCurrent(),e.put(")"),e.tolerant&&e.put(":false)"),e.usedAssertions.has(n.assertion.name)?e.usedAssertions.get(n.assertion.name).push(n.assertion.range):e.usedAssertions.set(n.assertion.name,n.assertion.range)):e.put("false");break;case"Method":e.put("!!"),e.node(n.assertion);break;default:e.error('Unknown assertion node type "'+n.assertion.type+'"',n.assertion)}}function XD(n,e){if(Array.isArray(n.assertion))for(let i=0;i<n.assertion.length;i++)i%2===0&&e.node(n.assertion[i]);else e.node(n.assertion)}function eA(n,e){if(n.negation&&e.put("not "),Array.isArray(n.assertion)){e.put("(");for(let i=0;i<n.assertion.length;i++)i%2===0?e.node(n.assertion[i]):(e.put(" "),e.put(n.assertion[i]),e.put(" "));e.put(")")}else e.node(n.assertion)}var og=z(()=>{});var qu={};Fe(qu,{compile:()=>nA,stringify:()=>iA,suggest:()=>tA,walk:()=>rA});function ya(n,e,i){if(i.type==="Array"){if(i.elements.length===0){n.range([i.range[0]+1,i.range[1]-1],"value-subset",e,!1);return}let o=[];for(let{type:c,range:f,value:d}of i.elements)f&&(c==="Literal"||c==="Identifier")&&o.push(d);let l=o.length?n.literalList(o):!1;for(let{type:c,range:f,value:d}of i.elements)f&&(c==="Literal"||c==="Identifier"||c==="GetProperty"&&d===null)&&n.range(f,"value-subset",e,l)}}function tA(n,e){switch(n.operator){case"in":e.range(n.left.range,"in-value",n.right,null),ya(e,n.left,n.right);break;case"not in":ya(e,n.left,n.right);break;case"has":e.range(n.right.range,"in-value",n.left,null),ya(e,n.right,n.left);break;case"has no":ya(e,n.right,n.left);break;case"=":case"!=":e.range(n.right.range,"value",n.left,null);break}}function nA(n,e){if(!(n.operator in sg)){e.error('Unknown operator "'+n.operator+'"',n);return}switch(n.operator){case"and":e.put("!");case"or":{let i=e.allocateVar();e.put(`${e.buildinFn("bool")}(${i}=`),e.node(n.left),e.put(`)?${i}:`),e.createScope(()=>e.node(n.right),o=>(e.put(")"),"("+o+","),e.scope.$ref);break}case"??":{let i=e.allocateVar();e.put(`(${i}=`),e.node(n.left),e.put(`,${i}!==null&&${i}!==undefined)?${i}:`),e.createScope(()=>e.node(n.right),o=>(e.put(")"),"("+o+","),e.scope.$ref);break}case"has no":e.put("!");case"has":e.put(e.buildinFn("in")),e.put("("),e.node(n.right),e.put(","),e.node(n.left),e.put(")");break;default:e.put(e.buildinFn(sg[n.operator])),e.put("("),e.node(n.left),e.put(","),e.node(n.right),e.put(")")}}function rA(n,e){e.node(n.left),e.node(n.right)}function iA(n,e){e.node(n.left),/^[a-z]/i.test(n.operator)?(e.put(" "),e.put(n.operator),e.put(" ")):e.put(n.operator),e.node(n.right)}var sg,ag=z(()=>{sg={in:"in","not in":"notIn",has:"has","has no":"hasNo",and:"and",or:"or","??":"nullish","+":"add","-":"sub","*":"mul","/":"div","%":"mod","=":"eq","!=":"ne","<":"lt","<=":"lte",">":"gt",">=":"gte","~=":"match"}});var _u={};Fe(_u,{compile:()=>sA,stringify:()=>lA,suggest:()=>oA,walk:()=>aA});function oA(n,e){n.body===null&&e.queryRoot(n.range[1])}function sA(n,e){n.definitions.length?(e.put("(()=>{"),e.createScope(()=>{for(let i of n.definitions)e.scope.awaitInit.add(i.declarator.name);e.list(n.definitions),e.put("return "),e.nodeOrCurrent(n.body)},i=>i+";",e.scope.$ref),e.put("})()")):n.body&&n.body.type==="Object"?(e.put("("),e.nodeOrCurrent(n.body),e.put(")")):e.nodeOrCurrent(n.body)}function aA(n,e){e.list(n.definitions),e.nodeOrNothing(n.body)}function lA(n,e){e.list(n.definitions),e.nodeOrNothing(n.body)}var lg=z(()=>{});var Wu={};Fe(Wu,{compile:()=>uA,stringify:()=>fA,walk:()=>cA});function uA(n,e){let i=n.order.startsWith("desc"),o=ug[n.order.slice(i?4:3)]||ug[""];i&&e.put("-"),e.put(e.buildinFn(o)),e.put("((_q=$=>("),e.createScope(()=>e.node(n.query),l=>l+","),e.put("))(_a),_q(_b))")}function cA(n,e){e.node(n.query)}function fA(n,e){e.node(n.query),e.put(" "),e.put(n.order)}var ug,cg=z(()=>{ug={"":"cmp",N:"cmpNatural",A:"cmpAnalytical",NA:"cmpNaturalAnalytical",AN:"cmpNaturalAnalytical"}});var $u={};Fe($u,{compile:()=>dA,stringify:()=>hA,walk:()=>pA});function dA(n,e){e.put("(_a, _b)=>{let _q;return "),e.list(n.compares,"||"),e.put("||0}")}function pA(n,e){e.list(n.compares)}function hA(n,e){e.list(n.compares,",")}var fg=z(()=>{});var Uu={};Fe(Uu,{compile:()=>gA,stringify:()=>yA,walk:()=>mA});function gA(n,e){e.put(e.buildinFn("bool")),e.put("("),e.nodeOrCurrent(n.test),e.put(")?"),e.createScope(()=>e.nodeOrCurrent(n.consequent),i=>(e.put(")"),"("+i+","),e.scope.$ref),e.put(":"),e.createScope(()=>{n.alternate?n.alternate.type==="Placeholder"?(e.put("("),e.node(n.alternate),e.put(",undefined)")):e.node(n.alternate):e.put("undefined")},i=>(e.put(")"),"("+i+","),e.scope.$ref)}function mA(n,e){e.nodeOrNothing(n.test),e.nodeOrNothing(n.consequent),e.nodeOrNothing(n.alternate)}function yA(n,e){e.nodeOrNothing(n.test),e.put("?"),e.nodeOrNothing(n.consequent),n.alternate&&(e.put(":"),e.node(n.alternate))}var dg=z(()=>{});var Gu={};Fe(Gu,{compile:()=>vA,stringify:()=>bA,walk:()=>wA});function vA(n,e){e.put("context")}function wA(){}function bA(n,e){e.put("#")}var pg=z(()=>{});var Vu={};Fe(Vu,{compile:()=>kA,stringify:()=>DA,suggest:()=>xA,walk:()=>CA});function xA(n,e){n.range&&e.range(n.range,"var")}function kA(n,e){e.put(e.scope.$ref)}function CA(){}function DA(n,e){e.put("$")}var hg=z(()=>{});var Yu={};Fe(Yu,{compile:()=>AA,stringify:()=>EA,walk:()=>SA});function AA(n,e){e.put("data")}function SA(){}function EA(n,e){e.put("@")}var gg=z(()=>{});var Qu={};Fe(Qu,{compile:()=>MA,stringify:()=>TA,walk:()=>LA});function MA(n,e){n.name&&e.put("$"+n.name)}function LA(){}function TA(n,e){e.put(n.name?"$"+n.name:"$")}var mg=z(()=>{});function Fo(n,e){return{type:"GetProperty",value:n,property:e}}function No(n){return{type:"Identifier",name:n}}var Ku=z(()=>{});var Zu={};Fe(Zu,{compile:()=>OA,stringify:()=>BA,suggest:()=>NA,walk:()=>IA});function NA(n,e){n.value===null&&e.range(n.declarator.range,"path")}function OA(n,e){if(n.declarator.name===null){e.node(n.declarator),e.nodeOrCurrent(n.value),e.put(";");return}if(e.scope.own.has(n.declarator.name)){e.error(`Identifier "$${n.declarator.name}" has already been declared`,n.declarator);return}if(FA.includes(n.declarator.name)){e.error(`Identifier "$${n.declarator.name}" is reserved for future use`,n.declarator);return}e.put("const "),e.node(n.declarator),e.put("="),e.node(n.value||Fo(null,No(n.declarator.name))),e.put(";"),e.scope.add(n.declarator.name),e.scope.own.add(n.declarator.name),e.scope.awaitInit.delete(n.declarator.name)}function IA(n,e){e.node(n.declarator),e.nodeOrNothing(n.value)}function BA(n,e){e.node(n.declarator),n.value!==null&&(e.put(":"),e.node(n.value)),e.put(";")}var FA,yg=z(()=>{Ku();FA=["data","context","ctx","array","idx","index"]});var Ju={};Fe(Ju,{compile:()=>PA,stringify:()=>zA,walk:()=>jA});function PA(n,e){e.put(e.buildinFn("filter")),e.put("("),e.nodeOrCurrent(n.value),e.put(",$=>"),e.createScope(()=>e.node(n.query),i=>(e.put(")"),"("+i+",")),e.put(")")}function jA(n,e){e.nodeOrNothing(n.value),e.node(n.query)}function zA(n,e){e.nodeOrNothing(n.value),e.put(".["),e.node(n.query),e.put("]")}var vg=z(()=>{});var Xu={};Fe(Xu,{compile:()=>RA,stringify:()=>qA,walk:()=>HA});function RA(n,e){let i=n.arguments.map(l=>"$"+l.name),o=n.arguments.find((l,c)=>c>0&&i.lastIndexOf("$"+l.name,c-1)!==-1);o&&e.error('Duplicate parameter name "$'+o.name+'" is not allowed',o),e.put("function("),e.put(String(i)||"$"),e.put("){return "),e.createScope(()=>{e.scope.arg1=!0,e.scope.$ref=i[0]||"$";for(let l of n.arguments)e.scope.add(l.name);e.node(n.body)},l=>l+","),e.put("}")}function HA(n,e){e.node(n.body)}function qA(n,e){e.put("=>"),e.node(n.body)}var wg=z(()=>{});var ec={};Fe(ec,{compile:()=>WA,stringify:()=>UA,suggest:()=>_A,walk:()=>$A});function _A(n,e){e.range(n.property.range,"path",n.value||void 0,!n.value),n.value===null&&e.range(n.property.range,"var"),n.range&&n.value===null&&n.property.range[0]!==n.range[0]&&e.queryRoot(n.range[0])}function WA(n,e){e.put(e.buildinFn("map")),e.put("("),e.nodeOrCurrent(n.value),e.put(","),n.property.type==="Identifier"?e.put(JSON.stringify(n.property.name)):e.node(n.property),e.put(")")}function $A(n,e){e.nodeOrNothing(n.value),e.node(n.property)}function UA(n,e){e.nodeOrNothing(n.value)&&e.put("."),e.node(n.property)}var bg=z(()=>{});var tc={};Fe(tc,{compile:()=>GA,stringify:()=>YA,walk:()=>VA});function GA(n,e){e.put(n.name)}function VA(){}function YA(n,e){e.put(n.name)}var xg=z(()=>{});var nc={};Fe(nc,{compile:()=>QA,stringify:()=>ZA,walk:()=>KA});function QA(n,e){e.put(typeof n.value=="string"?JSON.stringify(n.value):String(n.value))}function KA(){}function ZA(n,e){e.put(typeof n.value=="string"?JSON.stringify(n.value):String(n.value))}var kg=z(()=>{});var rc={};Fe(rc,{compile:()=>JA,stringify:()=>eS,walk:()=>XA});function JA(n,e){e.put(e.buildinFn("map")),e.put("("),e.nodeOrCurrent(n.value),e.put(",$=>"),e.createScope(()=>e.node(n.query),i=>(e.put(")"),"("+i+",")),e.put(")")}function XA(n,e){e.nodeOrNothing(n.value),e.node(n.query)}function eS(n,e){e.nodeOrNothing(n.value),e.put(".("),e.node(n.query),e.put(")")}var Cg=z(()=>{});var ic={};Fe(ic,{compile:()=>tS,stringify:()=>rS,walk:()=>nS});function tS(n,e){e.put(e.buildinFn("mapRecursive")),e.put("("),e.nodeOrCurrent(n.value),e.put(",$=>"),e.createScope(()=>e.node(n.query),i=>(e.put(")"),"("+i+",")),e.put(")")}function nS(n,e){e.nodeOrNothing(n.value),e.node(n.query)}function rS(n,e){e.nodeOrNothing(n.value),e.put(".."),e.isSimpleGetPropertyQuery(n.query)||e.isSimpleMethodCallQuery(n.query)?e.node(n.query):(e.put("("),e.node(n.query),e.put(")"))}var Dg=z(()=>{});var oc={};Fe(oc,{compile:()=>oS,stringify:()=>aS,suggest:()=>iS,walk:()=>sS});function iS(n,e){n.arguments.length===0&&e.queryRoot(n.range[1]-1)}function oS(n,e,i){let o=n.reference.type==="Identifier";e.tolerant&&e.put("(typeof "),o&&(e.usedMethods.has(n.reference.name)?e.usedMethods.get(n.reference.name).push(n.reference.range):e.usedMethods.set(n.reference.name,[n.reference.range]),e.put("m.")),e.node(n.reference),e.tolerant&&(e.put('==="function"?'),o&&e.put("m."),e.node(n.reference)),e.put(o?".call(mctx,":"("),e.nodeOrCurrent(i),n.arguments.length&&(e.put(","),e.list(n.arguments,",")),e.put(")"),e.tolerant&&e.put(":undefined)")}function sS(n,e){e.node(n.reference),e.list(n.arguments)}function aS(n,e){e.node(n.reference),e.put("("),e.list(n.arguments,","),e.put(")")}var Ag=z(()=>{});var sc={};Fe(sc,{compile:()=>lS,stringify:()=>cS,walk:()=>uS});function lS(n,e){e.node(n.method,n.value)}function uS(n,e){e.nodeOrNothing(n.value),e.node(n.method)}function cS(n,e){e.nodeOrNothing(n.value)&&e.put("."),e.node(n.method)}var Sg=z(()=>{});var ac={};Fe(ac,{compile:()=>dS,stringify:()=>hS,suggest:()=>fS,walk:()=>pS});function fS(n,e){n.properties.length===0&&e.queryRoot(n.range[0]+1,n.range[1]-1)}function dS(n,e){e.put("{"),e.list(n.properties,","),e.put("}")}function pS(n,e){e.list(n.properties)}function hS(n,e){e.put("{"),e.list(n.properties,","),e.put("}")}var Eg=z(()=>{});var lc={};Fe(lc,{compile:()=>yS,stringify:()=>wS,suggest:()=>mS,walk:()=>vS});function mS(n,e){if(n.value===null)switch(n.key.type){case"Literal":case"Identifier":e.range(n.range,"path"),e.range(n.range,"var");break;case"Current":case"Reference":e.range(n.range,"var");break}}function yS(n,e){let i=n.value;switch(n.key.type){case"Current":e.put("...null");return;case"Literal":e.node(n.key),i=i||Fo(null,No(String(n.key.value)));break;case"Identifier":e.node(n.key),i=i||Fo(null,No(n.key.name));break;case"Reference":e.node(n.key.name),i=i||n.key;break;default:e.put("["),e.node(n.key),e.put("]")}e.put(":"),e.node(i)}function vS(n,e){e.node(n.key),e.nodeOrNothing(n.value)}function wS(n,e){if(gS.has(n.key.type)){if(e.node(n.key),n.value===null)return}else e.put("["),e.node(n.key),e.put("]");e.put(":"),e.node(n.value)}var gS,Mg=z(()=>{Ku();gS=new Set(["Literal","Identifier","Reference","Current"])});var uc={};Fe(uc,{compile:()=>bS,stringify:()=>kS,walk:()=>xS});function bS(n,e){e.put("("),e.node(n.body),e.put(")")}function xS(n,e){e.node(n.body)}function kS(n,e){e.put("("),e.node(n.body),e.put(")")}var Lg=z(()=>{});var cc={};Fe(cc,{compile:()=>DS,stringify:()=>SS,suggest:()=>CS,walk:()=>AS});function CS(n,e){if(n.getter===null){let i=n.range[1]-1;e.range([i,i],"key",n.value,!1),e.queryRoot(i)}else(n.getter.type==="GetProperty"||n.getter.type==="Reference"||n.getter.type==="Literal"&&typeof n.getter.value=="string")&&e.range(n.getter.range,"key",n.value,!1)}function DS(n,e){e.put(e.buildinFn("pick")),e.put("("),e.node(n.value),n.getter&&(e.put(","),e.node(n.getter)),e.put(")")}function AS(n,e){e.node(n.value),n.getter!==null&&e.node(n.getter)}function SS(n,e){e.node(n.value),e.put("["),n.getter!==null&&e.node(n.getter),e.put("]")}var Tg=z(()=>{});var fc={};Fe(fc,{compile:()=>ES,stringify:()=>LS,walk:()=>MS});function ES(n,e){e.put("($=>("),e.createScope(()=>e.node(n.right),i=>i+","),e.put("))"),e.put("("),e.nodeOrCurrent(n.left),e.put(")")}function MS(n,e){e.node(n.left),e.node(n.right)}function LS(n,e){e.node(n.left),e.put("|"),e.node(n.right)}var Fg=z(()=>{});var dc={};Fe(dc,{compile:()=>FS,stringify:()=>OS,suggest:()=>TS,walk:()=>NS});function TS(n,e){e.queryRoot(n.range[1])}function FS(n,e){e.put(e.scope.$ref)}function NS(){}function OS(){}var Ng=z(()=>{});var pc={};Fe(pc,{compile:()=>IS,stringify:()=>PS,walk:()=>BS});function IS(n,e){if(n.operator&&n.operator.type){e.put("($=>("),e.createScope(()=>e.node(n.operator),i=>i+","),e.put("))"),e.put("("),e.node(n.argument),e.put(")");return}e.error('Unknown operator "'+n.operator+'"',n)}function BS(n,e){e.node(n.argument),n.operator&&n.operator.type&&e.node(n.operator)}function PS(n,e){e.node(n.argument),e.put(" "),e.node(n.operator)}var Og=z(()=>{});var hc={};Fe(hc,{compile:()=>jS,stringify:()=>RS,walk:()=>zS});function jS(n,e){switch(n.operator){case"no":case"not":e.put("!"),e.put(e.buildinFn("bool")),e.put("("),e.node(n.argument),e.put(")");break;case"+":case"-":e.put(n.operator),e.node(n.argument);break;case"is":e.put("!!("),e.node(n.argument),e.put(")");break;default:e.error('Unknown operator "'+n.operator+'"',n)}}function zS(n,e){e.node(n.argument),n.operator&&n.operator.type&&e.node(n.operator)}function RS(n,e){e.put(n.operator),n.operator!=="-"&&n.operator!=="+"&&e.put(" "),e.node(n.argument)}var Ig=z(()=>{});var gc={};Fe(gc,{compile:()=>qS,stringify:()=>WS,suggest:()=>HS,walk:()=>_S});function HS(n,e){n.range&&e.range(n.range,"var")}function qS(n,e){let i=n.name,o=e.scope.has(i.name),l=e.scope.awaitInit.has(i.name);if(!o||l){l?(e.put("f.unsafeRef(()=>$"),e.node(i),e.tolerant||(e.put(","),e.put(JSON.stringify(i.name)),e.put(","),e.put(JSON.stringify(i.range))),e.put(")")):e.tolerant?e.put("undefined"):e.error(`$${i.name} is not defined`,i);return}e.put("$"),e.node(i)}function _S(n,e){e.node(n.name)}function WS(n,e){e.put("$"),e.node(n.name)}var Bg=z(()=>{});var mc={};Fe(mc,{compile:()=>$S,stringify:()=>GS,walk:()=>US});function $S(n,e){e.put(e.buildinFn("slice")),e.put("("),e.nodeOrCurrent(n.value),n.arguments.slice(0,3).forEach(i=>{e.put(","),i?e.node(i):e.put("undefined")}),e.put(")")}function US(n,e){e.nodeOrNothing(n.value);for(let i of n.arguments.slice(0,3))i&&e.node(i)}function GS(n,e){let[i,o,l]=n.arguments;e.nodeOrNothing(n.value),e.put("["),i&&e.node(i),e.put(":"),o&&e.node(o),l&&(e.put(":"),e.node(l)),e.put("]")}var Pg=z(()=>{});var yc={};Fe(yc,{compile:()=>YS,stringify:()=>KS,suggest:()=>VS,walk:()=>QS});function VS(n,e){n.query===null&&e.queryRoot(n.range[1])}function YS(n,e){if(n.array){e.put("..."),e.put(e.buildinFn("ensureArray")),e.put("("),e.nodeOrCurrent(n.query),e.put(")");return}e.put("..."),e.nodeOrCurrent(n.query)}function QS(n,e){e.nodeOrNothing(n.query)}function KS(n,e){e.put("..."),e.nodeOrNothing(n.query)}var jg=z(()=>{});var vc={};Fe(vc,{compile:()=>JS,stringify:()=>eE,suggest:()=>ZS,walk:()=>XS});function ZS(n,e){for(let[i,o]of Object.entries(n.values))o===null&&e.queryRoot(n.values[Number(i)-1].range[1])}function JS(n,e){for(let[i,o]of Object.entries(n.values)){let l=Number(i);o!==null&&(l!==0&&e.put("+"),l%2===0?e.put('"'+zg(o.value,tE)+'"'):(e.put("("),e.node(o),e.put(")")))}}function XS(n,e){for(let i of n.values)i!==null&&e.node(i)}function eE(n,e){let i=n.values.length-1;for(let[o,l]of Object.entries(n.values)){let c=Number(o);c%2===0?(e.put(c===0?"`":"}"),e.put(zg(l.value,nE)),e.put(c===i?"`":"${")):l!==null&&e.node(l)}}function zg(n,e){let i="";for(let o=0;o<n.length;o++)i+=e.get(n[o])||n[o];return i}var tE,nE,Rg=z(()=>{tE=new Map([["\b","\\b"],[`
`,"\\n"],["\r","\\r"],["\f","\\f"],["	","\\t"],["\v","\\v"],["\u2028","\\u2028"],["\u2029","\\u2029"],["\\","\\\\"],['"','\\"']]),nE=new Map([["\b","\\b"],["\f","\\f"],["	","\\t"],["\v","\\v"],["\\","\\\\"],["$","\\$"]])});var rE,Oo,iE,wc,bc,xc,kc,Io=z(()=>{rg();ig();og();ag();lg();cg();fg();dg();pg();hg();gg();mg();yg();vg();wg();bg();xg();kg();Cg();Dg();Ag();Sg();Eg();Mg();Lg();Tg();Fg();Ng();Og();Ig();Bg();Pg();jg();Rg();rE={Arg1:zu,Array:Ru,Assertion:Hu,Binary:qu,Block:_u,Compare:Wu,Conditional:Uu,Context:Gu,Current:Vu,Data:Yu,Declarator:Qu,Definition:Zu,Filter:Ju,Function:Xu,GetProperty:ec,Identifier:tc,Literal:nc,Map:rc,MapRecursive:ic,Method:oc,MethodCall:sc,Object:ac,ObjectEntry:lc,Parentheses:uc,Pick:cc,Pipeline:fc,Placeholder:dc,Postfix:pc,Prefix:hc,Reference:gc,SliceNotation:mc,CompareFunction:$u,Spread:yc,Template:vc},Oo=n=>new Map(Object.entries(rE).map(([e,i])=>[e,i[n]]).filter(([,e])=>typeof e=="function")),iE={};Oo("build").forEach((n,e)=>iE[e]=n);wc=Oo("compile"),bc=Oo("walk"),xc=Oo("stringify"),kc=Oo("suggest")});function Bo(n,e){function i(f){if(bc.has(f.type))l(f),bc.get(f.type)(f,o),c(f);else throw new Error('Unknown node type "'+f.type+'"')}let o={node:i,nodeOrNothing(f){f!==null&&i(f)},list(f){f.forEach(i)}},l=()=>{},c=()=>{};typeof e=="function"&&(e={enter:e}),e&&(typeof e.enter=="function"&&(l=e.enter),typeof e.leave=="function"&&(c=e.leave)),i(n)}var Cc=z(()=>{Io()});function Hg(n,e){return e>=0&&e<n.length&&/[a-zA-Z_$0-9]/.test(n[e])}function Dc(n,e){let i=n.charCodeAt(e);return i===9||i===10||i===13||i===32}function oE(n,e,i){for(;e<i;e++)if(!Dc(n,e))return!1;return!0}function sE(n,e,i,o,l){let c=[];for(let f=0;f<o.length;f++){let[d,g]=o[f];if(d>=e)break;d<n||(c.push(n,d),n=g)}return(n!==i.length||!l)&&c.push(n,e),c}function aE(n,e,i,o){let l=[];for(let c=0;c<n.length;c++){let[f,d,g,m]=n[c];if(oE(e,f,d)){for(;f>=0&&Dc(e,f-1);)f--;for(;d<e.length&&Dc(e,d);)d++;if(Hg(e,f-1)){if(f===d)continue;f++}if(Hg(e,d)){if(f===d)continue;d--}}let y=sE(f,d,e,i,o);for(let k=0;k<y.length;k+=2)l.push([y[k],y[k+1],g,m])}return l}function lE(n){let e=null,i=[],o=Object.assign(new Map,{literalList:i}),l=(f,d)=>{o.has(f)?o.get(f).push(d):o.set(f,[d])},c={range(f,d,g=e,m=!0){l(g,[...f,d,m])},literalList(f){let d="l"+i.length;return i.push([d,f]),d},queryRoot(f,d=f){l(e,[f,d,"var",!0]),l(e,[f,d,"path",!0])}};return Bo(n,f=>{if(kc.has(f.type)){let d=e;e=f,kc.get(f.type)(f,c),e=d}}),o}function va(n,{ast:e,commentRanges:i}){let o=lE(e),l=i.length&&i[i.length-1][1]===n.length&&!/[\r\n]$/.test(n);for(let[c,f]of o)o.set(c,aE(f,n,i,l));return o}var qg=z(()=>{Io();Cc()});function uE(n){return n.type==="GetProperty"}function cE(n){return n.type==="MethodCall"}function wa(n){function e(l){if(xc.has(l.type))xc.get(l.type)(l,o);else throw new Error('Unknown node type "'+l.type+'"')}let i=[],o={isSimpleGetPropertyQuery:uE,isSimpleMethodCallQuery:cE,put(l){i.push(l)},node:e,nodeOrNothing(l){if(l!==null)return e(l),!0},list(l,c){if(!c){l.forEach(e);return}l.forEach((f,d)=>{d>0&&o.put(c),e(f)})}};return e(n),i.join("")}var _g=z(()=>{Io()});function Ac(n,e,i){let o=Object.assign(Object.create(SyntaxError.prototype),i),l=new Error;return o.name=n,o.message=e,Object.defineProperty(o,"stack",{get:function(){return(l.stack||"").replace(/^(.+\n){1,3}/,n+": "+e+`
`)}}),o}var Wg=z(()=>{});function Ec(n,e,i){return $g(n,"query",e,i)}function Mc(n,e,i){return $g(n,"method",e,i)}function $g(n,e,i=!1,o=null){function l(A){let b="s"+m.length;return m.push(A?[b,A]:[b]),b}function c(A){let b=y.get(A);return b||y.set(A,b=l()),b}function f(A,b,L,T,I){let B=[A,b,JSON.stringify(L)];if(L==="var"){if(!N.scope.size)return;B.push(JSON.stringify([...N.scope]))}else T||(T=l()),B.push(T),I&&B.push(typeof I=="string"?I:c(I));return C.push(B),T}function d(A,b,L="$"){let T=N.scope,I=M.length-1;if(N.scope=T.spawn(T.arg1||e==="method",L),A(),N.scope.captureCurrent.length){let R="stat("+N.scope.captureCurrent.reduce((U,W)=>f(...W,U),void 0)+","+N.scope.$ref+")";N.scope.firstCurrent?M[N.scope.firstCurrent]=R:M[I]+=b(R)}N.scope=T}function g(A,b){let L=!1;if(o!==null){if(o.has(A))for(let[T,I,B,R]of o.get(A))B==="var"?f(T,I,B):R===!0?N.scope.captureCurrent.push([T,I,B]):(L||(L=c(A),M.push("stat("+L+",")),B&&f(T,I,B,L,R));A.type==="Current"&&N.scope.firstCurrent===null&&(N.scope.firstCurrent=M.length)}if(wc.has(A.type))wc.get(A.type)(A,N,b);else throw new Error('Unknown node type "'+A.type+'"');L&&M.push(")")}let m=[],y=new WeakMap,k=[],C=[],M=[{toString(){if(e==="query")return["((data,context)=>{",...N.usedMethods.size||N.usedAssertions.size?["const method = (name,...args)=>m[name].apply(mctx,args);","const assertion = (name,...args)=>a[name].apply(mctx,args);","const mctx = Object.freeze({context,method,assertion});"]:[]].join(`
`)+`
`;if(e==="method")return["(function(data){","const mctx = this;","const context = mctx.context;"].join(`
`)+`
`;throw new Error("Unknown kind: "+e)}},{toString(){return k.length>0?"let "+k+`;
`:""}},{toString(){return m.length>0?[`const stat=(s,v)=>(s.add(v),v);
`,"const "+m.map(([A,b])=>A+"=new Set("+(b?JSON.stringify(b):"")+")")+`;
`].join(""):""}},{toString(){let A=o&&Array.isArray(o.literalList)&&o.literalList.map(([b,L])=>b+"="+JSON.stringify(L));return A&&A.length?"const "+A+`;
`:""}},o===null?"return ":`return{
value: `],E={},F=new Set,N={tolerant:i,usedAssertions:new Map,usedMethods:new Map,suggestions:o!==null,buildinFn(A){return F.add(A),"f."+A},scope:new Sc,createScope:d,error:(A,b)=>{let L=new SyntaxError(A);if(b&&b.range&&(L.details={loc:{range:b.range}}),!i)throw L},allocateVar(){let A="tmp"+k.length;return k.push(A),A},put:A=>M.push(A),node:g,nodeOrCurrent(A,b){g(A||{type:"Current"},b)},list(A,b,L){A.forEach((T,I)=>{I>0&&M.push(b),g(T,L)})}};if(d(()=>g(n),A=>(M.push(")"),"("+A+","),"data"),!i){let{usedMethods:A,usedAssertions:b}=N;b.size&&(M.unshift(" this.assertAssertions(a)||"),E.assertAssertions=function(L){for(let[T,I]of b.entries())if(!Mt(L,T))return()=>{throw Object.assign(new Error(`Assertion "${T}" is not defined`),{details:{loc:{range:I}}})}}),A.size&&(M.unshift(" this.assertMethods(m)||"),E.assertMethods=function(L){for(let[T,I]of A.entries())if(!Mt(L,T))return()=>{throw Object.assign(new Error(`Method "${T}" is not defined. If that's a custom method make sure you added it with "methods" section in options`),{details:{loc:{range:I[0]}}})}})}o!==null&&M.push(`,
stats: [`+C.map(A=>"["+A+"]")+`],
methods: m,
assertions: a
}`);try{let A=new Function("f,m,a","return"+M.join("")+"})");return Object.assign(A.bind(E),{toString(){return A.toString().replace(/^(\S+\s+)anonymous([^)\s]+)\s*\)/,"$1query$2)")}})}catch(A){throw Ac("SyntaxError","Jora query compilation error",{compiledSource:M.join(""),details:A})}}var Sc,Ug=z(()=>{jn();Wg();Io();Sc=class n extends Set{constructor(e,i=[],o=!1,l="$"){super(e),this.own=new Set,this.awaitInit=new Set(i),this.firstCurrent=null,this.captureCurrent=[],this.arg1=o,this.$ref=l}spawn(e,i){return new n(this,this.awaitInit,e,i)}}});var Gg,Yt,Po,gn,Lc,Tc,fE,dE,xi,pE,Vg,hE,Yg,Qg,Kg,Zg=z(()=>{Gg=n=>typeof n=="number"||typeof n=="string",Yt=(n,e)=>e<n.length?n.charCodeAt(e):0,Po=n=>n===43||n===45,gn=n=>n>=48&&n<=57,Lc=n=>n===9||n===10||n===12||n===13||n===32,Tc=n=>n>32&&n<256&&(n<65||n>90)&&(n<97||n>122)&&!gn(n)&&!Po(n)||n===8470,fE=n=>n&&!Lc(n)&&!Tc(n)&&!gn(n),dE=(n,e,i)=>Po(n)?gn(e)?2:e===46&&gn(i)?3:0:gn(n)?1:0,xi=(n,e,i)=>{for(;i(Yt(n,++e)););return e},pE=(n,e,i)=>{let o=Yt(n,e);if(Po(o)&&(o=Yt(n,e+=1)),gn(o)&&(e=xi(n,e,gn),o=Yt(n,e)),o===46&&gn(Yt(n,e+1))){if(i)return e;let l=xi(n,e+1,gn);if(o=Yt(n,l),o===46)return e;e=l}if(o===69||o===101){let l=1;o=Yt(n,e+1),Po(o)&&(l=2,o=Yt(n,e+2)),gn(o)&&(e=xi(n,e+l,gn))}return e},Vg=(n,e,i,o)=>{if(e>=n.length)return 0;let l=Yt(n,e);return Lc(l)?1|xi(n,e,Lc)-e<<4:Tc(l)||o&&Po(l)?2|xi(n,e,Tc)-e<<4:dE(l,Yt(n,e+1),Yt(n,e+2))?4|pE(n,e,i)-e<<4:8|xi(n,e,fE)-e<<4},hE=(n,e,i)=>{let o=0,l=0,c=!1,f=!1,d=0,g=0,m=!0;for(;;){let y=Vg(n,o,c,f),k=Vg(e,l,c,f),C=y&15,M=y>>4,E=k&15,F=k>>4;if(C!==E){if(m&&C&3&&E&12){d=1,g=C,o+=M;continue}if(m&&E&3&&C&12){d=-1,g=E,l+=F;continue}return C-E}if(C===0)return d;m=!1,c=!1,f=!1;let N=M<F?M:F,A=M-F,b="",L="";for(let T=0;T<N;T++)if(b=n[o+T],L=e[l+T],b!==L){A=b<L?-1:1;break}if(C&3)c=n[o+M-1]===".",A!==0&&C>g&&(g=C,d=A);else if(C&4){if(f=!0,A!==0){let T=n.substr(o,M)-e.substr(l,F);if(T!==0)return i?-T:T;if(C>g){let I=Yt(n,o),B=Yt(e,l),R=I===45?-1:1;g=C,d=I!==B&&(I===45||B===43)?-1:I!==B&&(I===43||B===45)?1:(M-F||A)<0?-R:R,i&&(d=-d)}}}else if(A!==0){if(b!==L){let T=n.substr(o,M),I=e.substr(l,F),B=T.toLowerCase(),R=I.toLowerCase();return B!==R?B<R?-1:1:T<I?-1:1}return A}o+=M,l+=F}},Yg=n=>(e,i)=>Gg(e)&&Gg(i)?Math.sign(hE(String(e),String(i),n)):0,Qg=Yg(!1),Kg=Yg(!0)});function nr(n){switch(typeof n){case"boolean":return gE;case"number":return n!==n?mE:ki;case"string":return jo;case"object":return n===null?yE:vE;case"undefined":return bE;default:return wE}}function Ci(n,e){let i=nr(n),o=nr(e);return i!==o?i<o?-1:1:n<e?-1:n>e?1:0}function Jg(n,e){let i=nr(n),o=nr(e);return i!==o?i<o?-1:1:i===ki?e-n:n<e?-1:n>e?1:0}function Er(n,e){let i=nr(n),o=nr(e);return(i===ki||i===jo)&&(o===ki||o===jo)?Qg(n,e):i!==o?i<o?-1:1:n<e?-1:n>e?1:0}function Xg(n,e){let i=nr(n),o=nr(e);return(i===ki||i===jo)&&(o===ki||o===jo)?Kg(n,e,!0):i!==o?i<o?-1:1:n<e?-1:n>e?1:0}function Fc(n,e){return n.length===1?(i,o)=>e(n(i),n(o)):n}var gE,mE,ki,jo,yE,vE,wE,bE,ba=z(()=>{Zg();gE=1,mE=2,ki=3,jo=4,yE=5,vE=6,wE=7,bE=8});function xE(n,e,i){try{return n()}catch{if(e)throw Object.assign(new ReferenceError(`Cannot access $${e} before initialization`),{details:{name:e,loc:{range:i}}})}}function kE(n){return Re(n)?n:[n]}function CE(n,e){return Re(n)||Re(e)?[...new Set([...Re(n)?n:[n],...Re(e)?e:[e]])]:n+e}function DE(n,e){if(Re(n)){let i=new Set(n);return Re(e)?e.forEach(o=>i.delete(o)):i.delete(e),[...i]}return n-e}function AE(n,e){return n*e}function SE(n,e){return n/e}function EE(n,e){return n%e}function ME(n,e){return Object.is(n,e)}function LE(n,e){return!Object.is(n,e)}function TE(n,e){return n<e}function FE(n,e){return n<=e}function NE(n,e){return n>e}function OE(n,e){return n>=e}function xa(n,e){return hn(e)?Mt(e,n):e?em(e,n)!==-1:!1}function IE(n,e){return typeof e=="function"?Oc(n,e):tr(e)?Oc(n,e.test.bind(e)):e==null}function BE(n,e=()=>!0){if(n){if(typeof e=="function"){if(Re(n)||typeof n=="string"){for(let i=0;i<n.length;i++)if(Vt(e(n[i],i)))return n[i]}for(let i in n)if(Mt(n,i)&&Vt(e(n[i],i)))return n[i];return}return Re(n)||typeof n=="string"?isFinite(e)?n[e<0?n.length+Number(e):Number(e)||0]:void 0:Mt(n,e)?n[e]:void 0}}function PE(n,e,i){return n?em(n,e,i):-1}function em(n,e,i=0){if(Number.isNaN(e)&&Pn(n)){for(let o=Sr(i,0);o<n.length;o++)if(Number.isNaN(n[o]))return o}return typeof n.indexOf=="function"?n.indexOf(e,i):-1}function jE(n,e,i){return n?zE(n,e,i):-1}function zE(n,e,i){if(Number.isNaN(e)&&Pn(n)){for(let o=Sr(i,n.length-1);o>=0;o--)if(Number.isNaN(n[o]))return o}return typeof n.lastIndexOf=="function"?n.lastIndexOf(e,Sr(i,n.length-1)):-1}function Nc(n,e){let i=typeof e=="function"?e:o=>tg(o,e);return Re(n)?[...n.reduce((o,l)=>bi(o,i(l)),new Set)]:n!==void 0?i(n):n}function RE(n,e){let i=new Set;return bi(i,Nc(n,e)),i.forEach(o=>bi(i,Nc(o,e))),[...i]}function Oc(n,e){return Re(n)?n.some(i=>Vt(e(i))):Vt(e(n))}function HE(n,e){return Re(n)?n.filter(i=>Vt(e(i))):Vt(e(n))?n:void 0}function qE(n,e,i,o=1){if(!Pn(n))return[];if(e=Sr(e,0),i=Sr(i,n.length),o=Sr(o,1)||1,e=e<0?Math.max(0,n.length+e):Math.min(n.length,e),i=i<0?Math.max(0,n.length+i):Math.min(n.length,i),e>=0&&i>=0&&e<=i&&o===1)return typeof n=="string"?n.slice(e,i):Array.prototype.slice.call(n,e,i);e>i&&([e,i]=[i,e],o=-o);let l=[];if(o>0)for(let c=e;c<i;c+=o)l.push(n[c]);else for(let c=i-1;c>=e;c+=o)l.push(n[c]);return typeof n=="string"?l.join(""):l}var Ht,ka=z(()=>{ba();jn();Ht=Object.freeze({unsafeRef:xE,ensureArray:kE,bool:Vt,and:(n,e)=>Vt(n)?e:n,or:(n,e)=>Vt(n)?n:e,add:CE,sub:DE,mul:AE,div:SE,mod:EE,eq:ME,ne:LE,lt:TE,lte:FE,gt:NE,gte:OE,in:xa,notIn:(n,e)=>!xa(n,e),has:(n,e)=>xa(e,n),hasNo:(n,e)=>!xa(e,n),cmp:Ci,cmpAnalytical:Jg,cmpNatural:Er,cmpNaturalAnalytical:Xg,match:IE,pick:BE,indexOf:PE,lastIndexOf:jE,map:Nc,mapRecursive:RE,some:Oc,filter:HE,slice:qE})});function tm(n){return Array.from({length:n},(e,i)=>({idx:i})).sort((e,i)=>e.idx%2-i.idx%2).every((e,i)=>i<n/2?e.idx>>1===i:Math.ceil(n/2)+(e.idx>>1)===i)}function nm(n,e){return n.length<=_E?n.slice().sort(e):n.map((i,o)=>({value:i,idx:o})).sort((i,o)=>(i.value===void 0?o.value!==void 0:o.value===void 0?-1:e(i.value,o.value))||i.idx-o.idx).map(i=>i.value)}var _E,rm=z(()=>{_E=tm(20)?1/0:tm(10)?10:0});var WE,$E,Ca,rr,Da,Ic=z(()=>{WE=(n,e)=>n-e,$E=(n,e)=>e-n,Ca=class{constructor(e,i,o,l=!1){this.maxSize=e||1/0,this.compare=i||$E,this.accept=o||null,this.values=[],this.valuesSet=l?new Set:null}add(e){this.accept!==null&&!this.accept(e)||this.valuesSet!==null&&this.valuesSet.has(e)||(this.values.length<this.maxSize?(this.valuesSet!==null&&this.valuesSet.add(e),this.values.push(e),this.heapifyUp(this.values.length-1)):this.compare(this.values[0],e)>0&&(this.valuesSet!==null&&(this.valuesSet.delete(this.values[0]),this.valuesSet.add(e)),this.values[0]=e,this.heapifyDown()))}addArray(e){for(let i=0;i<e.length;i++)this.add(e[i])}extract(){let e=this.values[0],i=this.values.pop();return this.values.length>0&&(this.values[0]=i,this.heapifyDown()),this.valuesSet!==null&&this.valuesSet.delete(e),e}heapifyUp(e){let i=this.values,o=i[e];for(;e>0;){let l=e-1>>1,c=i[l];if(this.compare(c,o)>0)break;i[l]=o,i[e]=c,e=l}}heapifyDown(){let e=this.values,i=e.length,o=i>>1,l=0,c=e[l],f=l,d=c;for(;l<o;){let g=2*l+1,m=e[g],y=g+1;if(this.compare(m,c)>0&&(f=g,d=m),y<i){let k=e[y];this.compare(k,d)>0&&(f=y,d=k)}if(f===l)break;e[l]=d,e[f]=c,l=f,d=c}}[Symbol.iterator](){return this.values.slice().sort(this.compare)[Symbol.iterator]()}},rr=class extends Ca{},Da=class extends Ca{constructor(e,i,o,l){super(e,i?(c,f)=>-i(c,f):WE,o,l)}}});function GE(n){return n!==null&&typeof n=="object"?NaN:Number(n)}function Di(n,e,i){if(Pn(n)){typeof e!="function"&&(e=UE);for(let o of n){let l=e(o);l!==void 0&&i(GE(l))}}}var UE,Bc=z(()=>{jn();UE=n=>n});function im(n,e,i,o,l){if(n.length===0||!isFinite(e)||e<0||e>100)return;let c=0,f=e*(n.length-1)/100,d=Math.floor(f),g=Math.ceil(f),m=!1,y=e<50?new Da(g+1,l):new rr(n.length-d,l);if(Di(n,i,k=>{Number.isNaN(k)&&(m=!0),y.add(k),c++}),m)return NaN;if(n.length!==c){if(c===0)return;f=e*(c-1)/100,d=Math.floor(f),g=Math.ceil(f);let k=e<50?g+1:c-d;for(let C=y.values.length;C>k;C--)y.extract()}if(d!==g){let k=y.extract(),C=y.values[0];return k<=C?k+(C-k)*(f-d):C+(k-C)*(f-d)}return y.values[0]}var om=z(()=>{Ic();Bc()});function sm(n,e){let i,o=0,l=0;return Di(n,e,c=>{if(l++,i===void 0)i=c;else{let f=i,d=Math.abs(f),g=Math.abs(c);i+=c,d!==1/0&&g!==1/0&&(d>=g?o+=f-i+c:o+=c-i+f)}}),i!==void 0&&(i+=o),{sum:i,count:l}}function am(n,e){let i=[];return Di(n,e,i.push.bind(i)),i}function lm(n,e){let i=0;if(Pn(n)){typeof e!="function"&&(e=VE);for(let o of n)e(o)!==void 0&&i++}return i}function um(n,e){return sm(n,e).sum}function cm(n,e){let{sum:i,count:o}=sm(n,e);if(o>0)return i/o}function Pc(n,e){let i=0,o=0,l=0;if(Di(n,e,c=>{i+=1;let f=c-o;o+=f/i,l+=f*(c-o)}),i>0)return l/i}function fm(n,e){let i=Pc(n,e);if(i!==void 0)return Math.sqrt(i)}function dm(n,e=Er){let i;if(n&&isFinite(n.length)&&typeof e=="function"){e=Fc(e,Er);for(let o=0;o<n.length;o++){let l=n[o];(i===void 0||e(l,i)<0)&&e(l,void 0)!==0&&(i=l)}}return i}function pm(n,e=Er){let i;if(n&&isFinite(n.length)&&typeof e=="function"){e=Fc(e,Er);for(let o=0;o<n.length;o++){let l=n[o];(i===void 0||e(l,i)>=0)&&e(l,void 0)!==0&&(i=l)}}return i}function Aa(n,e,i){if(Pn(n))return im(n,e,i)}function hm(n,e){return Aa(n,50,e)}var VE,gm=z(()=>{ba();om();Bc();jn();VE=n=>n});function YE(){}function QE(n){return n}function mm(n){return n===null?null:{matched:n.slice(),start:n.index,end:n.index+n[0].length,input:n.input,groups:n.groups||null}}function KE(n){let e=n.pop(),i=typeof e=="string"?null:e,o=i===null?e:n.pop(),l=n.pop();return{matched:n,start:l,end:l+n[0].length,input:o,groups:i}}var ZE,zo,ym=z(()=>{ka();ba();rm();gm();jn();ZE=String.prototype.replaceAll||function(n,e){return tr(n)?this.replace(n,e):this.split(n).join(String(e))},zo=Object.freeze({bool:Ht.bool,filter:Ht.filter,map:Ht.map,pick:Ht.pick,indexOf:Ht.indexOf,lastIndexOf:Ht.lastIndexOf,keys(n){return Object.keys(n||{})},values(n){let e=new Set;for(let i in n)Mt(n,i)&&bi(e,n[i]);return[...e]},entries(n){let e=[];for(let i in n)Mt(n,i)&&e.push({key:i,value:n[i]});return e},fromEntries(n){let e=Object.create(null);if(Array.isArray(n))for(let i of n)i&&(e[i.key]=i.value);return e},size(n){return hn(n)?Object.keys(n).length:n&&n.length||0},sort(n,e=Ci){if(!Re(n))return n;if(typeof e=="function"&&e.length!==2){let i=e;e=(o,l)=>{if(o=i(o),l=i(l),Array.isArray(o)&&Array.isArray(l)){if(o.length!==l.length)return o.length<l.length?-1:1;for(let c=0;c<o.length;c++){let f=Ci(o[c],l[c]);if(f!==0)return f}return 0}return Ci(o,l)}}return nm(n,e)},reverse(n){return Re(n)?n.slice().reverse():n},slice(n,e,i){return typeof n=="string"||Re(n)?n.slice(e,i):Array.prototype.slice.call(n,e,i)},group(n,e,i){let o=new Map,l=[];typeof e!="function"&&(e=YE),typeof i!="function"&&(i=QE),Re(n)||(n=[n]);for(let c of n){let f=e(c);if(Re(f))if(f.length>0){let d=i(c);for(let g of f)ga(o,g,d)}else ga(o,void 0,i(c));else ga(o,f,i(c))}for(let[c,f]of o)l.push({key:c,value:[...f]});return l},join(n,e){return Re(n)?n.join(e):String(n)},match(n,e,i){let o=String(n),l=tr(e)?e.flags:"";if(i||l.includes("g")){let c=[],f=new RegExp(e,(l||"").replace(/g|$/,"g")),d;for(;d=f.exec(o);)c.push(mm(d));return c}return mm(o.match(e))},reduce(n,e,i=void 0){return Re(n)?i!==void 0?n.reduce((o,l)=>e(l,o),i):n.reduce((o,l)=>e(l,o)):e(n,i)},split(n,e){if(Re(n)){let i=typeof e=="function"?e:Object.is.bind(null,e),o=[],l=0,c=0;for(;c<n.length;c++)i(n[c])&&(o.push(n.slice(l,c)),l=c+1);return o.push(n.slice(l,c)),o}return String(n).split(e)},replace(n,e,i){if(Re(n)){let o=typeof e=="function"?e:Object.is.bind(null,e),l=[...n];for(let c=0;c<l.length;c++){let f=l[c];o(f)&&(l[c]=typeof i=="function"?i(f):i)}return l}return tr(e)&&!e.flags.includes("g")&&(e=new RegExp(e,e.flags+"g")),ZE.call(String(n),e,typeof i=="function"?(...o)=>i(KE(o)):i)},toLowerCase(n,e){return String(n).toLocaleLowerCase(e)},toUpperCase(n,e){return String(n).toLocaleUpperCase(e)},trim(n){return String(n).trim()},...["abs","acos","acosh","asin","asinh","atan","atan2","atanh","cbrt","ceil","clz32","cos","cosh","exp","expm1","floor","fround","hypot","imul","log10","log2","pow","round","sign","sin","sinh","sqrt","tan","tanh","trunc"].reduce((n,e)=>(n[e]=Math[e],n),{}),ln:Math.log,ln1p:Math.log1p,numbers:am,count:lm,sum:um,avg:cm,variance:Pc,stdev:fm,min:dm,max:pm,percentile:Aa,p:Aa,median:hm})});var Ro,vm=z(()=>{jn();Ro=Object.freeze({function:n=>typeof n=="function",symbol:n=>typeof n=="symbol",primitive:n=>n===null||typeof n!="object"&&typeof n!="function",string:n=>typeof n=="string",number:n=>typeof n=="number",int:Number.isInteger,finite:n=>Number.isFinite(n),nan:n=>Number.isNaN(n),infinity:n=>n===1/0||n===-1/0,boolean:n=>n===!0||n===!1,null:n=>n===null,undefined:n=>n===void 0,nullish:n=>n==null,object:hn,array:Re,regexp:tr,truthy:Vt,falsy:n=>!Vt(n)})});function Sa(n,e){Object.keys(n).forEach(e.add,e)}function XE(n,e,i,o=new Set){let l=c=>{switch(typeof c){case"string":case"number":o.add(c);break}};switch(n){case"path":{let c=new Set;for(let f of e)if(Array.isArray(f))for(let d of f)hn(d)&&Sa(d,c);else hn(f)&&Sa(f,c);c.forEach(o.add,o);break}case"key":{let c=new Set;for(let f of e)f!==null&&typeof f=="object"&&!Array.isArray(f)&&Sa(f,c);c.forEach(o.add,o);break}case"value":for(let c of e)l(c);break;case"in-value":{let c=new Set;for(let f of e)Re(f)?f.forEach(l):hn(f)&&Sa(f,c);c.forEach(o.add,o);break}case"var":for(let c of e)o.add("$"+c);break;case"value-subset":{let c=new Set(i);for(let f of e)c.has(f)||l(f);break}}return o}function wm(n,e,i,o=!1){let l=[];for(let[c,f,d,g,m=null]of i)if(e>=c&&e<=f&&(o||g.size||g.length)){let y=n.substring(c,f);/\S/.test(y)||(c=f=e,y=""),l.push({context:d,from:c,to:f,text:y,values:g,related:m})}return l}function bm(n,e){return typeof n=="function"?n:n===!0?e:!1}function xm(n){if(/^(["']).*\1$/.test(n))try{return n[0]==="'"&&(n=`"${n.slice(1,-1).replace(/\\.|"/g,e=>e==="\\'"?"'":e==='"'?'\\"':e)}"`),JSON.parse(n)}catch{}return n}function eM(n){return e=>(typeof e=="string"?e:String(e)).toLowerCase().indexOf(n)!==-1}var JE,jc,km=z(()=>{ka();Ic();jn();JE={path:"property",key:"value",value:"value","in-value":"value","value-subset":"value",var:"variable",assertion:"assertion"};jc=(n,{value:e,stats:i,assertions:o})=>({get value(){return e},stat(l,c){return wm(n,l,i,c)},suggestion(l,c){let{limit:f=1/0,sort:d,filter:g}=c||{};d=bm(d,Ht.cmp),g=bm(g,eM);let m=d&&isFinite(f)?rr:Set,y=wm(n,l,i,!0),k=new Map,C=[];for(let M of y){let{context:E,text:F,from:N,to:A,values:b,related:L}=M,T=JE[E];if(!k.has(T)){let B;switch(m){case rr:B=new rr(f,d,g&&g(xm(F)),!0);break;case Set:B=new Set;break}k.set(T,{type:T,from:N,to:A,text:F,suggestions:B})}let{suggestions:I}=k.get(T);switch(E){case"assertion":if(I.size===0||I.values&&I.values.length===0)for(let B of Object.keys(o))I.add(B);break;default:XE(E,b,L,I)}}if(m===Set)for(let M of k.values()){let{suggestions:E}=M;if(d&&(E=[...E].sort(d)),g||isFinite(f)){let F=[],N=g?g(xm(M.text)):()=>!0;for(let A of E)if(N(A)&&F.push(A)>=f)break;E=F}M.suggestions=E}for(let M of k.values())M.suggestions=Array.isArray(M.suggestions)?M.suggestions:[...M.suggestions],M.suggestions.length&&C.push(M);return C.length?C:null}})});function Cm(n,e,i,o,l){typeof i=="string"?Object.defineProperty(n,e,{configurable:!0,get(){let f=zc(i,"method")(Ht,o,l);return Object.defineProperty(n,e,{enumerable:!0,value:f}),f}}):typeof i=="function"&&Object.defineProperty(n,e,{enumerable:!0,value:i})}function Dm(n,e){if(!n&&!e)return{queryMethods:zo,queryAssertions:Ro};let i={...zo},o={...Ro};for(let[l,c]of Object.entries(n||{})){if(Mt(zo,l))throw new Error(`Builtin method "${l}" can't be overridden`);Cm(i,l,c,i,o)}for(let[l,c]of Object.entries(e||{})){if(Mt(Ro,l))throw new Error(`Builtin assertion "${l}" can't be overridden`);Cm(o,l,c,i,o)}return{queryMethods:i,queryAssertions:o}}function oM(n,e){console.log(`[${n}]`),typeof e=="string"?console.log(e):e!==void 0&&console.dir(e,{depth:null}),console.log()}function zc(n,e,i,o,l){l=typeof l=="function"?l:l?oM:!1,l&&(l("========================="),l("Compile query from source",n));let c=ma.parse(n,o);l&&(l("AST",c.ast),l("Restored source",wa(c.ast)));let f=i?va(n,c):null;if(l&&f){let g=C=>JSON.stringify(C).slice(1,-1),m=[].concat(...[...f.entries()].map(([C,M])=>M.map(E=>[C,...E]))),y=[],k=null;l("Stat/suggestion ranges",m.sort((C,M)=>C[1]-M[1]).map(([C,...M])=>{let[E,F,N,A]=M,b;if(E===y[0]&&F===y[1])b=" ".repeat(k.length);else{let L=g(n.slice(0,E)).length,T=g(n.substring(E,F)).length;y=M,k=" ".repeat(L)+(T?"~".repeat(T):"\\")+" "+E+":"+F,b=g(n)+`
`+k}return b+" ["+N+"] on "+C.type+(A===!0?" (current)":A&&A.type?" & "+A.type:"")}).join(`
`))}let d=e==="method"?Mc(c.ast,o,f):Ec(c.ast,o,f);return l&&l("Compiled code",d.toString()),d}function sM(n,e){e=e||{};let i=!!e.stat,o=!!e.tolerant,l=i?o?iM:nM:o?rM:tM,{methods:c,assertions:f}=e||{},{queryMethods:d,queryAssertions:g}=Dm(c,f),m;return n=String(n),l.has(n)&&!e.debug?m=l.get(n):(m=zc(n,"query",i,o,e.debug),l.set(n,m)),m=m(Ht,d,g),i?Object.assign((y,k)=>jc(n,m(y,k)),{query:m}):m}function aM(n){let e=new Map,i=new Map,o=new Map,l=new Map,{methods:c,assertions:f}=n||{},{queryMethods:d,queryAssertions:g}=Dm(c,f);return function(y,k){k=k||{};let C=!!k.stat,M=!!k.tolerant,E=C?M?l:i:M?o:e,F;if(y=String(y),E.has(y)&&!k.debug)F=E.get(y);else{let N=zc(y,"query",C,M,k.debug)(Ht,d,g);F=C?Object.assign((A,b)=>jc(y,N(A,b)),{query:N}):N,E.set(y,F)}return F}}var tM,nM,rM,iM,Xt,Ho=z(()=>{eg();jn();ng();qg();Cc();_g();Ug();ka();ym();vm();km();tM=new Map,nM=new Map,rM=new Map,iM=new Map;Xt=Object.assign(sM,{version:Xh,buildin:Ht,methods:zo,assertions:Ro,setup:aM,syntax:{tokenize:ma.tokenize,parse:ma.parse,suggest:va,walk:Bo,stringify:wa,compile:Ec,compileMethod:Mc}})});var ir,Ea=z(()=>{ir=class{listeners;constructor(){this.listeners=Object.create(null)}on(e,i){return this.listeners[e]={callback:i,next:this.listeners[e]||null},this}once(e,i){return this.on(e,function o(...l){i.apply(this,l),this.off(e,o)})}off(e,i){let o=this.listeners[e]||null,l=null;for(;o!==null;){if(o.callback===i){o.callback=null,l?l.next=o.next:this.listeners[e]=o.next;break}l=o,o=o.next}return this}emit(e,...i){let o=this.listeners[e]||null,l=!1;for(;o!==null;)typeof o.callback=="function"&&o.callback.apply(this,i),l=!0,o=o.next;return l}}});var en,Ai=z(()=>{Ea();en=class extends ir{#e;#t;static define(e,i,o){return e.#e.set(i,o),e.emit("define",i,o),o}constructor(e){super(),this.#e=new Map,this.#t=!!e}revoke(e){if(!this.#t)throw new Error("Entry revoking is not allowed");this.#e.delete(e),this.emit("revoke",e)}isDefined(e){return this.#e.has(e)}has(e){return this.#e.has(e)}get(e){return this.#e.get(e)}get names(){return[...this.#e.keys()]}get keys(){return this.#e.keys()}get values(){return this.#e.values()}get entries(){return this.#e.entries()}}});var Ma,Am=z(()=>{Ai();Ma=class n extends en{#e;constructor(){super(!0),this.#e=Object.create(null)}define(e,i){if(typeof i!="function")throw new Error("callback is not a function");return this.#e=Object.freeze({...this.#e,[e]:i}),n.define(this,e,Object.freeze({name:e,callback:i}))}revoke(e){if(this.has(e)){let i={...this.#e};delete i[e],this.#e=Object.freeze(i)}super.revoke(e)}get actionMap(){return this.#e}call(e,...i){let o=this.get(e);if(o===void 0)throw new Error(`action "${e}" doesn't exist`);let{callback:l}=o;return l(...i)}}});function lM(n){Rc=null;for(let[e,i]of qo.entries())n.warn.groupCollapsed(`${e} (${i.length})`,i);qo.clear()}function uM(n,e,...i){Rc===null&&qo.size===0&&(Rc=setTimeout(()=>lM(n),1));let o=qo.get(e);o!==void 0?o.push(i):qo.set(e,[i])}function Lm(n,e,i){switch(typeof e){case"function":return e;case"string":return Object.assign(o=>o&&Ae(o,e)?o[e]:void 0,{getterFromString:`object[${JSON.stringify(e)}]`});default:throw new Error(`[Discovery] Bad type "${typeof e}" for ${i} in object marker "${n}" config (must be a string or a function)`)}}function Sm(n,e,i,o){let l=e&&Ae(e,i)?e[i]:void 0;return l!==void 0?Lm(n,l,`"${i}" option`):o}function Em(n,e,i){return(Array.isArray(e[i])?e[i]||[]:[]).map(l=>Lm(n,l,`"${i}" option`))}function Mm(n,e=!1){return n===null?!1:e?typeof n=="object":typeof n=="object"||typeof n=="number"||typeof n=="string"}function cM(n,e){let{name:i,indexRefs:o,lookupRefs:l,annotateScalars:c,page:f,getRef:d,getTitle:g}=e;d!==null&&o.unshift(d),f&&d===null&&n.warn(`Option "ref" for "${i}" marker must be specified when "page" options is defined ("page" option ignored)`),o.length>0&&l.unshift(N=>N);let m=new Set,y=new Map,k=new Map,C=new WeakMap;return{name:i,page:d!==null?f:null,mark:N=>{if(N===null||typeof N!="object"){n.warn(`Invalid value used for "${i}" marker (should be an object)`);return}m.add(N);for(let A of o){let b=A(N);if(Mm(b)){if(!y.has(b)){y.set(b,N);continue}y.get(b)!==N&&uM(n,`The same reference value used for different objects for "${i}" marker`,`Reference value "${b}"`,{refGetter:A.getterFromString||A,ref:b,currentObject:y.get(b),newObject:N})}}},lookup:(N,A=!1)=>{if(!Mm(N,A?!c:!1))return null;let b=typeof N=="object",L=b?C.get(N):k.get(N);if(L!==void 0)return L;let T=null;if(b&&m.has(N))T=N;else for(let U of l){let W=U(N),ne=y.get(W);if(ne!==void 0){T=ne;break}}if(T===null)return null;let I=k.get(T);if(I!==void 0)return I;let B=d!==null?d(T):null,R=Object.freeze({type:i,object:T,ref:B,title:g(T),href:f!==null&&B!==null?`#${encodeURIComponent(f)}:${encodeURIComponent(B)}`:null});return k.set(T,R),N!==T&&(b?C.set(N,R):k.set(N,R)),R},reset:()=>{m.clear(),y.clear(),k.clear(),C=new WeakMap}}}var qo,Rc,Si,Hc=z(()=>{st();Ai();qo=new Map,Rc=null;Si=class n extends en{constructor(e){super(),this.logger=e}#e=!1;lock(){this.#e=!0}define(e,i){if(this.#e)throw new Error("Object marker definition is not allowed after setup");if(this.isDefined(e))throw new Error(`Object marker "${e}" is already defined, new definition ignored`);i=i||{};let o=Em(e,i,"refs"),l=Em(e,i,"lookupRefs"),c=!!i.annotateScalars,f=i.page,d=typeof f=="string"?f:null,g=Sm(e,i,"ref",null),m=Sm(e,i,"title",g||(()=>null));return n.define(this,e,Object.freeze(cM(this.logger,{name:e,indexRefs:o,lookupRefs:l,annotateScalars:c,page:d,getRef:g,getTitle:m})))}reset(){for(let{reset:e}of this.values)e()}markerMap(){return Object.fromEntries([...this.entries].map(([e,i])=>[e,i.mark]))}lookup(e,i){if(typeof i=="string")return this.get(i)?.lookup(e)||null;for(let{lookup:o}of this.values){let l=o(e);if(l!==null)return l}return null}lookupAll(e){let i=[];for(let{lookup:o}of this.values){let l=o(e);l!==null&&i.push(l)}return i}}});function Tm(n,e){return{before(){n.objectMarkers.reset()},contextApi:{markers:n.objectMarkers.markerMap(),setWorkTitle:e?.setPrepareWorkTitle||(()=>Promise.resolve()),rejectData(i,o){throw Object.assign(new Error(i),{renderContent:o})}}}}function qc(n,e){let i=n.objectMarkers,o={setPrepare:n.setPrepare.bind(n),defineObjectMarker:c,addQueryHelpers(g){l={...l,...g}}},l={query:n.query.bind(n),overrideProps:f,pageLink:(g,m,y,k)=>n.encodePageHash(m,g,y,k),marker:i.lookup.bind(i),markerAll:i.lookupAll.bind(i),callAction:d,actionHandler:(g,...m)=>n.action.has(g)?()=>d(g,...m):void 0};typeof e=="function"&&e(o),i.lock(),n.queryFnFromString=Xt.setup({methods:l});function c(g,m){let{mark:y,lookup:k}=i.define(g,m);return k?y:()=>{}}function f(g,m=this.context.props){if(!m)return g;let y={...g};for(let k of Object.keys(y))Ae(m,k)&&(y[k]=m[k]);return y}function d(g,...m){let y=m[m.length-1],k=null;typeof y=="function"&&(k=y,m.pop());let C=n.action.call(g,...m);return C&&k&&typeof C.then=="function"?C.then(k):k?k(C):C}}var Fm=z(()=>{st();Ho()});function Nm(n,e){let i=new Si(n.logger),o=[],l=[],c={setWorkTitle:e?.setPrepareWorkTitle||(()=>Promise.resolve()),rejectData(E,F){throw Object.assign(new Error(E),{renderContent:F})},defineObjectMarker:g,lookupObjectMarker:m,lookupObjectMarkerAll:y,addValueAnnotation:C,addQueryHelpers(E){d=Xt.setup({methods:f={...f,...E}})},query(E,...F){return n.queryFn.call({queryFnFromString:d},E)(...F)}},f={query:n.query.bind(n),overrideProps:k,pageLink:(E,F,N,A)=>n.encodePageHash(F,E,N,A),marker:m,markerAll:y,callAction:M,actionHandler:(E,...F)=>n.action.has(E)?()=>M(E,...F):void 0},d=Xt.setup({methods:f});return{contextApi:c,after(E){Object.assign(E,{objectMarkers:i,linkResolvers:o,annotations:l,queryFnFromString:d})}};function g(E,F){let{page:N,mark:A,lookup:b}=i.define(E,F)||{};if(!b)return()=>{};if(N!==null){if(!n.page?.isDefined(N))return n.logger.error(`Page reference "${N}" doesn't exist`),()=>{};o.push(L=>{let T=b(L);return T&&{type:N,text:T.title,href:T.href,entity:T.object}})}return C((L,T)=>{let I=b(L,!0);if(I!==null&&I.object!==T.host)return{place:"before",style:"badge",text:E,href:I.href}}),A}function m(E,F){return i.lookup(E,F)}function y(E){return i.lookupAll(E)}function k(E,F=this.context.props){if(!F)return E;let N={...E};for(let A of Object.keys(N))Ae(F,A)&&(N[A]=F[A]);return N}function C(E,F=!1){typeof F=="boolean"&&(F={debug:F}),l.push({query:E,...F})}function M(E,...F){let N=F[F.length-1],A=null;typeof N=="function"&&(A=N,F.pop());let b=n.action.call(E,...F);return b&&A&&typeof b.then=="function"?b.then(A):A?A(b):b}}var Om=z(()=>{Hc();st();Ho()});function pM(n,e){return typeof n!="string"?String(n):(n=JSON.stringify(n),e[0]!=="'"?n:`'${n.slice(1,-1).replace(/\\.|'/g,i=>i==='\\"'?'"':i==="'"?"\\'":i)}'`)}function hM(n,e,i){if(e===i)return!0;let o=n.stat(e)||[],l=n.stat(i)||[];if(o.length!==l.length)return!1;for(let c=0;c<o.length;c++){let f=o[c],d=l[c];for(let g of Object.keys(f))if(f[g]!==d[g])return!1}return!0}function Pm(n,e,i,o,l){try{let c=Im.get(n);if(!c||c.query!==e||c.data!==o||c.context!==l){let d={tolerant:!0,stat:!0};Im.set(n,c={query:e,data:o,context:l,offset:-1,suggestions:null,api:null}),c.api=n.queryFnFromString(e,d)(o,l)}if(c.api===null)return null;if(c.offset!==-1&&hM(c.api,c.offset,i))return c.suggestions;let f=c.api.suggestion(c.offset=i,{sort:!0,filter:dM,limit:50});if(f){c.suggestions=[];for(let d of f.sort(fM))c.suggestions.push(...d.suggestions.map(g=>({type:d.type,from:d.from,to:d.to,text:d.text,value:d.type==="value"?pM(g,d.text):g})))}else c.suggestions=null;return c.suggestions}catch(c){return n.logger.error("Error while attempting to retrieve suggestions for the query:",c.message),null}}var Im,Bm,fM,dM,jm=z(()=>{Im=new WeakMap,Bm=["variable","property","value","assertion","method"],fM=(n,e)=>Bm.indexOf(n.type)-Bm.indexOf(e.type),dM=n=>{let e=n.toLowerCase();return i=>i!==n&&(typeof i=="string"?i:String(i)).toLowerCase().indexOf(e)!==-1}});var gM,La,mM,_o,_c=z(()=>{gM=new Proxy({},{get:()=>()=>{}}),La=["silent","error","warn","info","perf","debug"],mM={error:["error","error"],warn:["warn","warn"],info:["info","info"],perf:["log","perf"],log:["log","any"],debug:["debug","debug"]},_o=class{#e;#t;#n;error;warn;info;perf;debug;log;constructor(e="",i="debug",o=console){this.#t=e,this.#n=o||gM,this.logLevel=i}shouldLogLevel(e){let i=La.indexOf(e);return this.#e!=="silent"&&i!==-1&&i<=La.indexOf(this.#e)}get logLevel(){return this.#e}set logLevel(e){if(La.indexOf(e)===-1&&console.error(this.#t,`Bad log level "${e}", supported: ${La.join(", ")}`),e!==this.#e){let o=this.#n,l=this.#t,c=d=>Function.prototype.bind.call(this.#n[d],this.#n,...this.#t?[this.#t]:[]),f=(d,g)=>(m,y)=>{o[g?"groupCollapsed":"group"](`${l} ${m}`);let C=typeof y=="function"?y():y;if(Array.isArray(C))for(let M of C)o[d](...Array.isArray(M)?M:[M]);o.groupEnd()};this.#e=e;for(let[d,[g,m]]of Object.entries(mM))m==="any"||this.shouldLogLevel(m)?this[d]=Object.assign(c(g),{group:f(g,!1),groupCollapsed:f(g,!0)}):this[d]=Object.assign(()=>{},{group:()=>()=>{},groupCollapsed:()=>()=>{}})}}}});function Ei(n,e,i=Object.is){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;for(let o in n)if(Ae(n,o)&&(!Ae(e,o)||!i(n[o],e[o])))return!1;for(let o in e)if(Ae(e,o)&&!Ae(n,o))return!1;return!0}var Ta,Wo=z(()=>{st();Ta=(n,e)=>Ei(n,e,Ta)});var yM,vM,wM,bM,Fa,$o,Wc=z(()=>{Ho();du();wi();Ea();Am();Hc();Fm();Om();jm();_c();Wo();yM=()=>{},vM="[Discovery]",wM=n=>/^[a-zA-Z_][a-zA-Z_$0-9]*$/.test(n)&&!bM.includes(n),bM=["and","or","in","has","is","not","no","asc","ascN","ascA","ascNA","ascAN","desc","descN","descA","descNA","descAN"],Fa=(n,e)=>({...e,encodings:Array.isArray(e?.encodings)?[...e.encodings,...n.encodings]:n.encodings}),$o=class extends ir{options;info;logger;action;objectMarkers;linkResolvers;encodings;datasets;data;#e;prepare;#t;#n;constructor(e){super(),this.options=e||{};let{name:i,version:o,description:l,icon:c,logLevel:f="warn",logger:d=console,extensions:g,encodings:m,context:y,setup:k}=e||{};this.info={name:i||"Untitled model",version:o||null,description:l||null,icon:c||null},this.logger=new _o(vM,f,d),this.action=new Ma,this.objectMarkers=new Si(this.logger),this.linkResolvers=[],this.datasets=[],this.encodings=ta(m),this.data=void 0,this.#e=y,this.prepare=C=>C,this.#t=!0,this.apply(g),typeof k=="function"?(this.#t=!1,qc(this,k)):qc(this,()=>{});for(let{page:C,lookup:M}of this.objectMarkers.values)C&&this.linkResolvers.push(E=>{let F=M(E);return F&&{type:C,text:F.title,href:F.href,entity:F.object}})}apply(e){Array.isArray(e)?e.forEach(i=>this.apply(i)):typeof e=="function"?e.call(null,this):e&&this.apply(Object.values(e))}log(){this.logger.error("Model#log() is deprecated, use Model#logger interface instead")}get legacyPrepare(){return this.#t}setPrepare(e){if(typeof e!="function")throw new Error("An argument should be a function");this.prepare=e}get context(){return this.#e}set context(e){this.setContext(e,!0)}setContext(e,i=!1){let o=this.#e;if(i)this.#e=e;else{let l={...this.#e,...e};Ei(l,o)||(this.#e=l)}Object.is(this.#e,o)||this.emit("context",o,this.#e)}setData(e,i){i=i||{};let o=Symbol();this.#n=o;let l=Date.now(),c=()=>{if(this.#n!==o)throw new Error("Prevented by another setData()")},f=this.#t?Nm(this,i):Tm(this,i);return Promise.resolve().then(()=>(c(),f.before?.(this),this.prepare.call(null,e,f.contextApi)||e)).then(g=>{c(),this.datasets=[{...i.dataset,data:g}],this.data=g,f.after?.(this),this.emit("data"),this.logger.perf(`Data prepared in ${Date.now()-l}ms`)})}async trackLoadDataProgress(e){let i=Date.now(),o=await e.dataset;return this.logger.perf(`Data loaded in ${Date.now()-i}ms`),this.setData(o.data,{dataset:o})}loadDataFromStream(e,i){return this.trackLoadDataProgress(Lo(e,Fa(this,i)))}loadDataFromEvent(e,i){return this.trackLoadDataProgress(Du(e,Fa(this,i)))}loadDataFromFile(e,i){return this.trackLoadDataProgress(ca(e,Fa(this,i)))}loadDataFromUrl(e,i){return this.trackLoadDataProgress(Au(e,Fa(this,i)))}unloadData(){this.hasDatasets()&&(this.datasets=[],this.data=void 0,this.emit("unloadData"))}hasDatasets(){return this.datasets.length!==0}getQueryEngineInfo(){return{name:"jora",version:Xt.version,link:"https://discoveryjs.github.io/jora/#article:jora-syntax"}}queryFnFromString(){return yM}queryFn(e){switch(typeof e){case"function":return e;case"string":return Object.assign(this.queryFnFromString(e),{query:e})}}query(e,i,o){switch(typeof e){case"function":return e(i,o);case"string":return this.queryFn(e)(i,o);default:return e}}queryBool(e,i,o){return Xt.buildin.bool(this.query(e,i,o))}querySuggestions(e,i,o,l){return Pm(this,e,i,o,l)}pathToQuery(e){let i="",o=l=>i+=i===""?l[0]==="["?"$"+l:l:l[0]==="["?l:"."+l;for(let l of e)l==="*"?o("values()"):typeof l=="number"?o(`[${l}]`):wM(l)?o(l):o(`["${l}"]`);return i}stripAnchorFromHash(e){return typeof e=="string"?e.replace(/(^|&)!anchor(=[^&]+|(?=&|$))/g,""):e}encodePageHash(e=null,i=null,o,l=null){let c=o;return c&&(typeof c!="string"?(Array.isArray(c)||(c=Object.entries(c)),c=c.filter(([f])=>f!=="!anchor").map(f=>f.map(encodeURIComponent).join("=")).join("&")):c=this.stripAnchorFromHash(c)),`#${e?encodeURIComponent(e):""}${typeof i=="string"&&i||typeof i=="number"?":"+encodeURIComponent(i):""}${c?"&"+c:""}${l?"&!anchor="+encodeURIComponent(l):""}`}decodePageHash(e,i=()=>Object.fromEntries){let o=(e.indexOf("&")+1||e.length+1)-1,[l,c=null]=e.substring(e[0]==="#"?1:0,o).split(":").map(decodeURIComponent),f=[],d=null;for(let g of e.slice(o+1).split("&").filter(Boolean)){let m=g.indexOf("="),y,k;m!==-1?(y=decodeURIComponent(g.slice(0,m)),k=decodeURIComponent(g.slice(m+1))):(y=decodeURIComponent(g),k=!0),y==="!anchor"?d=k&&k!==!0?k:null:f.push([y,k])}return{pageId:l,pageRef:c,pageParams:i(l)(f),pageAnchor:d}}resolveValueLinks(e){let i=[],o=typeof e;if(e&&(o==="object"||o==="string"))for(let l of this.linkResolvers){let c=l(e);c&&i.push(c)}return i.length?i:null}}});var zm,Mr,Na=z(()=>{er();zm=typeof ResizeObserver=="function",Mr=class extends Et{static supported=zm;el;observer;constructor(){super(null),this.el=null,this.observer=zm?new ResizeObserver(e=>{for(let i of e)this.set(i.contentRect)}):null}observe(e){if(this.observer===null){this.el=null;return}e=e||null,this.el!==e&&(this.el!==null&&this.observer.unobserve(this.el),e!==null&&this.observer.observe(e),this.el=e)}dispose(){this.el=null,this.observer=null}}});function Rm(n){n.nav.append({name:"index-page",when:"#.widget | pageId != defaultPageId",text:"Index",href:"=pageLink(#.widget.defaultPageId)"})}function Hm(n){n.nav.append({name:"discovery-page",when:"#.widget | pageId != discoveryPageId",text:"Discover",href:"=pageLink(#.widget.discoveryPageId)"})}function qm(n){n.nav.before("inspect",{name:"open-file",when:"#.actions.uploadFile and (#.datasets or (#.widget | pageId != defaultPageId))",text:"Open file\u2026",onClick:"=#.actions.uploadFile"})}function _m(n){let e=()=>{};n.nav.menu.append({view:"block",className:["toggle-menu-item","dark-mode-switcher"],name:"dark-mode",when:'#.widget | colorScheme.mode != "only"',postRender(i,o,l,{widget:c,hide:f}){let d;e(),e=c.colorScheme.subscribe((g,m)=>{let y=mi(m);y!==d&&(i.innerHTML="",d=y,c.view.render(i,{view:"toggle-group",beforeToggles:'text:"Color schema"',onChange(k){d=k,c.colorScheme.set(k),f()},value:y,data:()=>[{value:"light",text:"Light"},{value:"dark",text:"Dark"},{value:"auto",text:"Auto"}]},null,{widget:c}))},!0)}})}function Wm(n){let i=null,o=0;n.nav.append({name:"inspect",when:"#.widget.inspectMode",tooltip:{position:"trigger",showDelay:!0,content:'md:"**Enable view inspection**<br>To suspend enabling inspect mode by 3 seconds,<br>click the button with Cmd (\u2318) or Ctrl-key"'},onClick(l,c,f,d){!n.inspectMode.value&&(d.metaKey||d.ctrlKey)?(i===null&&(o=0,i=setTimeout(function g(){o--,o===0?(i=null,delete l.dataset.suspendSeconds,n.inspectMode.set(!0)):(i=setTimeout(g,1e3),l.dataset.suspendSeconds=String(o))},1e3)),o+=3,l.dataset.suspendSeconds=String(o)):i!==null?(clearTimeout(i),i=null,delete l.dataset.suspendSeconds):(n.view.tooltip?.hide(),n.inspectMode.set(!n.inspectMode.value))}})}var Uc=z(()=>{yi()});var Uo,Oa,Gc=z(()=>{Oe();Na();Pu();Uc();Uo=class{items;host;baseConfig;constructor(e,i){this.host=e,this.baseConfig=i,this.items=[]}insert(e,i,o){switch(i){case"after":i=this.items.findIndex(c=>c.name===o),i===-1?i=this.items.length:i++;break;case"before":i=this.items.findIndex(c=>c.name===o),i===-1&&(i=this.items.length);break;default:(i===void 0||isNaN(i)||!isFinite(i))&&(i=this.items.length)}i=Math.max(0,Math.min(this.items.length,i));let l=this.host.view.composeConfig(this.baseConfig,e);this.items.splice(i,0,l)}prepend(e){this.insert(e,0)}append(e){this.insert(e)}before(e,i){this.insert(i,"before",e)}after(e,i){this.insert(i,"after",e)}replace(e,i){let o=this.items.findIndex(l=>l.name===e);o!==-1?this.items[o]=this.host.view.composeConfig(this.baseConfig,i):this.insert(i)}remove(e){let i=this.items.findIndex(o=>o.name===e);if(i!==-1)return this.items.splice(i,1)[0]}},Oa=class extends Uo{host;popup;data;context;config;primary;secondary;menu;contentRect;constructor(e,i="nav-button"){super(e,i);let o=$("div","powered-by-discoveryjs",["powered by ",$("a",{class:"view-link",href:"https://github.com/discoveryjs/discovery",target:"_blank"},"Discovery.js"),` ${Bu}`]);this.host=e,this.popup=null,this.data=null,this.context=null,this.primary=new Uo(e,"nav-button"),this.secondary=this,this.menu=new Uo(e,"menu-item"),this.config=[this.secondary.items,{view:"nav-button",name:"burger",whenData:!0,data:async()=>{let l=Dr();return await this.host.view.render(l,this.menu.items,this.host.data,{...this.context,hide:()=>this.popup?.hide()}),[...l.childNodes].filter(c=>c.nodeType===1||c.nodeType===3)},onClick:(l,c)=>{let f=this.popup||new this.host.view.Popup({className:"discovery-nav-popup"});this.popup||(this.popup=f,f.el.addEventListener("click",({target:d})=>{d.closest("a[href]")&&setTimeout(()=>f.hide(),50)},!0)),f.toggle(l,d=>d.append(...c,o))}},this.primary.items],this.contentRect=new Mr,this.contentRect.subscribe(l=>{let{container:c}=e.dom;if(c&&l){let{width:f,height:d}=l;c.style.setProperty("--discovery-nav-width",f+"px"),c.style.setProperty("--discovery-nav-height",d+"px")}})}render(e,i,o){this.contentRect.observe(e),e&&(this.data=i,this.context={...o,widget:this.host},this.host.view.setViewRoot(e,"nav",{config:this.config,data:this.data,context:this.context}),e.innerHTML="",this.host.view.render(e,this.config,this.data,this.context))}}});function Qc(n){return typeof n=="string"||Array.isArray(n)||n!==null&&typeof n=="object"&&typeof n.view=="string"}function Lr(n,e){return Jm.set(n,e),n}function Xm(n,e,i,o){if(e===null||o.has(e))return;let l=n.fragmentEls.get(e);if(l!==void 0)for(let f of l){let d=i.children.find(g=>g.view===f);d?i=d:i.children.push(i={node:null,parent:i,view:f,children:[]})}let c=Zm.get(e);if(c!==void 0)i.children.push(i={node:e,parent:i,viewRoot:c,children:[]});else{let f=n.viewEls.get(e);f!==void 0&&i.children.push(i={node:e,parent:i,view:f,children:[]})}if(e.nodeType===1)for(let f=e.firstChild;f;f=f.nextSibling)Xm(n,f,i,o)}function kM(n){return{name:"config-error",options:Qm,render(e,i){if(e.className="discovery-buildin-view-render-error",e.dataset.type=i.type,e.textContent=i.reason,"config"in i){let o=e.appendChild(document.createElement("span"));o.className="toggle-config",o.textContent="show config...",o.addEventListener("click",()=>{e.classList.toggle("expanded")?(o.textContent="hide config...",n.render(e,{view:"struct",expanded:1},i.config)):(o.textContent="show config...",e.lastChild?.remove())})}}}}function Um(n,e,i,o,l,c,f,d){return!Ae(i,n)||i[n]===void 0||e.host.queryBool(i[n]===!0?"":i[n],o,l)?!0:(e.viewEls.set(d,{skipped:n,config:i,inputData:c,inputDataIndex:f,data:o,context:l}),!1)}function Kc(n,e,i,o){let l=e;return typeof l=="string"&&l.startsWith("=")&&(l=n.queryFn(l.slice(1))),typeof l=="function"&&(l=l(i,o)),typeof l=="string"&&(l=l.trim().split(/\s+/)),Array.isArray(l)&&(l=l.map(c=>typeof c=="function"?c(i,o):c).filter(Boolean),l.length)?l:null}function ey(n,e,i,o,l){let c=i?Kc(n,i,o,l):null;c!==null&&e.classList.add(...c)}async function ty(n,e,i,o,l,c,f,d,g){let{tag:m}=e.options,y=m===null?document.createDocumentFragment():document.createElement(m||"div");await e.render(y,l,c,f),typeof o.postRender=="function"&&await o.postRender(y,o,c,f);let k={config:o,props:l,inputData:d,inputDataIndex:g,data:c,context:f};if(!fu(y))n.viewEls.set(y,k),e.name&&y.classList.add(`view-${e.name}`),ey(n.host,y,o.className,c,f),o.tooltip&&Zc(n.host,y,o.tooltip,c,f);else for(let C of y.childNodes){let M=n.fragmentEls.get(C);M!==void 0?M.unshift(k):n.fragmentEls.set(C,[k])}i.replaceWith(y)}function Gm(n,e,i,o){return ty(n,n.defaultRenderErrorRenderer,i,Km,{type:"render",reason:e,config:o})}function CM(n,e){return{name:e,normalizeConfig:n.normalizeConfig.bind(n),ensureValidConfig:n.ensureValidConfig.bind(n),composeConfig:n.composeConfig.bind(n),propsFromConfig:n.propsFromConfig.bind(n),computeClassName:Kc.bind(null,n),applyComputedClassName:ey.bind(null,n),render:n.render.bind(n),listLimit:n.listLimit.bind(n),renderList:n.renderList.bind(n),maybeMoreButtons:n.maybeMoreButtons.bind(n),renderMoreButton:n.renderMoreButton.bind(n),tooltip(i,o,l,c){i&&i.nodeType===1?Zc(n.host,i,o,l,c):n.host.logger.warn("A tooltip can be attached to a HTML element only")}}}function Zc(n,e,i,o,l){e.classList.add("discovery-view-has-tooltip"),Vc.set(e,{config:i,data:o,context:l}),n.view.tooltip===null&&(n.view.tooltip=DM(n))}function Vm(n){return!!n&&!Array.isArray(n)&&typeof n!="string"&&typeof n!="function"&&!n.view}function Ym(n,e){return Number.isFinite(n)?Number(n):e}function DM(n){let e=null,i=new n.view.Popup({className:"discovery-buildin-view-tooltip",hoverTriggers:".discovery-view-has-tooltip",position:"pointer",showDelay(o){let{config:l}=Vc.get(o)||{};return Vm(l)?l.showDelay??!0:!0},render(o,l){let{config:c,data:f,context:d}=Vc.get(l)||{},g="pointer",m="natural",y=3,k=3,C=c;return e!==null&&(o.classList.remove(...e),e=null),Vm(c)&&(e=Kc(n,c.className,f,d),e!==null&&o.classList.add(...e),g=c.position||g,m=c.positionMode||m,y=Ym(c.pointerOffsetX,y),k=Ym(c.pointerOffsetY,k),C=c.content),i.position=g,i.positionMode=m,i.pointerOffsetX=y,i.pointerOffsetY=k,C?n.view.render(o,C,f,d):n.view.render(o,{view:n.view.defaultRenderErrorRenderer.render,reason:"Element marked as having a tooltip but related data is not found"})}});return i}async function ny(n,e,i,o,l,c){if(Array.isArray(i)){await Promise.all(i.map(m=>ny(n,e,m,o,l,c)));return}let f=o&&typeof l=="number"?o[l]:o,d=null;switch(typeof i.view){case"function":d={name:!1,options:Qm,render:i.view};break;case"string":if(i.view==="render"){let{config:m="",context:y=""}=i;d={name:!1,options:{tag:null},render(k,C,M){let E=m!==""?n.host.query(m,f,c):M,F=n.host.query(y,c,f);return n.render(k,E,M!==E?M:f,F)}}}else if(i.view.startsWith("preset/")){let m=i.view.substr(7);d={name:!1,options:{tag:null},render:n.host.preset.isDefined(m)?n.host.preset.get(m).render:()=>{}}}else d=n.get(i.view)||null;break}e||(e=document.createDocumentFragment());let g=e.appendChild(document.createComment(""));if(!d){let m=typeof i.view=="string"?"View `"+i.view+"` is not found":"Render is not a function";return n.host.logger.error(m,i),Gm(n,m,g,i)}try{if(Um("when",n,i,f,c,o,l,g)){let m="context"in i?await n.host.query(i.context,f,c):c,y="data"in i?await n.host.query(i.data,f,m):f;if(Um("whenData",n,i,y,m,o,l,g))return await ty(n,d,g,i,n.propsFromConfig(i,y,m),y,m,o,l)}}catch(m){return n.host.logger.error("View render error:",m.message),Gm(n,String(m),g,Km)}}var Qm,Km,Vc,Zm,Jm,$m,xM,Yc,Ia,Jc=z(()=>{Oe();st();Ai();Qm=Object.freeze({tag:void 0}),Km=Object.freeze({view:""}),Vc=new WeakMap,Zm=new WeakMap,Jm=new WeakMap,$m=new WeakMap,xM=new Set(["view","when","context","data","whenData","postRender","className","tooltip"]);Yc=class{el;position;positionMode;pointerOffsetX;pointerOffsetY;constructor(){}toggle(){}async show(){}hide(){}},Ia=class n extends en{host;defaultRenderErrorRenderer;viewEls;fragmentEls;tooltip;Popup=Yc;constructor(e){super(),this.host=e,this.defaultRenderErrorRenderer=kM(this),this.viewEls=new WeakMap,this.fragmentEls=new WeakMap,this.tooltip=null}define(e,i,o){let l=Qc(i)||typeof i=="function"?{...o,render:i}:i,{render:c=[],...f}=l,{tag:d,props:g}=f;return n.define(this,e,Object.freeze({name:e,options:Object.freeze({...l,tag:typeof d=="string"||d===void 0?d:null,props:typeof g=="string"?this.host.queryFn(g):g}),render:typeof c=="function"?c.bind(CM(this,e)):(m,y,k,C)=>this.render(m,c,k,C)}))}normalizeConfig(e){if(!e)return null;if(Array.isArray(e)){let i=[];for(let o of e){let l=this.normalizeConfig(o);l!==null&&(Array.isArray(l)?i.push(...l):i.push(l))}return i}if(typeof e=="string"){let[,i,o,l]=e.match(/^(\S+?)([:{])((?:.|\s)+)$/)||[];if(i){if(o==="{")try{return Lr(this.host.queryToConfig(i,o+l),e)}catch(c){return Lr(this.badConfig(e,c),e)}return Lr({view:i,data:l},e)}return Lr({view:e},e)}else if(typeof e=="function")return Lr({view:e},e);return e}badConfig(e,i){let o=i?.message||"Unknown error";return this.host.logger.error(o,{config:e,error:i}),{view:this.defaultRenderErrorRenderer.render,type:"config",reason:o,config:e}}ensureValidConfig(e){return Array.isArray(e)?e.map(i=>this.ensureValidConfig(i)).flat():!e||!e.view?this.badConfig(e,new Error(e?"Option `view` is missed":"Config is not a valid value")):e}composeConfig(e,i){return e=this.normalizeConfig(e),i=this.normalizeConfig(i),e&&i?Array.isArray(e)?e.map(o=>Lr({...o,...i},[o,i])):Lr({...e,...i},[e,i]):e||i}propsFromConfig(e,i,o,l=this.get(e?.view)?.options.props){let c={};for(let[f,d]of Object.entries(e))xM.has(f)||(c[f]=typeof d=="string"&&d.startsWith("=")?this.host.query(d.slice(1),i,o):d);if(typeof l=="function"){let f=l(i,{props:c,context:o});f!==null&&typeof f=="object"&&f!==c&&($m.set(f,{props:c,fn:l}),c=f)}return c}render(e,i,o,l,c){return ny(this,e,this.ensureValidConfig(this.normalizeConfig(i)),o,c,l)}listLimit(e,i){return e===!1?!1:!e||isNaN(e)?i:Math.max(parseInt(e,10),0)||i}renderList(e,i,o,l,c=0,f=!1,d){f===!1&&(f=o.length);let g=Promise.all(o.slice(c,c+f).map((m,y,k)=>this.render(e,i,o,{...l,index:c+y,array:o,sliceIndex:y,slice:k},c+y)));return this.maybeMoreButtons(d||e,null,o.length,c+f,f,(m,y)=>this.renderList(e,i,o,l,m,y,d)),g}maybeMoreButtons(e,i,o,l,c,f){if(o<=l)return null;let d=o-l,g=document.createElement("span");return d>c&&this.renderMoreButton(g,"Show "+c+" more...",()=>f(l,c)),d>0&&this.renderMoreButton(g,"Show all the rest "+d+" items...",()=>f(l,1/0)),g!==null&&(g.className="more-buttons",e.insertBefore(g,i)),g}renderMoreButton(e,i,o){let l=document.createElement("button");l.className="more-button",l.innerHTML=i,l.addEventListener("click",()=>{e.remove(),o()}),e.appendChild(l)}attachTooltip(e,i,o,l){Zc(this.host,e,i,o,l)}adoptFragment(e,i){let o=this.fragmentEls.get(i);if(o)for(let l of e.childNodes)this.fragmentEls.set(l,o)}setViewRoot(e,i,o){Zm.set(e,{name:i,...o})}getViewTree(e){let i=new Set(e||[]),o=[];return Xm(this,this.host.dom?.container||null,{parent:null,children:o},i),o}getViewStackTrace(e){let{container:i}=this.host.dom;if(!i||!(e instanceof Node)||!i.contains(e))return null;let o=[],l=e;for(;l!==null&&l!==i;){let c=this.viewEls.get(l);c!==void 0&&o.push(c),l=l.parentNode}return o.length===0?null:o.reverse()}getViewConfigTransitionTree(e){let i=Jm.get(e)||[];return Array.isArray(i)||(i=[i]),{value:e,deps:i.map(this.getViewConfigTransitionTree,this)}}getViewPropsTransition(e){let i=$m.get(e)||null;return i&&{props:i.props,fn:i.fn,query:i.fn.query||null}}}});var ry,AM,Ba,iy=z(()=>{Ai();er();Oe();Jc();ry=Symbol("config"),AM={name:"not-found",render:(n,{name:e})=>{n.style.cssText="color:#a00",n.innerText=`Page \`${e}\` not found`}},Ba=class n extends en{#e;#t;#n;lastPage;lastPageRef;pageOverscrolled;setPageOverscroll;constructor(e,i){if(super(),this.#e=e,this.#t=i,this.#n=null,this.lastPage=null,this.lastPageRef=null,this.pageOverscrolled=new Et(!1),this.setPageOverscroll=()=>{},typeof IntersectionObserver=="function"){let o=$("div",{style:"position:absolute"}),l=e.dom?.content||null,c=()=>{};if(l!==null){let f=new IntersectionObserver(d=>this.pageOverscrolled.set(!d[d.length-1].isIntersecting),{root:l});this.setPageOverscroll=d=>{f.unobserve(o),c(),d&&(d.prepend(o),f.observe(o),c=this.pageOverscrolled.subscribeSync(g=>{d.classList.toggle("page_overscrolled",g)}))}}}}define(e,i,o){let l=Qc(i)||typeof i=="function"?{...o,render:i}:i,{render:c,...f}=l;if(c===void 0)throw new Error(`Page "${e}" requires a specified render option`);return n.define(this,e,Object.freeze({name:e,render:typeof c=="function"?c.bind(this.#t):(d,g,m)=>this.#t.render(d,c,g,m),options:Object.freeze(f),[ry]:c}))}render(e,i,o,l){let c=this.get(i);c||(c=this.get("not-found")||AM,o={name:i});let{reuseEl:f,init:d,keepScrollOffset:g=!0}=c.options||{},m=this.#e.pageRef,y=this.lastPage!==i,k=this.lastPageRef!==m,C=f&&!y?e:$("article",`page page-${CSS.escape(i)}`);this.#n=C,this.lastPage=i,this.lastPageRef=m,y&&typeof d=="function"&&d(C);let M=new Promise(async(E,F)=>{try{if(await c.render(C,o,l),this.#n!==C){F(new Error("Aborted by new page render"));return}C!==e&&(e.replaceWith(C),this.setPageOverscroll(C));let N=C.parentNode;N!==null&&(y||k||!g)&&(N.scrollTop=0),E()}catch(N){C.replaceChildren(),this.#t.render(C,"alert-danger",String(N)+" (see details in console)"),F(N)}});return{pageEl:C,config:c[ry],renderState:M}}}});var Pa,oy=z(()=>{Ai();Pa=class n extends en{#e;constructor(e){super(),this.#e=e}define(e,i){return i=JSON.parse(JSON.stringify(i)),n.define(this,e,Object.freeze({name:e,render:(o,l,c,f)=>this.#e.render(o,i,c,f),config:i}))}render(e,i,o,l){let c=this.get(i);if(!c){let f="Preset `"+i+"` is not found";console.error(f,i);let d=e.appendChild(document.createElement("div"));return d.className="discovery-buildin-view-config-error",d.textContent=f,Promise.resolve()}return c.render(e,null,o,l)}}});function Go(n){let e=n.offsetParent;for(;e!==null&&e!==Tr&&getComputedStyle(e).position==="static";)e=e.offsetParent;return e||Tr}function Vo(n){let e=n.parentNode;for(;e!==null&&e!==Tr&&getComputedStyle(e).overflow==="visible";)e=e.parentNode;return e||Tr}function Xc(n=null){let e=0,i=0;if(typeof n?.getBoundingClientRect=="function"){let o=n.getBoundingClientRect();e=-o.top,i=-o.left}else if(sy)e=window.pageYOffset||Tr.scrollTop,i=window.pageXOffset||Tr.scrollLeft;else{let{body:o}=document;n!==o&&(e=o.scrollTop-o.clientTop,i=o.scrollLeft-o.clientLeft)}return{left:i,top:e}}function qt(n,e=null){let i=Xc(e),o=0,l=0,c=0,f=0;return n instanceof HTMLElement&&typeof n?.getBoundingClientRect=="function"&&({top:o,left:l,right:c,bottom:f}=n.getBoundingClientRect()),{top:o+i.top,left:l+i.left,right:c+i.left,bottom:f+i.top,width:c-l,height:f-o}}function ef(n,e=null){let i=sy?Tr:document.body,{top:o,left:l}=n===i&&!e?Xc():qt(n,e),c=0,f=0;return!n||n instanceof Window?(c=window.innerWidth||0,f=window.innerHeight||0):(o+=n.clientTop,l+=n.clientLeft,c=n.clientWidth,f=n.clientHeight),{top:o,left:l,right:l+c,bottom:o+f,width:c,height:f}}var Tr,SM,sy,Fr=z(()=>{({documentElement:Tr,compatMode:SM}=document),sy=SM==="CSS1Compat"});var or,ja=z(()=>{Oe();er();or=(()=>{let n=new Et({x:0,y:0},(e,i)=>e.x!==i.x||e.y!==i.y);return document.addEventListener("pointermove",({x:e,y:i})=>n.set({x:e,y:i}),Rt),n.readonly})()});function EM(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function Nr(n,e){if(typeof n!="function")throw new TypeError("Expected a function");if(typeof e=="number"&&(e={wait:e}),!EM(e)){let U;return Object.assign(function(...W){return U=n.apply(this,W)},{cancel(){},flush(){return U},pending(){return!1}})}let i=Math.max(0,Number(e.wait)||0),o=!!e.leading,l="maxWait"in e,c=l?Math.max(Number(e.maxWait)||0,i):1/0,f="trailing"in e?!!e.trailing:!0,d,g,m,y,k,C=0;function M(U){let W=d,ne=g;return d=g=void 0,C=U,m=n.apply(ne,W),m}function E(U,W){return setTimeout(U,W)}function F(U){clearTimeout(U)}function N(U){return C=U,y=E(L,i),o?M(U):m}function A(U,W){let ne=U-W,q=U-C,Z=i-ne;return Math.min(Z,c-q)}function b(U,W){let ne=U-W,q=U-C;return ne>=i||ne<0||q>=c}function L(){let U=Date.now();if(k===void 0||b(U,k))return T(U);y=E(L,A(U,k))}function T(U){return y=void 0,f&&d?M(U):(d=g=void 0,m)}function I(){y!==void 0&&F(y),C=0,d=k=g=y=void 0}function B(){return y===void 0?m:T(Date.now())}function R(){return y!==void 0}return Object.assign(function(...U){let W=Date.now(),ne=k===void 0||b(W,k);if(d=U,g=this,k=W,ne){if(y===void 0)return N(k);if(l)return y=E(L,i),M(k)}return y===void 0&&(y=E(L,i)),m},{cancel:I,flush:B,pending:R})}var Yo=z(()=>{});function MM(n){let e=Vo(n),i=qt(n,e),o=0,l=0,{scrollTop:c,scrollLeft:f,clientWidth:d,clientHeight:g}=e,m=c+o,y=f+l,k=f+d,C=c+g,M=c+i.top,E=f+i.left,F=E+i.width,N=c,A=f;(M<m||M>C)&&(N=M-o),E<y?A=E-l:F>k&&(A=Math.max(E,f-(F-k))-l),e?.scrollTo(A,N)}function ly(){tf=0}function uy(n,{selectTreeViewLeaf:e,detailsSidebarLeafExpanded:i}){return{view:"tree",when:"#.selectedView",data:"$[0]",className:"sidebar",limitLines:!1,itemConfig:{collapsible:"=not viewRoot",expanded:o=>o.viewRoot||i.has(o),onToggle:(o,l,c)=>o?i.add(c):i.delete(c)},item:{view:"switch",content:[{when:"viewRoot",content:{view:"block",className:"view-root",content:"text:viewRoot.name"}},{when:"$ = #.selectedView",content:[{view:"block",className:[o=>o.view?.skipped?"skipped":!1,"selected"],content:'text:view.config.view or "#root" | is string ?: "\u0192n"',postRender(o){requestAnimationFrame(()=>{n.querySelector(".sidebar").scrollTop=tf,MM(o)})}},...ay]},{content:[{view:"link",className:o=>o.view?.skipped?"skipped":!1,data:'{ text: view.config.view or "#root" | is string ?: "\u0192n", href: false, view, self: $ }',onClick(o,l){tf=n.querySelector(".sidebar")?.scrollTop||0,e(l.self)}},...ay]}]}}}var tf,ay,cy=z(()=>{Fr();tf=0,ay=[{view:"badge",when:'view.data != parent.(view or viewRoot).data or "data" in view.config',data:{text:"D"},tooltip:'text:"Data value was changed"'},{view:"badge",when:"view.context != parent.(view or viewRoot).context",data:{text:"C"},tooltip:'text:"Context value was changed"'}]});function za(n){n=n.replace(/^(?:\s*[\n]+)+?([ \t]*)/,"$1").trimRight(),n=n.replace(/\n[ \t]+(?=\n)/g,`
`);let e=n.split(/\n+/),i=+(n.match(/^\s/)===null),o=1e3;for(var l=i;l<e.length;l++){let c=e[l].match(/^\s*/);if(c[0].length<o&&(o=c[0].length),o==0)break}return o>0&&(n=n.replace(new RegExp("^ {"+o+"}","gm"),"")),n}var nf=z(()=>{});var fy,dy=z(()=>{nf();fy={view:"block",className:["content","props-config"],data:"#.view | view or viewRoot",content:[{view:"block",className:"content-section skip",when:"skipped",content:'block{ content: "badge:{ text: skipped }" }'},{view:"block",className:"content-section render",when:"config.view is not string",content:'source:{ content: config.view + "", syntax: "js" }'},{view:"block",when:"props != undefined",className:"content-section props",content:[{view:"struct",expanded:1,data:"props"},{view:"context",data:(n,e)=>e.host.view.getViewPropsTransition(n.props),whenData:!0,content:[{view:"block",className:"transition-fn",data:n=>({...n,query:typeof n.query=="string"?za(n.query):void 0}),content:{view:"switch",content:[{when:"query is string",content:{view:"source",data:'{ content: query, syntax: "jora", lineNum: false }'}},{content:"struct:fn"}]}},{view:"struct",expanded:2,data:"props"}]}]},{view:"block",className:"content-section config",content:[{view:"struct",expanded:1,data:"config"},{view:"tree",data:(n,e)=>e.host.view.getViewConfigTransitionTree(n.config).deps,whenData:!0,expanded:3,children:"deps",item:{view:"struct",expanded:1,data:"value"}}]}]}});var py,hy,gy=z(()=>{nf();py={view:"list",className:"data-flow-transitions",limit:1,when:".[view]",data:`
        [null]    // to show empty list on first render
        + .[view] // filter viewRoot
        .(
            $parent;
            $parentName: parent.view.config.view;
            $queryData: view | inputDataIndex != undefined ? inputData[inputDataIndex] : inputData;

            view | [
                ...'data' in config ? { inputData: $queryData, transition: config.data, name: config.view, view: $, $parent } : [],
                ...inputDataIndex != undefined ? { inputData, transition: \`$[\${inputDataIndex}]\`, name: \`\${$parentName} \u2192 \${config.view}\`, view: $, $parent } : []
            ]
        )
    `,whenData:"size() > 1",itemConfig:{when:!0},item:[{view:"block",className:"root-data",when:"inputData = ..parent.viewRoot[].data",content:'badge:"Root data"'},{view:"struct",data:"inputData"},{view:"block",className:"data-flow-transition",content:[{view:"switch",content:[{when:"transition is (string or undefined)",content:{view:"context",data(n){return{content:za(n.transition),refs:[]}},content:{view:"source",data:`{
                                    ...,
                                    syntax: "jora",
                                    lineNum: false
                                }`}}},{content:{view:"struct",data:"transition"}}]},{view:"block",className:"view-name",content:"text:name"}]}]},hy={view:"block",className:"content-section data",data:"#.view",content:[{view:"context",data:"..parent",content:py},{view:"context",content:{...py,limit:!1}},{view:"block",className:"root-data",when:"view or viewRoot | data = ([@] + @..parent).viewRoot[].data",content:'badge:"Root data"'},{view:"struct",expanded:1,data:"view or viewRoot | data"}]}});function LM(n,e){if(n===null)return!0;for(let i of["top","left","width","height"])if(n[i]!==e[i])return!0;return!1}var rf,of=z(()=>{Oe();Fr();ja();Yo();cy();dy();gy();rf=n=>{let e=!1,i=null,o=null,l=null,c=null,f,d=new Set,g=new Map,m=new Map,y=$("div","cancel-hint view-alert view-alert-warning"),k=$("div",{class:"discovery-view-inspector-overlay",onclick:B=>{if((B.metaKey||B.ctrlKey)&&o){let R=o.view.config.view;N(),n.setPage("views-showcase",R);return}A(o&&!l?o:null)}},[y]),C=Nr(()=>{if(!e||l!==null)return;let B=n.view.getViewTree([T.el]),R=new Set([...m.keys()]);(function W(ne,q){for(let Z of ne){if(!Z.node||!Z.view&&!Z.viewRoot){Z.children.length&&W(Z.children,q);continue}let S=qt(Z.node,q),X=m.get(Z.node)||null;X===null?(X={el:q.appendChild($("div",Z.viewRoot?"overlay view-root":"overlay")),box:null},Z.node.nodeType===1&&(X.el.style.zIndex=getComputedStyle(Z.node).zIndex),Z.viewRoot&&Z.viewRoot.inspectable!==!1&&(X.el.dataset.inspectable=!0),m.set(Z.node,X),g.set(X.el,Z)):R.delete(Z.node),LM(X.box,S)&&(X.el.style.top=`${S.top}px`,X.el.style.left=`${S.left}px`,X.el.style.width=`${S.width}px`,X.el.style.height=`${S.height}px`,X.box=S),Z.children.length&&(Z.node.nodeType===1&&(X.el.style.overflow=getComputedStyle(Z.node).overflow!=="visible"?"hidden":"visible"),W(Z.children,X.el))}})(B,k);for(let W of R)m.get(W).el.remove(),m.delete(W);M()},{maxWait:0,wait:50}),M=()=>{let{x:B,y:R}=or.value;L([...n.dom.container.parentNode.elementsFromPoint(B|0,R|0)||[]].find(U=>g.has(U))||null)},E=B=>{(B.key==="Escape"||B.keyCode===27||B.which===27)&&n.inspectMode.set(!1)},F=()=>{e||(e=!0,document.addEventListener("scroll",C,Rt),document.addEventListener("keydown",E,!0),or.subscribe(C),f=setInterval(C,500),n.dom.container.append(k),C(),n.inspectMode.set(!0))},N=()=>{e&&(e=!1,clearInterval(f),document.removeEventListener("scroll",C,Rt),document.removeEventListener("keydown",E,!0),or.unsubscribe(C),I=!1,delete y.dataset.alt,k.remove(),k.replaceChildren(y),m.clear(),b(),n.inspectMode.set(!1))},A=B=>{if(l=B||null,B){let{innerWidth:R,innerHeight:U}=window,{left:W,top:ne,width:q,height:Z}=T.el.getBoundingClientRect();T.el.style.top=`${ne}px`,T.el.style.left=`${W}px`,T.el.style.right=`${R-(W+q)}px`,T.el.style.bottom=`${U-(ne+Z)}px`,T.frozen=!0,requestAnimationFrame(()=>{L(m.get(B.node)?.el||null),clearTimeout(c),T.show(),T.freeze()}),delete y.dataset.alt}else I?n.inspectMode.set(!1):(d.clear(),ly(),b(),C())},b=()=>{i&&i.classList.remove("hovered"),i=null,o=null,l=null,T.hide()},L=B=>{if(B===i)return;if(i!==null&&i.classList.remove("hovered"),i=B,B===null){c=setTimeout(b,100);return}B.classList.add("hovered");let R=g.get(B)||null;if(R===null){o=null;return}o!==null&&R.view===o.view||(o=R,clearTimeout(c),T.show())},T=new n.view.Popup({className:"discovery-inspect-details-popup",position:"pointer",hideIfEventOutside:!1,hideOnResize:!1,render(B){let R=l||o,U=[],W=R;for(;W!==null&&(W.view||W.viewRoot);)W!==R&&l!==null&&d.add(W),U.unshift(W),W=W.parent;return n.view.render(B,{view:"context",modifiers:[uy(B,{selectTreeViewLeaf:A,detailsSidebarLeafExpanded:d})],content:{view:"context",modifiers:{view:"block",className:"toolbar",content:[{view:"toggle-group",className:"stack-view-chain",name:"view",data:".({ value: $ })",value:"=$[-1].value",toggleConfig:{className:[ne=>ne.value.viewRoot?"view-root":!1,ne=>ne.value.view&&ne.value.view.skipped?"skipped":!1],content:['text:value | viewRoot.name or view.config.view | is string ?: "\u0192n"']}},{view:"button",when:l!==null,content:'text:"Close inspector"',onClick(){n.inspectMode.set(!1)}}]},content:[fy,{view:"block",className:["content","data-context"],content:[hy,{view:"block",className:"content-section context",data:"$[-1] | view or viewRoot",content:{view:"struct",expanded:1,data:"context"}}]}]}},U,{selectedView:l,host:n})}});n.action.define("startInspect",F),n.action.define("stopInspect",N),n.inspectMode.subscribeSync(B=>B?F():N());let I=!1}});var Qo,my=z(()=>{Qo=(n,e)=>({demo:{view:n,text:"Button",onClick:Function('return () => alert("Hello world!")')()},examples:[{title:"Variations",demo:e.map(i=>`${i}{ text: "${i}" }`)},{title:"Disabled state",demo:e.map(i=>({view:i,disabled:!0,text:i}))},{title:"Complex content",demo:{view:"button",content:['text:"Example "',"pill-badge:123"]}},{title:"Button as a link",demo:{view:"button",text:"Click me",href:"#url",external:!0}},{title:"Using data as source of options",beforeDemo:{view:"md",source:["The following properties are taken from the data when the appropriate options are not specified for a legacy reasons (is subject to remove in the future):","- `text`","- `href`","- `external`"].join(`
`)},highlightProps:["data"],demo:{view:n,data:{text:"demo",href:"#example",external:!0}}}]})});function yy(n){function e(i,o,l,c){let{text:f,content:d,disabled:g,href:m,external:y,onClick:k}=o;if(i.classList.add("view-button"),g?i.disabled=!0:typeof k=="function"?(i.addEventListener("click",()=>k(i,l,c)),i.classList.add("onclick")):m&&i.addEventListener("click",()=>$("a",{href:m,target:y?"_blank":""}).click()),d)return n.view.render(i,d,l,c);i.textContent=f}n.view.define("button",e,{tag:"button",props:Ra,usage:Qo}),n.view.define("button-primary",e,{tag:"button",props:Ra,usage:Qo}),n.view.define("button-danger",e,{tag:"button",props:Ra,usage:Qo}),n.view.define("button-warning",e,{tag:"button",props:Ra,usage:Qo})}var Ra,vy=z(()=>{my();Oe();Ra=`is not array? | {
    text: #.props has no 'content' ? is (string or number or boolean) ?: text,
    content: undefined,
    disabled: false,
    href,
    external,
    onClick: undefined
} | overrideProps()`});var wy,by=z(()=>{wy={demo:{view:"checkbox-list",checkbox:{content:"text"},data:["one","two","three"]}}});function xy(n){n.view.define("checkbox-list",function(e,i,o,l){let{name:c="filter",checkbox:f,checkboxValue:d="$",emptyText:g,limit:m,onChange:y,onInit:k}=i,C=new Set;if(g!==!1&&g!==""&&e.setAttribute("emptyText",g||"Empty list"),!Array.isArray(o)&&o&&(o=[o]),Array.isArray(o))return n.view.renderList(e,this.composeConfig({view:"checkbox",...f,onInit:(M,E,F,N)=>{M&&C.add(n.query(d,F,N))},onChange:(M,E,F,N)=>{let A=C.size,b=n.query(d,F,N);M?C.add(b):C.delete(b),A!==C.size&&typeof y=="function"&&y([...C],c)}}),o,l,0,n.view.listLimit(m,25)).then(()=>{typeof k=="function"&&k([...C],c)})},{usage:wy})}var ky=z(()=>{by()});var Cy,Dy=z(()=>{Cy={demo:{view:"checkbox",content:'text:"checkbox caption"'},examples:[{title:"Checked state",beforeDemo:"Checked state is set up with `checked` property. Its value can be a query",demo:[{view:"checkbox",checked:!0,content:'text:"should be checked"'},{view:"checkbox",checked:"1 > 5",content:`text:"shouldn't be checked"`},{view:"checkbox",checked:"1 < 5",content:'text:"should be checked"'}]},{title:"Readonly checkbox",demo:{view:"checkbox",readonly:!0,content:'text:"checkbox caption"'}},{title:"On change",demo:{view:"checkbox",onChange:Function("return (value, name, data, context) => alert(`Changed to ${value}!`)")(),content:'text:"click me!"'}}]}});function Ay(n){function e(i,o,l,c,f,d){if(i===null)return;let g=f?{...c,[f]:d.checked}:c;return i.innerHTML="",n.view.render(i,o,l,g)}n.view.define("checkbox",function(i,o,l,c){let{name:f,checked:d,readonly:g,content:m,onInit:y,onChange:k}=o,C=i.appendChild($("input")),M=m?i.appendChild($("span","view-checkbox__label")):null;return C.type="checkbox",C.checked=d!==void 0?n.queryBool(d,l,c):!!c[f],C.readOnly=g,C.addEventListener("click",E=>{g&&E.preventDefault()}),C.addEventListener("change",()=>{typeof k=="function"&&(k(C.checked,f,l,c),e(M,m,l,c,f,C))}),typeof y=="function"&&y(C.checked,f,l,c),e(M,m,l,c,f,C)},{tag:"label",usage:Cy})}var Sy=z(()=>{Oe();Dy()});var Ey,My=z(()=>{Ey={demo:{view:"content-filter",data:["foo","bar","baz"],content:{view:"list",data:".[$ ~= #.filter]"}},examples:[{title:"Using with text-match",demo:{view:"content-filter",data:[{name:"foo"},{name:"bar"},{name:"baz"}],name:"customName",content:{view:"list",data:".[name ~= #.customName]",item:"text-match:{ text: name, match: #.customName }"}}}]}});function Ly(n){n.view.define("content-filter",function(e,i,o,l){let{name:c="filter",type:f="regexp",placeholder:d,content:g,onInit:m,onChange:y}=i;return n.view.render(e,{view:"context",modifiers:{view:"input",name:c,type:f,placeholder:d||"Filter"},content:{view:"block",className:"content",content:g,onInit:m,onChange:y}},o,l)},{usage:Ey})}var Ty=z(()=>{My()});var Fy,Ny=z(()=>{Fy={demo:{view:"context",modifiers:{view:"dropdown",name:"demo",value:{foo:"two",bar:"hello"},resetValue:{foo:"one",bar:""},caption:"text:`${#.demo.foo} / ${#.demo.bar}`",content:[{view:"select",name:"foo",data:["one","two","three","four"]},{view:"input",name:"bar"}]},content:[{view:"block",content:'text:"Modified context (see values in \\"demo\\" section):"'},{view:"struct",expanded:1,data:"#"}]}}});function TM(n,e){if(!n||!e||typeof n!="object"||typeof e!="object")return n===e;for(let i in n)if(Ae(n,i)&&n[i]!==e[i])return!1;for(let i in e)if(Ae(e,i)&&n[i]!==e[i])return!1;return!0}function Oy(n){n.view.define("dropdown",function(e,i,o,l){function c(B,R){return typeof F=="function"?F(B,R):TM(B,R)}function f(){return T.innerHTML="",n.view.render(T,M||"text",o,{...l,[m||"__self"]:b})}function d(B){b=B,typeof A=="function"&&A(b,m,o,l),L.hide(),f()}function g(B,R){if(I){let U={changed:!c(B,R)};I.innerHTML="",n.view.render(I,[{view:"button-primary",disabled:"=not changed",content:'text:"Apply"',onClick(W,ne,q){d(q)}},{view:"button",when:()=>y&&!c(y,b),content:'text:"Reset"',onClick(){d(y)}},{view:"button",disabled:"=not changed",content:'text:"Cancel"',onClick(){L.hide()}}],U,R)}}let{name:m,resetValue:y,value:k,placeholder:C,caption:M,content:E,compare:F,onInit:N,onChange:A}=i,b="value"in i?k:l[m],L=null,T=e.appendChild(document.createElement("div")),I;return C&&(e.dataset.placeholder=C),e.tabIndex=0,e.addEventListener("click",()=>{L===null&&(L=new n.view.Popup({className:"view-dropdown-popup"}));let B={...b},R;L.toggle(e,U=>n.view.render(U,[{view:"block",className:"content",content:n.view.composeConfig(E,{onInit(W,ne){B[ne]=W},onChange(W,ne){B[ne]=W,g(R,B)}})},{view:"block",className:"confirm",postRender(W){I=W}}],o,{...l,...b}).then(()=>{R={...B},g(R,B)}))}),T.className="view-dropdown__caption",typeof N=="function"&&N(b,m,o,l),f()},{usage:Fy})}var Iy=z(()=>{st();Ny()});function FM(n,e){try{return new RegExp("((?:"+n+")+)",e)}catch{}return new RegExp("((?:"+n.replace(/[\[\]\(\)\?\+\*\{\}\\]/g,"\\$&")+")+)",e)}function sf(n,e="i"){return Object.assign(FM(n,e),{rawSource:n})}var af=z(()=>{});var By,Py,jy=z(()=>{By=Function("return (value) => alert(`Changed to ${value}!`)")(),Py={examples:[{title:"Input with value",demo:{view:"input",value:'"value"'}},{title:"Input with placeholder",demo:{view:"input",placeholder:"placeholder"}},{title:"Input type number with min and max",demo:{view:"input",htmlType:"number",htmlMin:10,htmlMax:20}},{title:"Input with onChange",demo:{view:"input",onChange:By}},{title:"Input with onChange debounced",demo:{view:"input",onChange:By,debounce:300}}]}});function zy(n){let e={regexp:i=>i?sf(i):null,text:i=>i};n.view.define("input",function(i,o,l,c){let{name:f,value:d,type:g,placeholder:m,onInit:y,onChange:k,htmlType:C,htmlMin:M,htmlMax:E,htmlStep:F,debounce:N}=o,A=e[g]||e.text,b=i.appendChild(document.createElement("input")),L=d;Number.isFinite(M)&&(b.min=M),Number.isFinite(E)&&(b.max=E),Number.isFinite(F)&&(b.step=F),b.type=C,b.value=L,b.placeholder=[m||"",A!==e.text?"("+g+")":""].filter(Boolean).join(" "),b.addEventListener("input",Nr(()=>{let T=b.value.trim();L!==T&&(L=T,typeof k=="function"&&k(A(T),f,l,c))},N)),typeof y=="function"&&y(A(b.value.trim()),f,l,c)},{usage:Py,props:NM})}var NM,Ry=z(()=>{af();Yo();jy();NM=`#.props | {
    name,
    value: $ has no 'value' and name is string ? #.context[name] : value | is (string or number) ?: '',
    type ?: 'text',
    placeholder,
    onInit,
    onChange,
    htmlType ?: 'text',
    htmlMin,
    htmlMax,
    htmlStep,
    debounce
}`});var OM,Hy,qy=z(()=>{OM=Function("return (value) => alert(`Changed to ${value.text}!`)")(),Hy={demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]},examples:[{title:"With limit",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}],limit:2}},{title:"With custom item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}],item:"h1:text"}},{title:"On chage handler",demo:{view:"menu",onChange:OM,data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]}}]}});function _y(n){n.view.define("menu",function(e,i,o,l){let{name:c="filter",item:f,itemConfig:d,limit:g,emptyText:m,onClick:y,onInit:k,onChange:C}=i;if(m!==!1&&m!==""&&e.setAttribute("emptyText",m||"No items"),Array.isArray(o)){let M=this.composeConfig({view:"menu-item",content:f,onClick:typeof y=="function"?y:typeof C=="function"?E=>C(E,c):void 0},d);return n.view.renderList(e,M,o,l,0,n.view.listLimit(g,25)).then(()=>{typeof k=="function"&&k(n.query(".[selected].pick()",o,l),c)})}},{usage:Hy})}var Wy=z(()=>{qy()});var $y,Uy=z(()=>{$y={demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#"},{text:"three",href:"#"}]},examples:[{title:"Preselected item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#",selected:!0},{text:"three",href:"#"}]}},{title:"Disabled item",demo:{view:"menu",data:[{text:"one",href:"#"},{text:"two",href:"#",disabled:!0},{text:"three",href:"#"}]}},{title:"External links",demo:{view:"menu",data:[{text:"one",external:!0,href:"https://github.com/discoveryjs/discovery"},{text:"two",external:!0,href:"https://github.com/discoveryjs/discovery"},{text:"three",external:!0,href:"https://github.com/discoveryjs/discovery"}]}}]}});function Gy(n){n.view.define("menu-item",function(e,i,o,l){let{content:c,onClick:f}=i,{text:d,selected:g=!1,disabled:m=!1,href:y,external:k}=o||{};if(m?e.classList.add("disabled"):typeof f=="function"?(e.addEventListener("click",()=>f(o,l)),e.classList.add("onclick")):y&&(e.href=y,e.target=k?"_blank":""),g&&e.classList.add("selected"),c)return n.view.render(e,c,o,l);e.textContent=typeof o=="string"?o:d||"Untitled item"},{tag:"a",usage:$y})}var Vy=z(()=>{Uy()});var IM,Yy,Qy=z(()=>{IM=()=>alert("changed!"),Yy={demo:{view:"nav-button",data:{text:"I am nav button"}},examples:[{title:"With href",demo:{view:"nav-button",data:{text:"I am nav button",href:"#"}}},{title:"External link",demo:{view:"nav-button",data:{text:"I am nav button",external:!0,href:"https://github.com/discoveryjs/discovery"}}},{title:"On click handler",demo:{view:"nav-button",data:{text:"I am nav button"},onClick:IM}}]}});function Ky(n){n.view.define("nav-button",function(e,i,o,l){let{name:c,text:f,content:d,disabled:g,href:m,external:y,onClick:k}=i;if(c&&(e.dataset.name=c),g?e.classList.add("disabled"):typeof k=="function"?(e.addEventListener("click",C=>k(e,o,l,C)),e.classList.add("onclick")):m&&(e.href=m,e.target=y?"_blank":""),d)return n.view.render(e,d,o,l);e.textContent=f},{tag:"a",props:BM,usage:Yy})}var BM,Zy=z(()=>{Qy();BM=`is not array? | {
    name: undefined,
    text: #.props has no 'content' ? is (string or number or boolean) ?: text,
    content: undefined,
    disabled: false,
    href,
    external,
    onClick: undefined
} | overrideProps()`});var Jy,Xy=z(()=>{Jy={demo:{view:"progress",progress:.5,content:'text:"Loading..."'},examples:[{title:"With no label (content)",demo:{view:"progress",progress:.25}},{title:"Custom color",demo:{view:"progress",progress:.85,color:"#bdab77",content:'text:"Yellow progress"'}}]}});function ev(n){n.view.define("progress",function(e,i,o,l){let{content:c,progress:f,color:d}=i;if(e.append($("div",{class:"progress",style:`--progress: ${Math.max(0,Math.min(1,Number(f)))};--color: ${d||"unset"};`})),c){let g=$("div","content");return e.prepend(g),n.view.render(g,c,o,l)}},{usage:Jy})}var tv=z(()=>{Oe();Xy()});var PM,nv,rv=z(()=>{PM=Function("return (value) => alert(`Changed to ${value}!`)")(),nv={demo:{view:"select",data:["one","two","three","four"]},examples:[{title:"Select with value",demo:{view:"select",value:'"three"',data:["one","two","three","four"]}},{title:"Select with reset option",demo:{view:"select",resetItem:!0,value:'"three"',data:["one","two","three","four"]}},{title:"Select with placeholder",demo:{view:"select",placeholder:"placeholder",data:["one","two","three","four"]}},{title:"Select with onChange",demo:{view:"select",onChange:PM,data:["one","two","three","four"]}},{title:"Select with custom options",demo:{view:"select",item:"h1:text",data:["one","two","three","four"]}}]}});function iv(n){let e="text-match:{ text, match: #.filter }",i="{ value: $, text: #.selectVariantTextQuery.query($, #) }",o=new n.view.Popup({className:"view-select-popup"});n.view.define("select",function(l,c,f,d){function g(){if(l.innerHTML="",B!==void 0)return n.view.render(l,n.view.composeConfig({view:"menu-item",data:i,content:N},A),B,R)}let{name:m,value:y,text:k="$",placeholder:C,limit:M,minItemsFilter:E=10,resetItem:F=!1,item:N=e,itemConfig:A,beforeItems:b,afterItems:L,onInit:T,onChange:I}=c,B=y?n.query(y,f,d):d[m],R={...d,selectMinItemsFilter:E,selectCurrentValue:B,selectVariantTextQuery:k,selectResetItem:F?[{value:void 0,text:"",...F,resetItem:!0}]:[]},U=[];return b&&U.push(n.view.composeConfig(b,{onInit:T,onChange:I})),U.push({view:"context",data:`.(${i})`,modifiers:{view:"input",when:"size() >= #.selectMinItemsFilter",type:"regexp",name:"filter",className:"view-select__filter",placeholder:"Filter"},content:{view:"menu",className:"view-select__variants",data:"#.selectResetItem + .[no #.filter or text~=#.filter]",limit:M,itemConfig:n.view.composeConfig({className:[W=>W.resetItem?"reset-item":"",W=>W.value===B?"selected":""]},A),item:N,onClick(W){o.hide(),B!==W.value&&(B=W.value,R={...R,selectCurrentValue:B},g(),typeof I=="function"&&I(W.value,m,W,d))}}}),L&&U.push(n.view.composeConfig(L,{onInit:T,onChange:I})),C&&(l.dataset.placeholder=C),l.tabIndex=0,l.addEventListener("click",()=>{o.toggle(l,W=>n.view.render(W,U,f,R).then(()=>(W.querySelector(".view-select__filter input")||{focus(){}}).focus()))}),typeof T=="function"&&T(B,m,f,d),g()},{usage:nv})}var ov=z(()=>{rv()});var sv,av=z(()=>{sv={demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}},examples:[{title:"With before and after content",demo:{view:"tabs",name:"example",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],beforeTabs:'text:"<Content before tabs>"',afterTabs:'text:"<Content after tabs>"',content:'text:"Selected: " + #.example'}},{title:"On change handler",demo:{view:"tabs",name:"example",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],onChange:Function('return (value) => alert("changed to " + value)')(),content:'text:"Selected: " + #.example'}}]}});function lv(n){n.view.define("tabs",function(e,i,o,l){async function c(I){let B=b?y:m;if(L===I)return;let R=d||g||f?{...l,[k]:I}:null;L=I,b=!0,Array.isArray(C)&&(E.innerHTML="",d&&(N.innerHTML="",await n.view.render(N,d,o,R),E.appendChild(N)),await Promise.all(C.map(U=>n.view.render(E,n.view.composeConfig(U,{active:U.value===L}),o,l))),g&&(A.innerHTML="",await n.view.render(A,g,o,R),E.appendChild(A))),f&&(F.innerHTML="",await n.view.render(F,f,o,R)),typeof B=="function"&&B(L,k,o,l)}let{content:f,beforeTabs:d,afterTabs:g,onInit:m,onChange:y}=i,{name:k,tabs:C,tabConfig:M}=i,E=e.appendChild(document.createElement("div")),F=null,N=null,A=null,b=!1,L=NaN,T="value"in i?i.value:k in l?l[k]:void 0;return C=n.query(C,o,l),M=n.view.composeConfig({view:"tab",onClick:c},M),E.className="view-tabs-buttons",d&&(N=document.createElement("div"),N.className="view-tabs-buttons-before"),g&&(A=document.createElement("div"),A.className="view-tabs-buttons-after"),f&&(F=e.appendChild(document.createElement("div")),F.className="view-tabs-content"),typeof k!="string"&&(k="filter"),Array.isArray(C)?C=C.map(I=>{let B=typeof I;return(B==="string"||B==="number"||B==="boolean")&&(I={value:I}),(T===void 0||I.active)&&(T=I.value),n.view.composeConfig(M,I)}):C=[],c(T)},{usage:sv})}var uv=z(()=>{av()});var lf,cv,fv=z(()=>{lf=()=>alert("clicked!"),cv={demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}},examples:[{title:"Active & disabled tab",demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One"},{value:"two",text:"Two",active:!0},{value:"three",text:"Three",disabled:!0}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}}},{title:"On click handler",demo:{view:"tabs",name:"tabs",tabs:[{value:"one",text:"One",onClick:lf},{value:"two",text:"Two",onClick:lf},{value:"three",text:"Three",onClick:lf}],content:{view:"switch",content:[{when:'#.tabs="one"',content:'text:"One"'},{when:'#.tabs="two"',content:'text:"Two"'},{when:'#.tabs="three"',content:'text:"Three"'}]}}}]}});function dv(n){n.view.define("tab",function(e,i,o,l){let{content:c,active:f=!1,disabled:d=!1,onClick:g,value:m,text:y=String(m).replace(/^./,k=>k.toUpperCase())}=i;if(n.query(d,o,l)?e.classList.add("disabled"):typeof g=="function"&&(e.addEventListener("click",()=>g(m)),e.classList.add("onclick")),f&&e.classList.add("active"),c)return n.view.render(e,c,o,l);e.textContent=y},{usage:cv})}var pv=z(()=>{fv()});var Ha,uf=z(()=>{Ha={demo:{view:"context",modifiers:{view:"toggle-group",name:"toggleValue",data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}]},content:{view:"switch",content:[{when:'#.toggleValue="one"',content:'text:"One"'},{when:'#.toggleValue="two"',content:'text:"Two"'},{when:'#.toggleValue="three"',content:'text:"Three"'}]}},examples:[{title:"With before and after content",demo:{view:"toggle-group",data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}],beforeToggles:'text:"<Content before toggles>"',afterToggles:'text:"<Content after toggles>"'}},{title:"On change handler",demo:{view:"toggle-group",name:"example",onChange:Function('return (value) => alert("changed to " + value)')(),data:[{value:"one",text:"One"},{value:"two",text:"Two"},{value:"three",text:"Three"}]}}]}});function hv(n){n.view.define("toggle",function(e,i,o,l){let{content:c,disabled:f=!1,onToggle:d,value:g,text:m=String(g).replace(/^./,k=>k.toUpperCase())}=i,{checked:y=!1}=i;if(f?e.classList.add("disabled"):typeof d=="function"&&(e.addEventListener("click",()=>{y=!y,d(y,g)}),e.classList.add("onclick")),y&&e.classList.add("checked"),c)return n.view.render(e,c,o,l);e.textContent=m},{usage:Ha})}var gv=z(()=>{uf()});function mv(n){n.view.define("toggle-group",function(e,i,o,l){async function c(b,L){let T=F?m:g;N!==L&&(N=L,F=!0,Array.isArray(C)&&(e.innerHTML="",f&&(M.innerHTML="",await n.view.render(M,f,o,{...l,[y]:L}),e.appendChild(M)),d&&(E.innerHTML="",await n.view.render(E,d,o,{...l,[y]:L}),e.appendChild(E)),await Promise.all(C.map((I,B)=>n.view.render(e,n.view.composeConfig(I,{checked:I.value===N}),o[B],l)))),typeof T=="function"&&T(N,y,o,l))}let{beforeToggles:f,afterToggles:d,onInit:g,onChange:m}=i,{name:y,toggleConfig:k}=i,C=[],M=null,E=null,F=!1,N=NaN,A="value"in i?i.value:y in l?l[y]:void 0;return k=n.view.composeConfig({view:"toggle",onToggle:c},k),f&&(M=document.createElement("div"),M.className="view-toggle-group-before"),d&&(E=document.createElement("div"),E.className="view-toggle-group-after"),typeof y!="string"&&(y="filter"),Array.isArray(o)&&(C=o.map(b=>{let L=typeof b;return(L==="string"||L==="number"||L==="boolean")&&(b={value:b}),(A===void 0||b.active)&&(A=b.value),n.view.composeConfig(k,b)})),c(!0,A)},{usage:Ha})}var yv=z(()=>{uf()});function Xe(n){return n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Dt(n,e=!0){let i=e&&typeof n!="number"?Xe(String(n)):String(n);return i.length>3?i.replace(jM,o=>o||'<span class="num-delim"></span>'):i}var jM,Qt=z(()=>{jM=/\.\d+(?:eE[-+]?\d+)?|\B(?=(?:\d{3})+(?:\D|$))/g});var An=Ct((cf,ff)=>{(function(n,e){typeof cf=="object"&&typeof ff<"u"?ff.exports=e():typeof define=="function"&&define.amd?define(e):(n=n||self,n.CodeMirror=e())})(cf,function(){"use strict";var n=navigator.userAgent,e=navigator.platform,i=/gecko\/\d/i.test(n),o=/MSIE \d/.test(n),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(n),c=/Edge\/(\d+)/.exec(n),f=o||l||c,d=f&&(o?document.documentMode||6:+(c||l)[1]),g=!c&&/WebKit\//.test(n),m=g&&/Qt\/\d+\.\d+/.test(n),y=!c&&/Chrome\/(\d+)/.exec(n),k=y&&+y[1],C=/Opera\//.test(n),M=/Apple Computer/.test(navigator.vendor),E=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(n),F=/PhantomJS/.test(n),N=M&&(/Mobile\/\w+/.test(n)||navigator.maxTouchPoints>2),A=/Android/.test(n),b=N||A||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(n),L=N||/Mac/.test(e),T=/\bCrOS\b/.test(n),I=/win/i.test(e),B=C&&n.match(/Version\/(\d*\.\d*)/);B&&(B=Number(B[1])),B&&B>=15&&(C=!1,g=!0);var R=L&&(m||C&&(B==null||B<12.11)),U=i||f&&d>=9;function W(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var ne=function(t,r){var a=t.className,s=W(r).exec(a);if(s){var u=a.slice(s.index+s[0].length);t.className=a.slice(0,s.index)+(u?s[1]+u:"")}};function q(t){for(var r=t.childNodes.length;r>0;--r)t.removeChild(t.firstChild);return t}function Z(t,r){return q(t).appendChild(r)}function S(t,r,a,s){var u=document.createElement(t);if(a&&(u.className=a),s&&(u.style.cssText=s),typeof r=="string")u.appendChild(document.createTextNode(r));else if(r)for(var p=0;p<r.length;++p)u.appendChild(r[p]);return u}function X(t,r,a,s){var u=S(t,r,a,s);return u.setAttribute("role","presentation"),u}var ee;document.createRange?ee=function(t,r,a,s){var u=document.createRange();return u.setEnd(s||t,a),u.setStart(t,r),u}:ee=function(t,r,a){var s=document.body.createTextRange();try{s.moveToElementText(t.parentNode)}catch{return s}return s.collapse(!0),s.moveEnd("character",a),s.moveStart("character",r),s};function pe(t,r){if(r.nodeType==3&&(r=r.parentNode),t.contains)return t.contains(r);do if(r.nodeType==11&&(r=r.host),r==t)return!0;while(r=r.parentNode)}function De(t){var r=t.ownerDocument||t,a;try{a=t.activeElement}catch{a=r.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function Pe(t,r){var a=t.className;W(r).test(a)||(t.className+=(a?" ":"")+r)}function et(t,r){for(var a=t.split(" "),s=0;s<a.length;s++)a[s]&&!W(a[s]).test(r)&&(r+=" "+a[s]);return r}var nt=function(t){t.select()};N?nt=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:f&&(nt=function(t){try{t.select()}catch{}});function Ye(t){return t.display.wrapper.ownerDocument}function yt(t){return je(t.display.wrapper)}function je(t){return t.getRootNode?t.getRootNode():t.ownerDocument}function xe(t){return Ye(t).defaultView}function we(t){var r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,r)}}function V(t,r,a){r||(r={});for(var s in t)t.hasOwnProperty(s)&&(a!==!1||!r.hasOwnProperty(s))&&(r[s]=t[s]);return r}function le(t,r,a,s,u){r==null&&(r=t.search(/[^\s\u00a0]/),r==-1&&(r=t.length));for(var p=s||0,h=u||0;;){var v=t.indexOf("	",p);if(v<0||v>=r)return h+(r-p);h+=v-p,h+=a-h%a,p=v+1}}var re=function(){this.id=null,this.f=null,this.time=0,this.handler=we(this.onTimeout,this)};re.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},re.prototype.set=function(t,r){this.f=r;var a=+new Date+t;(!this.id||a<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=a)};function ie(t,r){for(var a=0;a<t.length;++a)if(t[a]==r)return a;return-1}var Ee=50,Ce={toString:function(){return"CodeMirror.Pass"}},be={scroll:!1},$e={origin:"*mouse"},Me={origin:"+move"};function Ue(t,r,a){for(var s=0,u=0;;){var p=t.indexOf("	",s);p==-1&&(p=t.length);var h=p-s;if(p==t.length||u+h>=r)return s+Math.min(h,r-u);if(u+=p-s,u+=a-u%a,s=p+1,u>=r)return s}}var ut=[""];function at(t){for(;ut.length<=t;)ut.push(Te(ut)+" ");return ut[t]}function Te(t){return t[t.length-1]}function He(t,r){for(var a=[],s=0;s<t.length;s++)a[s]=r(t[s],s);return a}function G(t,r,a){for(var s=0,u=a(r);s<t.length&&a(t[s])<=u;)s++;t.splice(s,0,r)}function ae(){}function K(t,r){var a;return Object.create?a=Object.create(t):(ae.prototype=t,a=new ae),r&&V(r,a),a}var Ne=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function vt(t){return/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||Ne.test(t))}function Sn(t,r){return r?r.source.indexOf("\\w")>-1&&vt(t)?!0:r.test(t):vt(t)}function ps(t){for(var r in t)if(t.hasOwnProperty(r)&&t[r])return!1;return!0}var En=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function rt(t){return t.charCodeAt(0)>=768&&En.test(t)}function zn(t,r,a){for(;(a<0?r>0:r<t.length)&&rt(t.charAt(r));)r+=a;return r}function wn(t,r,a){for(var s=r>a?-1:1;;){if(r==a)return r;var u=(r+a)/2,p=s<0?Math.ceil(u):Math.floor(u);if(p==r)return t(p)?r:a;t(p)?a=p:r=p+s}}function Rn(t,r,a,s){if(!t)return s(r,a,"ltr",0);for(var u=!1,p=0;p<t.length;++p){var h=t[p];(h.from<a&&h.to>r||r==a&&h.to==r)&&(s(Math.max(h.from,r),Math.min(h.to,a),h.level==1?"rtl":"ltr",p),u=!0)}u||s(r,a,"ltr")}var fr=null;function Hn(t,r,a){var s;fr=null;for(var u=0;u<t.length;++u){var p=t[u];if(p.from<r&&p.to>r)return u;p.to==r&&(p.from!=p.to&&a=="before"?s=u:fr=u),p.from==r&&(p.from!=p.to&&a!="before"?s=u:fr=u)}return s??fr}var al=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function a(x){return x<=247?t.charAt(x):1424<=x&&x<=1524?"R":1536<=x&&x<=1785?r.charAt(x-1536):1774<=x&&x<=2220?"r":8192<=x&&x<=8203?"w":x==8204?"b":"L"}var s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,u=/[stwN]/,p=/[LRr]/,h=/[Lb1n]/,v=/[1n]/;function w(x,O,j){this.level=x,this.from=O,this.to=j}return function(x,O){var j=O=="ltr"?"L":"R";if(x.length==0||O=="ltr"&&!s.test(x))return!1;for(var _=x.length,H=[],Q=0;Q<_;++Q)H.push(a(x.charCodeAt(Q)));for(var te=0,se=j;te<_;++te){var ue=H[te];ue=="m"?H[te]=se:se=ue}for(var de=0,ce=j;de<_;++de){var he=H[de];he=="1"&&ce=="r"?H[de]="n":p.test(he)&&(ce=he,he=="r"&&(H[de]="R"))}for(var ve=1,me=H[0];ve<_-1;++ve){var Se=H[ve];Se=="+"&&me=="1"&&H[ve+1]=="1"?H[ve]="1":Se==","&&me==H[ve+1]&&(me=="1"||me=="n")&&(H[ve]=me),me=Se}for(var qe=0;qe<_;++qe){var ht=H[qe];if(ht==",")H[qe]="N";else if(ht=="%"){var Ve=void 0;for(Ve=qe+1;Ve<_&&H[Ve]=="%";++Ve);for(var zt=qe&&H[qe-1]=="!"||Ve<_&&H[Ve]=="1"?"1":"N",Ot=qe;Ot<Ve;++Ot)H[Ot]=zt;qe=Ve-1}}for(var it=0,It=j;it<_;++it){var mt=H[it];It=="L"&&mt=="1"?H[it]="L":p.test(mt)&&(It=mt)}for(var lt=0;lt<_;++lt)if(u.test(H[lt])){var ot=void 0;for(ot=lt+1;ot<_&&u.test(H[ot]);++ot);for(var Je=(lt?H[lt-1]:j)=="L",Bt=(ot<_?H[ot]:j)=="L",di=Je==Bt?Je?"L":"R":j,Xn=lt;Xn<ot;++Xn)H[Xn]=di;lt=ot-1}for(var kt=[],Dn,gt=0;gt<_;)if(h.test(H[gt])){var tu=gt;for(++gt;gt<_&&h.test(H[gt]);++gt);kt.push(new w(0,tu,gt))}else{var Bn=gt,xr=kt.length,kr=O=="rtl"?1:0;for(++gt;gt<_&&H[gt]!="L";++gt);for(var St=Bn;St<gt;)if(v.test(H[St])){Bn<St&&(kt.splice(xr,0,new w(1,Bn,St)),xr+=kr);var pi=St;for(++St;St<gt&&v.test(H[St]);++St);kt.splice(xr,0,new w(2,pi,St)),xr+=kr,Bn=St}else++St;Bn<gt&&kt.splice(xr,0,new w(1,Bn,gt))}return O=="ltr"&&(kt[0].level==1&&(Dn=x.match(/^\s+/))&&(kt[0].from=Dn[0].length,kt.unshift(new w(0,0,Dn[0].length))),Te(kt).level==1&&(Dn=x.match(/\s+$/))&&(Te(kt).to-=Dn[0].length,kt.push(new w(0,_-Dn[0].length,_)))),O=="rtl"?kt.reverse():kt}}();function Le(t,r){var a=t.order;return a==null&&(a=t.order=al(t.text,r)),a}var hs=[],ye=function(t,r,a){if(t.addEventListener)t.addEventListener(r,a,!1);else if(t.attachEvent)t.attachEvent("on"+r,a);else{var s=t._handlers||(t._handlers={});s[r]=(s[r]||hs).concat(a)}};function Mn(t,r){return t._handlers&&t._handlers[r]||hs}function wt(t,r,a){if(t.removeEventListener)t.removeEventListener(r,a,!1);else if(t.detachEvent)t.detachEvent("on"+r,a);else{var s=t._handlers,u=s&&s[r];if(u){var p=ie(u,a);p>-1&&(s[r]=u.slice(0,p).concat(u.slice(p+1)))}}}function Qe(t,r){var a=Mn(t,r);if(a.length)for(var s=Array.prototype.slice.call(arguments,2),u=0;u<a.length;++u)a[u].apply(null,s)}function Ke(t,r,a){return typeof r=="string"&&(r={type:r,preventDefault:function(){this.defaultPrevented=!0}}),Qe(t,a||r.type,t,r),Lt(r)||r.codemirrorIgnore}function Zt(t){var r=t._handlers&&t._handlers.cursorActivity;if(r)for(var a=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),s=0;s<r.length;++s)ie(a,r[s])==-1&&a.push(r[s])}function Pt(t,r){return Mn(t,r).length>0}function nn(t){t.prototype.on=function(r,a){ye(this,r,a)},t.prototype.off=function(r,a){wt(this,r,a)}}function bt(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function qr(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function Lt(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function qn(t){bt(t),qr(t)}function Wi(t){return t.target||t.srcElement}function rn(t){var r=t.which;return r==null&&(t.button&1?r=1:t.button&2?r=3:t.button&4&&(r=2)),L&&t.ctrlKey&&r==1&&(r=3),r}var ll=function(){if(f&&d<9)return!1;var t=S("div");return"draggable"in t||"dragDrop"in t}(),_r;function gs(t){if(_r==null){var r=S("span","\u200B");Z(t,S("span",[r,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(_r=r.offsetWidth<=1&&r.offsetHeight>2&&!(f&&d<8))}var a=_r?S("span","\u200B"):S("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return a.setAttribute("cm-text",""),a}var $i;function _n(t){if($i!=null)return $i;var r=Z(t,document.createTextNode("A\u062EA")),a=ee(r,0,1).getBoundingClientRect(),s=ee(r,1,2).getBoundingClientRect();return q(t),!a||a.left==a.right?!1:$i=s.right-a.right<3}var Jt=`

b`.split(/\n/).length!=3?function(t){for(var r=0,a=[],s=t.length;r<=s;){var u=t.indexOf(`
`,r);u==-1&&(u=t.length);var p=t.slice(r,t.charAt(u-1)=="\r"?u-1:u),h=p.indexOf("\r");h!=-1?(a.push(p.slice(0,h)),r+=h+1):(a.push(p),r=u+1)}return a}:function(t){return t.split(/\r\n?|\n/)},Wn=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var r;try{r=t.ownerDocument.selection.createRange()}catch{}return!r||r.parentElement()!=t?!1:r.compareEndPoints("StartToEnd",r)!=0},ms=function(){var t=S("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")}(),on=null;function ul(t){if(on!=null)return on;var r=Z(t,S("span","x")),a=r.getBoundingClientRect(),s=ee(r,0,1).getBoundingClientRect();return on=Math.abs(a.left-s.left)>1}var Wr={},sn={};function an(t,r){arguments.length>2&&(r.dependencies=Array.prototype.slice.call(arguments,2)),Wr[t]=r}function dr(t,r){sn[t]=r}function $r(t){if(typeof t=="string"&&sn.hasOwnProperty(t))t=sn[t];else if(t&&typeof t.name=="string"&&sn.hasOwnProperty(t.name)){var r=sn[t.name];typeof r=="string"&&(r={name:r}),t=K(r,t),t.name=r.name}else{if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return $r("application/xml");if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return $r("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function Ur(t,r){r=$r(r);var a=Wr[r.name];if(!a)return Ur(t,"text/plain");var s=a(t,r);if($n.hasOwnProperty(r.name)){var u=$n[r.name];for(var p in u)u.hasOwnProperty(p)&&(s.hasOwnProperty(p)&&(s["_"+p]=s[p]),s[p]=u[p])}if(s.name=r.name,r.helperType&&(s.helperType=r.helperType),r.modeProps)for(var h in r.modeProps)s[h]=r.modeProps[h];return s}var $n={};function Gr(t,r){var a=$n.hasOwnProperty(t)?$n[t]:$n[t]={};V(r,a)}function bn(t,r){if(r===!0)return r;if(t.copyState)return t.copyState(r);var a={};for(var s in r){var u=r[s];u instanceof Array&&(u=u.concat([])),a[s]=u}return a}function Ui(t,r){for(var a;t.innerMode&&(a=t.innerMode(r),!(!a||a.mode==t));)r=a.state,t=a.mode;return a||{mode:t,state:r}}function Vr(t,r,a){return t.startState?t.startState(r,a):!0}var Ze=function(t,r,a){this.pos=this.start=0,this.string=t,this.tabSize=r||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=a};Ze.prototype.eol=function(){return this.pos>=this.string.length},Ze.prototype.sol=function(){return this.pos==this.lineStart},Ze.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ze.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ze.prototype.eat=function(t){var r=this.string.charAt(this.pos),a;if(typeof t=="string"?a=r==t:a=r&&(t.test?t.test(r):t(r)),a)return++this.pos,r},Ze.prototype.eatWhile=function(t){for(var r=this.pos;this.eat(t););return this.pos>r},Ze.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Ze.prototype.skipToEnd=function(){this.pos=this.string.length},Ze.prototype.skipTo=function(t){var r=this.string.indexOf(t,this.pos);if(r>-1)return this.pos=r,!0},Ze.prototype.backUp=function(t){this.pos-=t},Ze.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=le(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?le(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.indentation=function(){return le(this.string,null,this.tabSize)-(this.lineStart?le(this.string,this.lineStart,this.tabSize):0)},Ze.prototype.match=function(t,r,a){if(typeof t=="string"){var s=function(h){return a?h.toLowerCase():h},u=this.string.substr(this.pos,t.length);if(s(u)==s(t))return r!==!1&&(this.pos+=t.length),!0}else{var p=this.string.slice(this.pos).match(t);return p&&p.index>0?null:(p&&r!==!1&&(this.pos+=p[0].length),p)}},Ze.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ze.prototype.hideFirstChars=function(t,r){this.lineStart+=t;try{return r()}finally{this.lineStart-=t}},Ze.prototype.lookAhead=function(t){var r=this.lineOracle;return r&&r.lookAhead(t)},Ze.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function ge(t,r){if(r-=t.first,r<0||r>=t.size)throw new Error("There is no line "+(r+t.first)+" in the document.");for(var a=t;!a.lines;)for(var s=0;;++s){var u=a.children[s],p=u.chunkSize();if(r<p){a=u;break}r-=p}return a.lines[r]}function Ln(t,r,a){var s=[],u=r.line;return t.iter(r.line,a.line+1,function(p){var h=p.text;u==a.line&&(h=h.slice(0,a.ch)),u==r.line&&(h=h.slice(r.ch)),s.push(h),++u}),s}function Gi(t,r,a){var s=[];return t.iter(r,a,function(u){s.push(u.text)}),s}function Ut(t,r){var a=r-t.height;if(a)for(var s=t;s;s=s.parent)s.height+=a}function D(t){if(t.parent==null)return null;for(var r=t.parent,a=ie(r.lines,t),s=r.parent;s;r=s,s=s.parent)for(var u=0;s.children[u]!=r;++u)a+=s.children[u].chunkSize();return a+r.first}function P(t,r){var a=t.first;e:do{for(var s=0;s<t.children.length;++s){var u=t.children[s],p=u.height;if(r<p){t=u;continue e}r-=p,a+=u.chunkSize()}return a}while(!t.lines);for(var h=0;h<t.lines.length;++h){var v=t.lines[h],w=v.height;if(r<w)break;r-=w}return a+h}function J(t,r){return r>=t.first&&r<t.first+t.size}function oe(t,r){return String(t.lineNumberFormatter(r+t.firstLineNumber))}function Y(t,r,a){if(a===void 0&&(a=null),!(this instanceof Y))return new Y(t,r,a);this.line=t,this.ch=r,this.sticky=a}function fe(t,r){return t.line-r.line||t.ch-r.ch}function Ie(t,r){return t.sticky==r.sticky&&fe(t,r)==0}function ct(t){return Y(t.line,t.ch)}function Tt(t,r){return fe(t,r)<0?r:t}function Yr(t,r){return fe(t,r)<0?t:r}function dd(t,r){return Math.max(t.first,Math.min(r,t.first+t.size-1))}function ke(t,r){if(r.line<t.first)return Y(t.first,0);var a=t.first+t.size-1;return r.line>a?Y(a,ge(t,a).text.length):fk(r,ge(t,r.line).text.length)}function fk(t,r){var a=t.ch;return a==null||a>r?Y(t.line,r):a<0?Y(t.line,0):t}function pd(t,r){for(var a=[],s=0;s<r.length;s++)a[s]=ke(t,r[s]);return a}var ys=function(t,r){this.state=t,this.lookAhead=r},xn=function(t,r,a,s){this.state=r,this.doc=t,this.line=a,this.maxLookAhead=s||0,this.baseTokens=null,this.baseTokenPos=1};xn.prototype.lookAhead=function(t){var r=this.doc.getLine(this.line+t);return r!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),r},xn.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var r=this.baseTokens[this.baseTokenPos+1];return{type:r&&r.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},xn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},xn.fromSaved=function(t,r,a){return r instanceof ys?new xn(t,bn(t.mode,r.state),a,r.lookAhead):new xn(t,bn(t.mode,r),a)},xn.prototype.save=function(t){var r=t!==!1?bn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ys(r,this.maxLookAhead):r};function hd(t,r,a,s){var u=[t.state.modeGen],p={};bd(t,r.text,t.doc.mode,a,function(x,O){return u.push(x,O)},p,s);for(var h=a.state,v=function(x){a.baseTokens=u;var O=t.state.overlays[x],j=1,_=0;a.state=!0,bd(t,r.text,O.mode,a,function(H,Q){for(var te=j;_<H;){var se=u[j];se>H&&u.splice(j,1,H,u[j+1],se),j+=2,_=Math.min(H,se)}if(Q)if(O.opaque)u.splice(te,j-te,H,"overlay "+Q),j=te+2;else for(;te<j;te+=2){var ue=u[te+1];u[te+1]=(ue?ue+" ":"")+"overlay "+Q}},p),a.state=h,a.baseTokens=null,a.baseTokenPos=1},w=0;w<t.state.overlays.length;++w)v(w);return{styles:u,classes:p.bgClass||p.textClass?p:null}}function gd(t,r,a){if(!r.styles||r.styles[0]!=t.state.modeGen){var s=Vi(t,D(r)),u=r.text.length>t.options.maxHighlightLength&&bn(t.doc.mode,s.state),p=hd(t,r,s);u&&(s.state=u),r.stateAfter=s.save(!u),r.styles=p.styles,p.classes?r.styleClasses=p.classes:r.styleClasses&&(r.styleClasses=null),a===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return r.styles}function Vi(t,r,a){var s=t.doc,u=t.display;if(!s.mode.startState)return new xn(s,!0,r);var p=dk(t,r,a),h=p>s.first&&ge(s,p-1).stateAfter,v=h?xn.fromSaved(s,h,p):new xn(s,Vr(s.mode),p);return s.iter(p,r,function(w){cl(t,w.text,v);var x=v.line;w.stateAfter=x==r-1||x%5==0||x>=u.viewFrom&&x<u.viewTo?v.save():null,v.nextLine()}),a&&(s.modeFrontier=v.line),v}function cl(t,r,a,s){var u=t.doc.mode,p=new Ze(r,t.options.tabSize,a);for(p.start=p.pos=s||0,r==""&&md(u,a.state);!p.eol();)fl(u,p,a.state),p.start=p.pos}function md(t,r){if(t.blankLine)return t.blankLine(r);if(t.innerMode){var a=Ui(t,r);if(a.mode.blankLine)return a.mode.blankLine(a.state)}}function fl(t,r,a,s){for(var u=0;u<10;u++){s&&(s[0]=Ui(t,a).mode);var p=t.token(r,a);if(r.pos>r.start)return p}throw new Error("Mode "+t.name+" failed to advance stream.")}var yd=function(t,r,a){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=r||null,this.state=a};function vd(t,r,a,s){var u=t.doc,p=u.mode,h;r=ke(u,r);var v=ge(u,r.line),w=Vi(t,r.line,a),x=new Ze(v.text,t.options.tabSize,w),O;for(s&&(O=[]);(s||x.pos<r.ch)&&!x.eol();)x.start=x.pos,h=fl(p,x,w.state),s&&O.push(new yd(x,h,bn(u.mode,w.state)));return s?O:new yd(x,h,w.state)}function wd(t,r){if(t)for(;;){var a=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!a)break;t=t.slice(0,a.index)+t.slice(a.index+a[0].length);var s=a[1]?"bgClass":"textClass";r[s]==null?r[s]=a[2]:new RegExp("(?:^|\\s)"+a[2]+"(?:$|\\s)").test(r[s])||(r[s]+=" "+a[2])}return t}function bd(t,r,a,s,u,p,h){var v=a.flattenSpans;v==null&&(v=t.options.flattenSpans);var w=0,x=null,O=new Ze(r,t.options.tabSize,s),j,_=t.options.addModeClass&&[null];for(r==""&&wd(md(a,s.state),p);!O.eol();){if(O.pos>t.options.maxHighlightLength?(v=!1,h&&cl(t,r,s,O.pos),O.pos=r.length,j=null):j=wd(fl(a,O,s.state,_),p),_){var H=_[0].name;H&&(j="m-"+(j?H+" "+j:H))}if(!v||x!=j){for(;w<O.start;)w=Math.min(O.start,w+5e3),u(w,x);x=j}O.start=O.pos}for(;w<O.pos;){var Q=Math.min(O.pos,w+5e3);u(Q,x),w=Q}}function dk(t,r,a){for(var s,u,p=t.doc,h=a?-1:r-(t.doc.mode.innerMode?1e3:100),v=r;v>h;--v){if(v<=p.first)return p.first;var w=ge(p,v-1),x=w.stateAfter;if(x&&(!a||v+(x instanceof ys?x.lookAhead:0)<=p.modeFrontier))return v;var O=le(w.text,null,t.options.tabSize);(u==null||s>O)&&(u=v-1,s=O)}return u}function pk(t,r){if(t.modeFrontier=Math.min(t.modeFrontier,r),!(t.highlightFrontier<r-10)){for(var a=t.first,s=r-1;s>a;s--){var u=ge(t,s).stateAfter;if(u&&(!(u instanceof ys)||s+u.lookAhead<r)){a=s+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,a)}}var xd=!1,Tn=!1;function hk(){xd=!0}function gk(){Tn=!0}function vs(t,r,a){this.marker=t,this.from=r,this.to=a}function Yi(t,r){if(t)for(var a=0;a<t.length;++a){var s=t[a];if(s.marker==r)return s}}function mk(t,r){for(var a,s=0;s<t.length;++s)t[s]!=r&&(a||(a=[])).push(t[s]);return a}function yk(t,r,a){var s=a&&window.WeakSet&&(a.markedSpans||(a.markedSpans=new WeakSet));s&&t.markedSpans&&s.has(t.markedSpans)?t.markedSpans.push(r):(t.markedSpans=t.markedSpans?t.markedSpans.concat([r]):[r],s&&s.add(t.markedSpans)),r.marker.attachLine(t)}function vk(t,r,a){var s;if(t)for(var u=0;u<t.length;++u){var p=t[u],h=p.marker,v=p.from==null||(h.inclusiveLeft?p.from<=r:p.from<r);if(v||p.from==r&&h.type=="bookmark"&&(!a||!p.marker.insertLeft)){var w=p.to==null||(h.inclusiveRight?p.to>=r:p.to>r);(s||(s=[])).push(new vs(h,p.from,w?null:p.to))}}return s}function wk(t,r,a){var s;if(t)for(var u=0;u<t.length;++u){var p=t[u],h=p.marker,v=p.to==null||(h.inclusiveRight?p.to>=r:p.to>r);if(v||p.from==r&&h.type=="bookmark"&&(!a||p.marker.insertLeft)){var w=p.from==null||(h.inclusiveLeft?p.from<=r:p.from<r);(s||(s=[])).push(new vs(h,w?null:p.from-r,p.to==null?null:p.to-r))}}return s}function dl(t,r){if(r.full)return null;var a=J(t,r.from.line)&&ge(t,r.from.line).markedSpans,s=J(t,r.to.line)&&ge(t,r.to.line).markedSpans;if(!a&&!s)return null;var u=r.from.ch,p=r.to.ch,h=fe(r.from,r.to)==0,v=vk(a,u,h),w=wk(s,p,h),x=r.text.length==1,O=Te(r.text).length+(x?u:0);if(v)for(var j=0;j<v.length;++j){var _=v[j];if(_.to==null){var H=Yi(w,_.marker);H?x&&(_.to=H.to==null?null:H.to+O):_.to=u}}if(w)for(var Q=0;Q<w.length;++Q){var te=w[Q];if(te.to!=null&&(te.to+=O),te.from==null){var se=Yi(v,te.marker);se||(te.from=O,x&&(v||(v=[])).push(te))}else te.from+=O,x&&(v||(v=[])).push(te)}v&&(v=kd(v)),w&&w!=v&&(w=kd(w));var ue=[v];if(!x){var de=r.text.length-2,ce;if(de>0&&v)for(var he=0;he<v.length;++he)v[he].to==null&&(ce||(ce=[])).push(new vs(v[he].marker,null,null));for(var ve=0;ve<de;++ve)ue.push(ce);ue.push(w)}return ue}function kd(t){for(var r=0;r<t.length;++r){var a=t[r];a.from!=null&&a.from==a.to&&a.marker.clearWhenEmpty!==!1&&t.splice(r--,1)}return t.length?t:null}function bk(t,r,a){var s=null;if(t.iter(r.line,a.line+1,function(H){if(H.markedSpans)for(var Q=0;Q<H.markedSpans.length;++Q){var te=H.markedSpans[Q].marker;te.readOnly&&(!s||ie(s,te)==-1)&&(s||(s=[])).push(te)}}),!s)return null;for(var u=[{from:r,to:a}],p=0;p<s.length;++p)for(var h=s[p],v=h.find(0),w=0;w<u.length;++w){var x=u[w];if(!(fe(x.to,v.from)<0||fe(x.from,v.to)>0)){var O=[w,1],j=fe(x.from,v.from),_=fe(x.to,v.to);(j<0||!h.inclusiveLeft&&!j)&&O.push({from:x.from,to:v.from}),(_>0||!h.inclusiveRight&&!_)&&O.push({from:v.to,to:x.to}),u.splice.apply(u,O),w+=O.length-3}}return u}function Cd(t){var r=t.markedSpans;if(r){for(var a=0;a<r.length;++a)r[a].marker.detachLine(t);t.markedSpans=null}}function Dd(t,r){if(r){for(var a=0;a<r.length;++a)r[a].marker.attachLine(t);t.markedSpans=r}}function ws(t){return t.inclusiveLeft?-1:0}function bs(t){return t.inclusiveRight?1:0}function pl(t,r){var a=t.lines.length-r.lines.length;if(a!=0)return a;var s=t.find(),u=r.find(),p=fe(s.from,u.from)||ws(t)-ws(r);if(p)return-p;var h=fe(s.to,u.to)||bs(t)-bs(r);return h||r.id-t.id}function Ad(t,r){var a=Tn&&t.markedSpans,s;if(a)for(var u=void 0,p=0;p<a.length;++p)u=a[p],u.marker.collapsed&&(r?u.from:u.to)==null&&(!s||pl(s,u.marker)<0)&&(s=u.marker);return s}function Sd(t){return Ad(t,!0)}function xs(t){return Ad(t,!1)}function xk(t,r){var a=Tn&&t.markedSpans,s;if(a)for(var u=0;u<a.length;++u){var p=a[u];p.marker.collapsed&&(p.from==null||p.from<r)&&(p.to==null||p.to>r)&&(!s||pl(s,p.marker)<0)&&(s=p.marker)}return s}function Ed(t,r,a,s,u){var p=ge(t,r),h=Tn&&p.markedSpans;if(h)for(var v=0;v<h.length;++v){var w=h[v];if(w.marker.collapsed){var x=w.marker.find(0),O=fe(x.from,a)||ws(w.marker)-ws(u),j=fe(x.to,s)||bs(w.marker)-bs(u);if(!(O>=0&&j<=0||O<=0&&j>=0)&&(O<=0&&(w.marker.inclusiveRight&&u.inclusiveLeft?fe(x.to,a)>=0:fe(x.to,a)>0)||O>=0&&(w.marker.inclusiveRight&&u.inclusiveLeft?fe(x.from,s)<=0:fe(x.from,s)<0)))return!0}}}function ln(t){for(var r;r=Sd(t);)t=r.find(-1,!0).line;return t}function kk(t){for(var r;r=xs(t);)t=r.find(1,!0).line;return t}function Ck(t){for(var r,a;r=xs(t);)t=r.find(1,!0).line,(a||(a=[])).push(t);return a}function hl(t,r){var a=ge(t,r),s=ln(a);return a==s?r:D(s)}function Md(t,r){if(r>t.lastLine())return r;var a=ge(t,r),s;if(!Un(t,a))return r;for(;s=xs(a);)a=s.find(1,!0).line;return D(a)+1}function Un(t,r){var a=Tn&&r.markedSpans;if(a){for(var s=void 0,u=0;u<a.length;++u)if(s=a[u],!!s.marker.collapsed){if(s.from==null)return!0;if(!s.marker.widgetNode&&s.from==0&&s.marker.inclusiveLeft&&gl(t,r,s))return!0}}}function gl(t,r,a){if(a.to==null){var s=a.marker.find(1,!0);return gl(t,s.line,Yi(s.line.markedSpans,a.marker))}if(a.marker.inclusiveRight&&a.to==r.text.length)return!0;for(var u=void 0,p=0;p<r.markedSpans.length;++p)if(u=r.markedSpans[p],u.marker.collapsed&&!u.marker.widgetNode&&u.from==a.to&&(u.to==null||u.to!=a.from)&&(u.marker.inclusiveLeft||a.marker.inclusiveRight)&&gl(t,r,u))return!0}function Fn(t){t=ln(t);for(var r=0,a=t.parent,s=0;s<a.lines.length;++s){var u=a.lines[s];if(u==t)break;r+=u.height}for(var p=a.parent;p;a=p,p=a.parent)for(var h=0;h<p.children.length;++h){var v=p.children[h];if(v==a)break;r+=v.height}return r}function ks(t){if(t.height==0)return 0;for(var r=t.text.length,a,s=t;a=Sd(s);){var u=a.find(0,!0);s=u.from.line,r+=u.from.ch-u.to.ch}for(s=t;a=xs(s);){var p=a.find(0,!0);r-=s.text.length-p.from.ch,s=p.to.line,r+=s.text.length-p.to.ch}return r}function ml(t){var r=t.display,a=t.doc;r.maxLine=ge(a,a.first),r.maxLineLength=ks(r.maxLine),r.maxLineChanged=!0,a.iter(function(s){var u=ks(s);u>r.maxLineLength&&(r.maxLineLength=u,r.maxLine=s)})}var Qr=function(t,r,a){this.text=t,Dd(this,r),this.height=a?a(this):1};Qr.prototype.lineNo=function(){return D(this)},nn(Qr);function Dk(t,r,a,s){t.text=r,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),Cd(t),Dd(t,a);var u=s?s(t):1;u!=t.height&&Ut(t,u)}function Ak(t){t.parent=null,Cd(t)}var Sk={},Ek={};function Ld(t,r){if(!t||/^\s*$/.test(t))return null;var a=r.addModeClass?Ek:Sk;return a[t]||(a[t]=t.replace(/\S+/g,"cm-$&"))}function Td(t,r){var a=X("span",null,null,g?"padding-right: .1px":null),s={pre:X("pre",[a],"CodeMirror-line"),content:a,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};r.measure={};for(var u=0;u<=(r.rest?r.rest.length:0);u++){var p=u?r.rest[u-1]:r.line,h=void 0;s.pos=0,s.addToken=Lk,_n(t.display.measure)&&(h=Le(p,t.doc.direction))&&(s.addToken=Fk(s.addToken,h)),s.map=[];var v=r!=t.display.externalMeasured&&D(p);Nk(p,s,gd(t,p,v)),p.styleClasses&&(p.styleClasses.bgClass&&(s.bgClass=et(p.styleClasses.bgClass,s.bgClass||"")),p.styleClasses.textClass&&(s.textClass=et(p.styleClasses.textClass,s.textClass||""))),s.map.length==0&&s.map.push(0,0,s.content.appendChild(gs(t.display.measure))),u==0?(r.measure.map=s.map,r.measure.cache={}):((r.measure.maps||(r.measure.maps=[])).push(s.map),(r.measure.caches||(r.measure.caches=[])).push({}))}if(g){var w=s.content.lastChild;(/\bcm-tab\b/.test(w.className)||w.querySelector&&w.querySelector(".cm-tab"))&&(s.content.className="cm-tab-wrap-hack")}return Qe(t,"renderLine",t,r.line,s.pre),s.pre.className&&(s.textClass=et(s.pre.className,s.textClass||"")),s}function Mk(t){var r=S("span","\u2022","cm-invalidchar");return r.title="\\u"+t.charCodeAt(0).toString(16),r.setAttribute("aria-label",r.title),r}function Lk(t,r,a,s,u,p,h){if(r){var v=t.splitSpaces?Tk(r,t.trailingSpace):r,w=t.cm.state.specialChars,x=!1,O;if(!w.test(r))t.col+=r.length,O=document.createTextNode(v),t.map.push(t.pos,t.pos+r.length,O),f&&d<9&&(x=!0),t.pos+=r.length;else{O=document.createDocumentFragment();for(var j=0;;){w.lastIndex=j;var _=w.exec(r),H=_?_.index-j:r.length-j;if(H){var Q=document.createTextNode(v.slice(j,j+H));f&&d<9?O.appendChild(S("span",[Q])):O.appendChild(Q),t.map.push(t.pos,t.pos+H,Q),t.col+=H,t.pos+=H}if(!_)break;j+=H+1;var te=void 0;if(_[0]=="	"){var se=t.cm.options.tabSize,ue=se-t.col%se;te=O.appendChild(S("span",at(ue),"cm-tab")),te.setAttribute("role","presentation"),te.setAttribute("cm-text","	"),t.col+=ue}else _[0]=="\r"||_[0]==`
`?(te=O.appendChild(S("span",_[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),te.setAttribute("cm-text",_[0]),t.col+=1):(te=t.cm.options.specialCharPlaceholder(_[0]),te.setAttribute("cm-text",_[0]),f&&d<9?O.appendChild(S("span",[te])):O.appendChild(te),t.col+=1);t.map.push(t.pos,t.pos+1,te),t.pos++}}if(t.trailingSpace=v.charCodeAt(r.length-1)==32,a||s||u||x||p||h){var de=a||"";s&&(de+=s),u&&(de+=u);var ce=S("span",[O],de,p);if(h)for(var he in h)h.hasOwnProperty(he)&&he!="style"&&he!="class"&&ce.setAttribute(he,h[he]);return t.content.appendChild(ce)}t.content.appendChild(O)}}function Tk(t,r){if(t.length>1&&!/  /.test(t))return t;for(var a=r,s="",u=0;u<t.length;u++){var p=t.charAt(u);p==" "&&a&&(u==t.length-1||t.charCodeAt(u+1)==32)&&(p="\xA0"),s+=p,a=p==" "}return s}function Fk(t,r){return function(a,s,u,p,h,v,w){u=u?u+" cm-force-border":"cm-force-border";for(var x=a.pos,O=x+s.length;;){for(var j=void 0,_=0;_<r.length&&(j=r[_],!(j.to>x&&j.from<=x));_++);if(j.to>=O)return t(a,s,u,p,h,v,w);t(a,s.slice(0,j.to-x),u,p,null,v,w),p=null,s=s.slice(j.to-x),x=j.to}}}function Fd(t,r,a,s){var u=!s&&a.widgetNode;u&&t.map.push(t.pos,t.pos+r,u),!s&&t.cm.display.input.needsContentAttribute&&(u||(u=t.content.appendChild(document.createElement("span"))),u.setAttribute("cm-marker",a.id)),u&&(t.cm.display.input.setUneditable(u),t.content.appendChild(u)),t.pos+=r,t.trailingSpace=!1}function Nk(t,r,a){var s=t.markedSpans,u=t.text,p=0;if(!s){for(var h=1;h<a.length;h+=2)r.addToken(r,u.slice(p,p=a[h]),Ld(a[h+1],r.cm.options));return}for(var v=u.length,w=0,x=1,O="",j,_,H=0,Q,te,se,ue,de;;){if(H==w){Q=te=se=_="",de=null,ue=null,H=1/0;for(var ce=[],he=void 0,ve=0;ve<s.length;++ve){var me=s[ve],Se=me.marker;if(Se.type=="bookmark"&&me.from==w&&Se.widgetNode)ce.push(Se);else if(me.from<=w&&(me.to==null||me.to>w||Se.collapsed&&me.to==w&&me.from==w)){if(me.to!=null&&me.to!=w&&H>me.to&&(H=me.to,te=""),Se.className&&(Q+=" "+Se.className),Se.css&&(_=(_?_+";":"")+Se.css),Se.startStyle&&me.from==w&&(se+=" "+Se.startStyle),Se.endStyle&&me.to==H&&(he||(he=[])).push(Se.endStyle,me.to),Se.title&&((de||(de={})).title=Se.title),Se.attributes)for(var qe in Se.attributes)(de||(de={}))[qe]=Se.attributes[qe];Se.collapsed&&(!ue||pl(ue.marker,Se)<0)&&(ue=me)}else me.from>w&&H>me.from&&(H=me.from)}if(he)for(var ht=0;ht<he.length;ht+=2)he[ht+1]==H&&(te+=" "+he[ht]);if(!ue||ue.from==w)for(var Ve=0;Ve<ce.length;++Ve)Fd(r,0,ce[Ve]);if(ue&&(ue.from||0)==w){if(Fd(r,(ue.to==null?v+1:ue.to)-w,ue.marker,ue.from==null),ue.to==null)return;ue.to==w&&(ue=!1)}}if(w>=v)break;for(var zt=Math.min(v,H);;){if(O){var Ot=w+O.length;if(!ue){var it=Ot>zt?O.slice(0,zt-w):O;r.addToken(r,it,j?j+Q:Q,se,w+it.length==H?te:"",_,de)}if(Ot>=zt){O=O.slice(zt-w),w=zt;break}w=Ot,se=""}O=u.slice(p,p=a[x++]),j=Ld(a[x++],r.cm.options)}}}function Nd(t,r,a){this.line=r,this.rest=Ck(r),this.size=this.rest?D(Te(this.rest))-a+1:1,this.node=this.text=null,this.hidden=Un(t,r)}function Cs(t,r,a){for(var s=[],u,p=r;p<a;p=u){var h=new Nd(t.doc,ge(t.doc,p),p);u=p+h.size,s.push(h)}return s}var Kr=null;function Ok(t){Kr?Kr.ops.push(t):t.ownsGroup=Kr={ops:[t],delayedCallbacks:[]}}function Ik(t){var r=t.delayedCallbacks,a=0;do{for(;a<r.length;a++)r[a].call(null);for(var s=0;s<t.ops.length;s++){var u=t.ops[s];if(u.cursorActivityHandlers)for(;u.cursorActivityCalled<u.cursorActivityHandlers.length;)u.cursorActivityHandlers[u.cursorActivityCalled++].call(null,u.cm)}}while(a<r.length)}function Bk(t,r){var a=t.ownsGroup;if(a)try{Ik(a)}finally{Kr=null,r(a)}}var Qi=null;function ft(t,r){var a=Mn(t,r);if(a.length){var s=Array.prototype.slice.call(arguments,2),u;Kr?u=Kr.delayedCallbacks:Qi?u=Qi:(u=Qi=[],setTimeout(Pk,0));for(var p=function(v){u.push(function(){return a[v].apply(null,s)})},h=0;h<a.length;++h)p(h)}}function Pk(){var t=Qi;Qi=null;for(var r=0;r<t.length;++r)t[r]()}function Od(t,r,a,s){for(var u=0;u<r.changes.length;u++){var p=r.changes[u];p=="text"?zk(t,r):p=="gutter"?Bd(t,r,a,s):p=="class"?yl(t,r):p=="widget"&&Rk(t,r,s)}r.changes=null}function Ki(t){return t.node==t.text&&(t.node=S("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),f&&d<8&&(t.node.style.zIndex=2)),t.node}function jk(t,r){var a=r.bgClass?r.bgClass+" "+(r.line.bgClass||""):r.line.bgClass;if(a&&(a+=" CodeMirror-linebackground"),r.background)a?r.background.className=a:(r.background.parentNode.removeChild(r.background),r.background=null);else if(a){var s=Ki(r);r.background=s.insertBefore(S("div",null,a),s.firstChild),t.display.input.setUneditable(r.background)}}function Id(t,r){var a=t.display.externalMeasured;return a&&a.line==r.line?(t.display.externalMeasured=null,r.measure=a.measure,a.built):Td(t,r)}function zk(t,r){var a=r.text.className,s=Id(t,r);r.text==r.node&&(r.node=s.pre),r.text.parentNode.replaceChild(s.pre,r.text),r.text=s.pre,s.bgClass!=r.bgClass||s.textClass!=r.textClass?(r.bgClass=s.bgClass,r.textClass=s.textClass,yl(t,r)):a&&(r.text.className=a)}function yl(t,r){jk(t,r),r.line.wrapClass?Ki(r).className=r.line.wrapClass:r.node!=r.text&&(r.node.className="");var a=r.textClass?r.textClass+" "+(r.line.textClass||""):r.line.textClass;r.text.className=a||""}function Bd(t,r,a,s){if(r.gutter&&(r.node.removeChild(r.gutter),r.gutter=null),r.gutterBackground&&(r.node.removeChild(r.gutterBackground),r.gutterBackground=null),r.line.gutterClass){var u=Ki(r);r.gutterBackground=S("div",null,"CodeMirror-gutter-background "+r.line.gutterClass,"left: "+(t.options.fixedGutter?s.fixedPos:-s.gutterTotalWidth)+"px; width: "+s.gutterTotalWidth+"px"),t.display.input.setUneditable(r.gutterBackground),u.insertBefore(r.gutterBackground,r.text)}var p=r.line.gutterMarkers;if(t.options.lineNumbers||p){var h=Ki(r),v=r.gutter=S("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?s.fixedPos:-s.gutterTotalWidth)+"px");if(v.setAttribute("aria-hidden","true"),t.display.input.setUneditable(v),h.insertBefore(v,r.text),r.line.gutterClass&&(v.className+=" "+r.line.gutterClass),t.options.lineNumbers&&(!p||!p["CodeMirror-linenumbers"])&&(r.lineNumber=v.appendChild(S("div",oe(t.options,a),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+s.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),p)for(var w=0;w<t.display.gutterSpecs.length;++w){var x=t.display.gutterSpecs[w].className,O=p.hasOwnProperty(x)&&p[x];O&&v.appendChild(S("div",[O],"CodeMirror-gutter-elt","left: "+s.gutterLeft[x]+"px; width: "+s.gutterWidth[x]+"px"))}}}function Rk(t,r,a){r.alignable&&(r.alignable=null);for(var s=W("CodeMirror-linewidget"),u=r.node.firstChild,p=void 0;u;u=p)p=u.nextSibling,s.test(u.className)&&r.node.removeChild(u);Pd(t,r,a)}function Hk(t,r,a,s){var u=Id(t,r);return r.text=r.node=u.pre,u.bgClass&&(r.bgClass=u.bgClass),u.textClass&&(r.textClass=u.textClass),yl(t,r),Bd(t,r,a,s),Pd(t,r,s),r.node}function Pd(t,r,a){if(jd(t,r.line,r,a,!0),r.rest)for(var s=0;s<r.rest.length;s++)jd(t,r.rest[s],r,a,!1)}function jd(t,r,a,s,u){if(r.widgets)for(var p=Ki(a),h=0,v=r.widgets;h<v.length;++h){var w=v[h],x=S("div",[w.node],"CodeMirror-linewidget"+(w.className?" "+w.className:""));w.handleMouseEvents||x.setAttribute("cm-ignore-events","true"),qk(w,x,a,s),t.display.input.setUneditable(x),u&&w.above?p.insertBefore(x,a.gutter||a.text):p.appendChild(x),ft(w,"redraw")}}function qk(t,r,a,s){if(t.noHScroll){(a.alignable||(a.alignable=[])).push(r);var u=s.wrapperWidth;r.style.left=s.fixedPos+"px",t.coverGutter||(u-=s.gutterTotalWidth,r.style.paddingLeft=s.gutterTotalWidth+"px"),r.style.width=u+"px"}t.coverGutter&&(r.style.zIndex=5,r.style.position="relative",t.noHScroll||(r.style.marginLeft=-s.gutterTotalWidth+"px"))}function Zi(t){if(t.height!=null)return t.height;var r=t.doc.cm;if(!r)return 0;if(!pe(document.body,t.node)){var a="position: relative;";t.coverGutter&&(a+="margin-left: -"+r.display.gutters.offsetWidth+"px;"),t.noHScroll&&(a+="width: "+r.display.wrapper.clientWidth+"px;"),Z(r.display.measure,S("div",[t.node],null,a))}return t.height=t.node.parentNode.offsetHeight}function Nn(t,r){for(var a=Wi(r);a!=t.wrapper;a=a.parentNode)if(!a||a.nodeType==1&&a.getAttribute("cm-ignore-events")=="true"||a.parentNode==t.sizer&&a!=t.mover)return!0}function Ds(t){return t.lineSpace.offsetTop}function vl(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function zd(t){if(t.cachedPaddingH)return t.cachedPaddingH;var r=Z(t.measure,S("pre","x","CodeMirror-line-like")),a=window.getComputedStyle?window.getComputedStyle(r):r.currentStyle,s={left:parseInt(a.paddingLeft),right:parseInt(a.paddingRight)};return!isNaN(s.left)&&!isNaN(s.right)&&(t.cachedPaddingH=s),s}function kn(t){return Ee-t.display.nativeBarWidth}function pr(t){return t.display.scroller.clientWidth-kn(t)-t.display.barWidth}function wl(t){return t.display.scroller.clientHeight-kn(t)-t.display.barHeight}function _k(t,r,a){var s=t.options.lineWrapping,u=s&&pr(t);if(!r.measure.heights||s&&r.measure.width!=u){var p=r.measure.heights=[];if(s){r.measure.width=u;for(var h=r.text.firstChild.getClientRects(),v=0;v<h.length-1;v++){var w=h[v],x=h[v+1];Math.abs(w.bottom-x.bottom)>2&&p.push((w.bottom+x.top)/2-a.top)}}p.push(a.bottom-a.top)}}function Rd(t,r,a){if(t.line==r)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var s=0;s<t.rest.length;s++)if(t.rest[s]==r)return{map:t.measure.maps[s],cache:t.measure.caches[s]};for(var u=0;u<t.rest.length;u++)if(D(t.rest[u])>a)return{map:t.measure.maps[u],cache:t.measure.caches[u],before:!0}}}function Wk(t,r){r=ln(r);var a=D(r),s=t.display.externalMeasured=new Nd(t.doc,r,a);s.lineN=a;var u=s.built=Td(t,s);return s.text=u.pre,Z(t.display.lineMeasure,u.pre),s}function Hd(t,r,a,s){return Cn(t,Zr(t,r),a,s)}function bl(t,r){if(r>=t.display.viewFrom&&r<t.display.viewTo)return t.display.view[mr(t,r)];var a=t.display.externalMeasured;if(a&&r>=a.lineN&&r<a.lineN+a.size)return a}function Zr(t,r){var a=D(r),s=bl(t,a);s&&!s.text?s=null:s&&s.changes&&(Od(t,s,a,Al(t)),t.curOp.forceUpdate=!0),s||(s=Wk(t,r));var u=Rd(s,r,a);return{line:r,view:s,rect:null,map:u.map,cache:u.cache,before:u.before,hasHeights:!1}}function Cn(t,r,a,s,u){r.before&&(a=-1);var p=a+(s||""),h;return r.cache.hasOwnProperty(p)?h=r.cache[p]:(r.rect||(r.rect=r.view.text.getBoundingClientRect()),r.hasHeights||(_k(t,r.view,r.rect),r.hasHeights=!0),h=Uk(t,r,a,s),h.bogus||(r.cache[p]=h)),{left:h.left,right:h.right,top:u?h.rtop:h.top,bottom:u?h.rbottom:h.bottom}}var qd={left:0,right:0,top:0,bottom:0};function _d(t,r,a){for(var s,u,p,h,v,w,x=0;x<t.length;x+=3)if(v=t[x],w=t[x+1],r<v?(u=0,p=1,h="left"):r<w?(u=r-v,p=u+1):(x==t.length-3||r==w&&t[x+3]>r)&&(p=w-v,u=p-1,r>=w&&(h="right")),u!=null){if(s=t[x+2],v==w&&a==(s.insertLeft?"left":"right")&&(h=a),a=="left"&&u==0)for(;x&&t[x-2]==t[x-3]&&t[x-1].insertLeft;)s=t[(x-=3)+2],h="left";if(a=="right"&&u==w-v)for(;x<t.length-3&&t[x+3]==t[x+4]&&!t[x+5].insertLeft;)s=t[(x+=3)+2],h="right";break}return{node:s,start:u,end:p,collapse:h,coverStart:v,coverEnd:w}}function $k(t,r){var a=qd;if(r=="left")for(var s=0;s<t.length&&(a=t[s]).left==a.right;s++);else for(var u=t.length-1;u>=0&&(a=t[u]).left==a.right;u--);return a}function Uk(t,r,a,s){var u=_d(r.map,a,s),p=u.node,h=u.start,v=u.end,w=u.collapse,x;if(p.nodeType==3){for(var O=0;O<4;O++){for(;h&&rt(r.line.text.charAt(u.coverStart+h));)--h;for(;u.coverStart+v<u.coverEnd&&rt(r.line.text.charAt(u.coverStart+v));)++v;if(f&&d<9&&h==0&&v==u.coverEnd-u.coverStart?x=p.parentNode.getBoundingClientRect():x=$k(ee(p,h,v).getClientRects(),s),x.left||x.right||h==0)break;v=h,h=h-1,w="right"}f&&d<11&&(x=Gk(t.display.measure,x))}else{h>0&&(w=s="right");var j;t.options.lineWrapping&&(j=p.getClientRects()).length>1?x=j[s=="right"?j.length-1:0]:x=p.getBoundingClientRect()}if(f&&d<9&&!h&&(!x||!x.left&&!x.right)){var _=p.parentNode.getClientRects()[0];_?x={left:_.left,right:_.left+Xr(t.display),top:_.top,bottom:_.bottom}:x=qd}for(var H=x.top-r.rect.top,Q=x.bottom-r.rect.top,te=(H+Q)/2,se=r.view.measure.heights,ue=0;ue<se.length-1&&!(te<se[ue]);ue++);var de=ue?se[ue-1]:0,ce=se[ue],he={left:(w=="right"?x.right:x.left)-r.rect.left,right:(w=="left"?x.left:x.right)-r.rect.left,top:de,bottom:ce};return!x.left&&!x.right&&(he.bogus=!0),t.options.singleCursorHeightPerLine||(he.rtop=H,he.rbottom=Q),he}function Gk(t,r){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ul(t))return r;var a=screen.logicalXDPI/screen.deviceXDPI,s=screen.logicalYDPI/screen.deviceYDPI;return{left:r.left*a,right:r.right*a,top:r.top*s,bottom:r.bottom*s}}function Wd(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var r=0;r<t.rest.length;r++)t.measure.caches[r]={}}function $d(t){t.display.externalMeasure=null,q(t.display.lineMeasure);for(var r=0;r<t.display.view.length;r++)Wd(t.display.view[r])}function Ji(t){$d(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function Ud(t){return y&&A?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function Gd(t){return y&&A?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function xl(t){var r=ln(t),a=r.widgets,s=0;if(a)for(var u=0;u<a.length;++u)a[u].above&&(s+=Zi(a[u]));return s}function As(t,r,a,s,u){if(!u){var p=xl(r);a.top+=p,a.bottom+=p}if(s=="line")return a;s||(s="local");var h=Fn(r);if(s=="local"?h+=Ds(t.display):h-=t.display.viewOffset,s=="page"||s=="window"){var v=t.display.lineSpace.getBoundingClientRect();h+=v.top+(s=="window"?0:Gd(Ye(t)));var w=v.left+(s=="window"?0:Ud(Ye(t)));a.left+=w,a.right+=w}return a.top+=h,a.bottom+=h,a}function Vd(t,r,a){if(a=="div")return r;var s=r.left,u=r.top;if(a=="page")s-=Ud(Ye(t)),u-=Gd(Ye(t));else if(a=="local"||!a){var p=t.display.sizer.getBoundingClientRect();s+=p.left,u+=p.top}var h=t.display.lineSpace.getBoundingClientRect();return{left:s-h.left,top:u-h.top}}function Ss(t,r,a,s,u){return s||(s=ge(t.doc,r.line)),As(t,s,Hd(t,s,r.ch,u),a)}function un(t,r,a,s,u,p){s=s||ge(t.doc,r.line),u||(u=Zr(t,s));function h(Q,te){var se=Cn(t,u,Q,te?"right":"left",p);return te?se.left=se.right:se.right=se.left,As(t,s,se,a)}var v=Le(s,t.doc.direction),w=r.ch,x=r.sticky;if(w>=s.text.length?(w=s.text.length,x="before"):w<=0&&(w=0,x="after"),!v)return h(x=="before"?w-1:w,x=="before");function O(Q,te,se){var ue=v[te],de=ue.level==1;return h(se?Q-1:Q,de!=se)}var j=Hn(v,w,x),_=fr,H=O(w,j,x=="before");return _!=null&&(H.other=O(w,_,x!="before")),H}function Yd(t,r){var a=0;r=ke(t.doc,r),t.options.lineWrapping||(a=Xr(t.display)*r.ch);var s=ge(t.doc,r.line),u=Fn(s)+Ds(t.display);return{left:a,right:a,top:u,bottom:u+s.height}}function kl(t,r,a,s,u){var p=Y(t,r,a);return p.xRel=u,s&&(p.outside=s),p}function Cl(t,r,a){var s=t.doc;if(a+=t.display.viewOffset,a<0)return kl(s.first,0,null,-1,-1);var u=P(s,a),p=s.first+s.size-1;if(u>p)return kl(s.first+s.size-1,ge(s,p).text.length,null,1,1);r<0&&(r=0);for(var h=ge(s,u);;){var v=Vk(t,h,u,r,a),w=xk(h,v.ch+(v.xRel>0||v.outside>0?1:0));if(!w)return v;var x=w.find(1);if(x.line==u)return x;h=ge(s,u=x.line)}}function Qd(t,r,a,s){s-=xl(r);var u=r.text.length,p=wn(function(h){return Cn(t,a,h-1).bottom<=s},u,0);return u=wn(function(h){return Cn(t,a,h).top>s},p,u),{begin:p,end:u}}function Kd(t,r,a,s){a||(a=Zr(t,r));var u=As(t,r,Cn(t,a,s),"line").top;return Qd(t,r,a,u)}function Dl(t,r,a,s){return t.bottom<=a?!1:t.top>a?!0:(s?t.left:t.right)>r}function Vk(t,r,a,s,u){u-=Fn(r);var p=Zr(t,r),h=xl(r),v=0,w=r.text.length,x=!0,O=Le(r,t.doc.direction);if(O){var j=(t.options.lineWrapping?Qk:Yk)(t,r,a,p,O,s,u);x=j.level!=1,v=x?j.from:j.to-1,w=x?j.to:j.from-1}var _=null,H=null,Q=wn(function(ve){var me=Cn(t,p,ve);return me.top+=h,me.bottom+=h,Dl(me,s,u,!1)?(me.top<=u&&me.left<=s&&(_=ve,H=me),!0):!1},v,w),te,se,ue=!1;if(H){var de=s-H.left<H.right-s,ce=de==x;Q=_+(ce?0:1),se=ce?"after":"before",te=de?H.left:H.right}else{!x&&(Q==w||Q==v)&&Q++,se=Q==0?"after":Q==r.text.length?"before":Cn(t,p,Q-(x?1:0)).bottom+h<=u==x?"after":"before";var he=un(t,Y(a,Q,se),"line",r,p);te=he.left,ue=u<he.top?-1:u>=he.bottom?1:0}return Q=zn(r.text,Q,1),kl(a,Q,se,ue,s-te)}function Yk(t,r,a,s,u,p,h){var v=wn(function(j){var _=u[j],H=_.level!=1;return Dl(un(t,Y(a,H?_.to:_.from,H?"before":"after"),"line",r,s),p,h,!0)},0,u.length-1),w=u[v];if(v>0){var x=w.level!=1,O=un(t,Y(a,x?w.from:w.to,x?"after":"before"),"line",r,s);Dl(O,p,h,!0)&&O.top>h&&(w=u[v-1])}return w}function Qk(t,r,a,s,u,p,h){var v=Qd(t,r,s,h),w=v.begin,x=v.end;/\s/.test(r.text.charAt(x-1))&&x--;for(var O=null,j=null,_=0;_<u.length;_++){var H=u[_];if(!(H.from>=x||H.to<=w)){var Q=H.level!=1,te=Cn(t,s,Q?Math.min(x,H.to)-1:Math.max(w,H.from)).right,se=te<p?p-te+1e9:te-p;(!O||j>se)&&(O=H,j=se)}}return O||(O=u[u.length-1]),O.from<w&&(O={from:w,to:O.to,level:O.level}),O.to>x&&(O={from:O.from,to:x,level:O.level}),O}var hr;function Jr(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(hr==null){hr=S("pre",null,"CodeMirror-line-like");for(var r=0;r<49;++r)hr.appendChild(document.createTextNode("x")),hr.appendChild(S("br"));hr.appendChild(document.createTextNode("x"))}Z(t.measure,hr);var a=hr.offsetHeight/50;return a>3&&(t.cachedTextHeight=a),q(t.measure),a||1}function Xr(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var r=S("span","xxxxxxxxxx"),a=S("pre",[r],"CodeMirror-line-like");Z(t.measure,a);var s=r.getBoundingClientRect(),u=(s.right-s.left)/10;return u>2&&(t.cachedCharWidth=u),u||10}function Al(t){for(var r=t.display,a={},s={},u=r.gutters.clientLeft,p=r.gutters.firstChild,h=0;p;p=p.nextSibling,++h){var v=t.display.gutterSpecs[h].className;a[v]=p.offsetLeft+p.clientLeft+u,s[v]=p.clientWidth}return{fixedPos:Sl(r),gutterTotalWidth:r.gutters.offsetWidth,gutterLeft:a,gutterWidth:s,wrapperWidth:r.wrapper.clientWidth}}function Sl(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function Zd(t){var r=Jr(t.display),a=t.options.lineWrapping,s=a&&Math.max(5,t.display.scroller.clientWidth/Xr(t.display)-3);return function(u){if(Un(t.doc,u))return 0;var p=0;if(u.widgets)for(var h=0;h<u.widgets.length;h++)u.widgets[h].height&&(p+=u.widgets[h].height);return a?p+(Math.ceil(u.text.length/s)||1)*r:p+r}}function El(t){var r=t.doc,a=Zd(t);r.iter(function(s){var u=a(s);u!=s.height&&Ut(s,u)})}function gr(t,r,a,s){var u=t.display;if(!a&&Wi(r).getAttribute("cm-not-content")=="true")return null;var p,h,v=u.lineSpace.getBoundingClientRect();try{p=r.clientX-v.left,h=r.clientY-v.top}catch{return null}var w=Cl(t,p,h),x;if(s&&w.xRel>0&&(x=ge(t.doc,w.line).text).length==w.ch){var O=le(x,x.length,t.options.tabSize)-x.length;w=Y(w.line,Math.max(0,Math.round((p-zd(t.display).left)/Xr(t.display))-O))}return w}function mr(t,r){if(r>=t.display.viewTo||(r-=t.display.viewFrom,r<0))return null;for(var a=t.display.view,s=0;s<a.length;s++)if(r-=a[s].size,r<0)return s}function Ft(t,r,a,s){r==null&&(r=t.doc.first),a==null&&(a=t.doc.first+t.doc.size),s||(s=0);var u=t.display;if(s&&a<u.viewTo&&(u.updateLineNumbers==null||u.updateLineNumbers>r)&&(u.updateLineNumbers=r),t.curOp.viewChanged=!0,r>=u.viewTo)Tn&&hl(t.doc,r)<u.viewTo&&Vn(t);else if(a<=u.viewFrom)Tn&&Md(t.doc,a+s)>u.viewFrom?Vn(t):(u.viewFrom+=s,u.viewTo+=s);else if(r<=u.viewFrom&&a>=u.viewTo)Vn(t);else if(r<=u.viewFrom){var p=Es(t,a,a+s,1);p?(u.view=u.view.slice(p.index),u.viewFrom=p.lineN,u.viewTo+=s):Vn(t)}else if(a>=u.viewTo){var h=Es(t,r,r,-1);h?(u.view=u.view.slice(0,h.index),u.viewTo=h.lineN):Vn(t)}else{var v=Es(t,r,r,-1),w=Es(t,a,a+s,1);v&&w?(u.view=u.view.slice(0,v.index).concat(Cs(t,v.lineN,w.lineN)).concat(u.view.slice(w.index)),u.viewTo+=s):Vn(t)}var x=u.externalMeasured;x&&(a<x.lineN?x.lineN+=s:r<x.lineN+x.size&&(u.externalMeasured=null))}function Gn(t,r,a){t.curOp.viewChanged=!0;var s=t.display,u=t.display.externalMeasured;if(u&&r>=u.lineN&&r<u.lineN+u.size&&(s.externalMeasured=null),!(r<s.viewFrom||r>=s.viewTo)){var p=s.view[mr(t,r)];if(p.node!=null){var h=p.changes||(p.changes=[]);ie(h,a)==-1&&h.push(a)}}}function Vn(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function Es(t,r,a,s){var u=mr(t,r),p,h=t.display.view;if(!Tn||a==t.doc.first+t.doc.size)return{index:u,lineN:a};for(var v=t.display.viewFrom,w=0;w<u;w++)v+=h[w].size;if(v!=r){if(s>0){if(u==h.length-1)return null;p=v+h[u].size-r,u++}else p=v-r;r+=p,a+=p}for(;hl(t.doc,a)!=a;){if(u==(s<0?0:h.length-1))return null;a+=s*h[u-(s<0?1:0)].size,u+=s}return{index:u,lineN:a}}function Kk(t,r,a){var s=t.display,u=s.view;u.length==0||r>=s.viewTo||a<=s.viewFrom?(s.view=Cs(t,r,a),s.viewFrom=r):(s.viewFrom>r?s.view=Cs(t,r,s.viewFrom).concat(s.view):s.viewFrom<r&&(s.view=s.view.slice(mr(t,r))),s.viewFrom=r,s.viewTo<a?s.view=s.view.concat(Cs(t,s.viewTo,a)):s.viewTo>a&&(s.view=s.view.slice(0,mr(t,a)))),s.viewTo=a}function Jd(t){for(var r=t.display.view,a=0,s=0;s<r.length;s++){var u=r[s];!u.hidden&&(!u.node||u.changes)&&++a}return a}function Xi(t){t.display.input.showSelection(t.display.input.prepareSelection())}function Xd(t,r){r===void 0&&(r=!0);var a=t.doc,s={},u=s.cursors=document.createDocumentFragment(),p=s.selection=document.createDocumentFragment(),h=t.options.$customCursor;h&&(r=!0);for(var v=0;v<a.sel.ranges.length;v++)if(!(!r&&v==a.sel.primIndex)){var w=a.sel.ranges[v];if(!(w.from().line>=t.display.viewTo||w.to().line<t.display.viewFrom)){var x=w.empty();if(h){var O=h(t,w);O&&Ml(t,O,u)}else(x||t.options.showCursorWhenSelecting)&&Ml(t,w.head,u);x||Zk(t,w,p)}}return s}function Ml(t,r,a){var s=un(t,r,"div",null,null,!t.options.singleCursorHeightPerLine),u=a.appendChild(S("div","\xA0","CodeMirror-cursor"));if(u.style.left=s.left+"px",u.style.top=s.top+"px",u.style.height=Math.max(0,s.bottom-s.top)*t.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(t.getWrapperElement().className)){var p=Ss(t,r,"div",null,null),h=p.right-p.left;u.style.width=(h>0?h:t.defaultCharWidth())+"px"}if(s.other){var v=a.appendChild(S("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));v.style.display="",v.style.left=s.other.left+"px",v.style.top=s.other.top+"px",v.style.height=(s.other.bottom-s.other.top)*.85+"px"}}function Ms(t,r){return t.top-r.top||t.left-r.left}function Zk(t,r,a){var s=t.display,u=t.doc,p=document.createDocumentFragment(),h=zd(t.display),v=h.left,w=Math.max(s.sizerWidth,pr(t)-s.sizer.offsetLeft)-h.right,x=u.direction=="ltr";function O(ce,he,ve,me){he<0&&(he=0),he=Math.round(he),me=Math.round(me),p.appendChild(S("div",null,"CodeMirror-selected","position: absolute; left: "+ce+`px;
                             top: `+he+"px; width: "+(ve??w-ce)+`px;
                             height: `+(me-he)+"px"))}function j(ce,he,ve){var me=ge(u,ce),Se=me.text.length,qe,ht;function Ve(it,It){return Ss(t,Y(ce,it),"div",me,It)}function zt(it,It,mt){var lt=Kd(t,me,null,it),ot=It=="ltr"==(mt=="after")?"left":"right",Je=mt=="after"?lt.begin:lt.end-(/\s/.test(me.text.charAt(lt.end-1))?2:1);return Ve(Je,ot)[ot]}var Ot=Le(me,u.direction);return Rn(Ot,he||0,ve??Se,function(it,It,mt,lt){var ot=mt=="ltr",Je=Ve(it,ot?"left":"right"),Bt=Ve(It-1,ot?"right":"left"),di=he==null&&it==0,Xn=ve==null&&It==Se,kt=lt==0,Dn=!Ot||lt==Ot.length-1;if(Bt.top-Je.top<=3){var gt=(x?di:Xn)&&kt,tu=(x?Xn:di)&&Dn,Bn=gt?v:(ot?Je:Bt).left,xr=tu?w:(ot?Bt:Je).right;O(Bn,Je.top,xr-Bn,Je.bottom)}else{var kr,St,pi,nu;ot?(kr=x&&di&&kt?v:Je.left,St=x?w:zt(it,mt,"before"),pi=x?v:zt(It,mt,"after"),nu=x&&Xn&&Dn?w:Bt.right):(kr=x?zt(it,mt,"before"):v,St=!x&&di&&kt?w:Je.right,pi=!x&&Xn&&Dn?v:Bt.left,nu=x?zt(It,mt,"after"):w),O(kr,Je.top,St-kr,Je.bottom),Je.bottom<Bt.top&&O(v,Je.bottom,null,Bt.top),O(pi,Bt.top,nu-pi,Bt.bottom)}(!qe||Ms(Je,qe)<0)&&(qe=Je),Ms(Bt,qe)<0&&(qe=Bt),(!ht||Ms(Je,ht)<0)&&(ht=Je),Ms(Bt,ht)<0&&(ht=Bt)}),{start:qe,end:ht}}var _=r.from(),H=r.to();if(_.line==H.line)j(_.line,_.ch,H.ch);else{var Q=ge(u,_.line),te=ge(u,H.line),se=ln(Q)==ln(te),ue=j(_.line,_.ch,se?Q.text.length+1:null).end,de=j(H.line,se?0:null,H.ch).start;se&&(ue.top<de.top-2?(O(ue.right,ue.top,null,ue.bottom),O(v,de.top,de.left,de.bottom)):O(ue.right,ue.top,de.left-ue.right,ue.bottom)),ue.bottom<de.top&&O(v,ue.bottom,null,de.top)}a.appendChild(p)}function Ll(t){if(t.state.focused){var r=t.display;clearInterval(r.blinker);var a=!0;r.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?r.blinker=setInterval(function(){t.hasFocus()||ei(t),r.cursorDiv.style.visibility=(a=!a)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(r.cursorDiv.style.visibility="hidden")}}function ep(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||Fl(t))}function Tl(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&ei(t))},100)}function Fl(t,r){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(Qe(t,"focus",t,r),t.state.focused=!0,Pe(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),g&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Ll(t))}function ei(t,r){t.state.delayingBlurEvent||(t.state.focused&&(Qe(t,"blur",t,r),t.state.focused=!1,ne(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function Ls(t){for(var r=t.display,a=r.lineDiv.offsetTop,s=Math.max(0,r.scroller.getBoundingClientRect().top),u=r.lineDiv.getBoundingClientRect().top,p=0,h=0;h<r.view.length;h++){var v=r.view[h],w=t.options.lineWrapping,x=void 0,O=0;if(!v.hidden){if(u+=v.line.height,f&&d<8){var j=v.node.offsetTop+v.node.offsetHeight;x=j-a,a=j}else{var _=v.node.getBoundingClientRect();x=_.bottom-_.top,!w&&v.text.firstChild&&(O=v.text.firstChild.getBoundingClientRect().right-_.left-1)}var H=v.line.height-x;if((H>.005||H<-.005)&&(u<s&&(p-=H),Ut(v.line,x),tp(v.line),v.rest))for(var Q=0;Q<v.rest.length;Q++)tp(v.rest[Q]);if(O>t.display.sizerWidth){var te=Math.ceil(O/Xr(t.display));te>t.display.maxLineLength&&(t.display.maxLineLength=te,t.display.maxLine=v.line,t.display.maxLineChanged=!0)}}}Math.abs(p)>2&&(r.scroller.scrollTop+=p)}function tp(t){if(t.widgets)for(var r=0;r<t.widgets.length;++r){var a=t.widgets[r],s=a.node.parentNode;s&&(a.height=s.offsetHeight)}}function Ts(t,r,a){var s=a&&a.top!=null?Math.max(0,a.top):t.scroller.scrollTop;s=Math.floor(s-Ds(t));var u=a&&a.bottom!=null?a.bottom:s+t.wrapper.clientHeight,p=P(r,s),h=P(r,u);if(a&&a.ensure){var v=a.ensure.from.line,w=a.ensure.to.line;v<p?(p=v,h=P(r,Fn(ge(r,v))+t.wrapper.clientHeight)):Math.min(w,r.lastLine())>=h&&(p=P(r,Fn(ge(r,w))-t.wrapper.clientHeight),h=w)}return{from:p,to:Math.max(h,p+1)}}function Jk(t,r){if(!Ke(t,"scrollCursorIntoView")){var a=t.display,s=a.sizer.getBoundingClientRect(),u=null,p=a.wrapper.ownerDocument;if(r.top+s.top<0?u=!0:r.bottom+s.top>(p.defaultView.innerHeight||p.documentElement.clientHeight)&&(u=!1),u!=null&&!F){var h=S("div","\u200B",null,`position: absolute;
                         top: `+(r.top-a.viewOffset-Ds(t.display))+`px;
                         height: `+(r.bottom-r.top+kn(t)+a.barHeight)+`px;
                         left: `+r.left+"px; width: "+Math.max(2,r.right-r.left)+"px;");t.display.lineSpace.appendChild(h),h.scrollIntoView(u),t.display.lineSpace.removeChild(h)}}}function Xk(t,r,a,s){s==null&&(s=0);var u;!t.options.lineWrapping&&r==a&&(a=r.sticky=="before"?Y(r.line,r.ch+1,"before"):r,r=r.ch?Y(r.line,r.sticky=="before"?r.ch-1:r.ch,"after"):r);for(var p=0;p<5;p++){var h=!1,v=un(t,r),w=!a||a==r?v:un(t,a);u={left:Math.min(v.left,w.left),top:Math.min(v.top,w.top)-s,right:Math.max(v.left,w.left),bottom:Math.max(v.bottom,w.bottom)+s};var x=Nl(t,u),O=t.doc.scrollTop,j=t.doc.scrollLeft;if(x.scrollTop!=null&&(to(t,x.scrollTop),Math.abs(t.doc.scrollTop-O)>1&&(h=!0)),x.scrollLeft!=null&&(yr(t,x.scrollLeft),Math.abs(t.doc.scrollLeft-j)>1&&(h=!0)),!h)break}return u}function eC(t,r){var a=Nl(t,r);a.scrollTop!=null&&to(t,a.scrollTop),a.scrollLeft!=null&&yr(t,a.scrollLeft)}function Nl(t,r){var a=t.display,s=Jr(t.display);r.top<0&&(r.top=0);var u=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:a.scroller.scrollTop,p=wl(t),h={};r.bottom-r.top>p&&(r.bottom=r.top+p);var v=t.doc.height+vl(a),w=r.top<s,x=r.bottom>v-s;if(r.top<u)h.scrollTop=w?0:r.top;else if(r.bottom>u+p){var O=Math.min(r.top,(x?v:r.bottom)-p);O!=u&&(h.scrollTop=O)}var j=t.options.fixedGutter?0:a.gutters.offsetWidth,_=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:a.scroller.scrollLeft-j,H=pr(t)-a.gutters.offsetWidth,Q=r.right-r.left>H;return Q&&(r.right=r.left+H),r.left<10?h.scrollLeft=0:r.left<_?h.scrollLeft=Math.max(0,r.left+j-(Q?0:10)):r.right>H+_-3&&(h.scrollLeft=r.right+(Q?0:10)-H),h}function Ol(t,r){r!=null&&(Fs(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+r)}function ti(t){Fs(t);var r=t.getCursor();t.curOp.scrollToPos={from:r,to:r,margin:t.options.cursorScrollMargin}}function eo(t,r,a){(r!=null||a!=null)&&Fs(t),r!=null&&(t.curOp.scrollLeft=r),a!=null&&(t.curOp.scrollTop=a)}function tC(t,r){Fs(t),t.curOp.scrollToPos=r}function Fs(t){var r=t.curOp.scrollToPos;if(r){t.curOp.scrollToPos=null;var a=Yd(t,r.from),s=Yd(t,r.to);np(t,a,s,r.margin)}}function np(t,r,a,s){var u=Nl(t,{left:Math.min(r.left,a.left),top:Math.min(r.top,a.top)-s,right:Math.max(r.right,a.right),bottom:Math.max(r.bottom,a.bottom)+s});eo(t,u.scrollLeft,u.scrollTop)}function to(t,r){Math.abs(t.doc.scrollTop-r)<2||(i||Bl(t,{top:r}),rp(t,r,!0),i&&Bl(t),io(t,100))}function rp(t,r,a){r=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,r)),!(t.display.scroller.scrollTop==r&&!a)&&(t.doc.scrollTop=r,t.display.scrollbars.setScrollTop(r),t.display.scroller.scrollTop!=r&&(t.display.scroller.scrollTop=r))}function yr(t,r,a,s){r=Math.max(0,Math.min(r,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((a?r==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-r)<2)&&!s)&&(t.doc.scrollLeft=r,lp(t),t.display.scroller.scrollLeft!=r&&(t.display.scroller.scrollLeft=r),t.display.scrollbars.setScrollLeft(r))}function no(t){var r=t.display,a=r.gutters.offsetWidth,s=Math.round(t.doc.height+vl(t.display));return{clientHeight:r.scroller.clientHeight,viewHeight:r.wrapper.clientHeight,scrollWidth:r.scroller.scrollWidth,clientWidth:r.scroller.clientWidth,viewWidth:r.wrapper.clientWidth,barLeft:t.options.fixedGutter?a:0,docHeight:s,scrollHeight:s+kn(t)+r.barHeight,nativeBarWidth:r.nativeBarWidth,gutterWidth:a}}var vr=function(t,r,a){this.cm=a;var s=this.vert=S("div",[S("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),u=this.horiz=S("div",[S("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");s.tabIndex=u.tabIndex=-1,t(s),t(u),ye(s,"scroll",function(){s.clientHeight&&r(s.scrollTop,"vertical")}),ye(u,"scroll",function(){u.clientWidth&&r(u.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,f&&d<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};vr.prototype.update=function(t){var r=t.scrollWidth>t.clientWidth+1,a=t.scrollHeight>t.clientHeight+1,s=t.nativeBarWidth;if(a){this.vert.style.display="block",this.vert.style.bottom=r?s+"px":"0";var u=t.viewHeight-(r?s:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+u)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(r){this.horiz.style.display="block",this.horiz.style.right=a?s+"px":"0",this.horiz.style.left=t.barLeft+"px";var p=t.viewWidth-t.barLeft-(a?s:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+p)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(s==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:a?s:0,bottom:r?s:0}},vr.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},vr.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},vr.prototype.zeroWidthHack=function(){var t=L&&!E?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new re,this.disableVert=new re},vr.prototype.enableZeroWidthBar=function(t,r,a){t.style.visibility="";function s(){var u=t.getBoundingClientRect(),p=a=="vert"?document.elementFromPoint(u.right-1,(u.top+u.bottom)/2):document.elementFromPoint((u.right+u.left)/2,u.bottom-1);p!=t?t.style.visibility="hidden":r.set(1e3,s)}r.set(1e3,s)},vr.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var ro=function(){};ro.prototype.update=function(){return{bottom:0,right:0}},ro.prototype.setScrollLeft=function(){},ro.prototype.setScrollTop=function(){},ro.prototype.clear=function(){};function ni(t,r){r||(r=no(t));var a=t.display.barWidth,s=t.display.barHeight;ip(t,r);for(var u=0;u<4&&a!=t.display.barWidth||s!=t.display.barHeight;u++)a!=t.display.barWidth&&t.options.lineWrapping&&Ls(t),ip(t,no(t)),a=t.display.barWidth,s=t.display.barHeight}function ip(t,r){var a=t.display,s=a.scrollbars.update(r);a.sizer.style.paddingRight=(a.barWidth=s.right)+"px",a.sizer.style.paddingBottom=(a.barHeight=s.bottom)+"px",a.heightForcer.style.borderBottom=s.bottom+"px solid transparent",s.right&&s.bottom?(a.scrollbarFiller.style.display="block",a.scrollbarFiller.style.height=s.bottom+"px",a.scrollbarFiller.style.width=s.right+"px"):a.scrollbarFiller.style.display="",s.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(a.gutterFiller.style.display="block",a.gutterFiller.style.height=s.bottom+"px",a.gutterFiller.style.width=r.gutterWidth+"px"):a.gutterFiller.style.display=""}var op={native:vr,null:ro};function sp(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&ne(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new op[t.options.scrollbarStyle](function(r){t.display.wrapper.insertBefore(r,t.display.scrollbarFiller),ye(r,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),r.setAttribute("cm-not-content","true")},function(r,a){a=="horizontal"?yr(t,r):to(t,r)},t),t.display.scrollbars.addClass&&Pe(t.display.wrapper,t.display.scrollbars.addClass)}var nC=0;function wr(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++nC,markArrays:null},Ok(t.curOp)}function br(t){var r=t.curOp;r&&Bk(r,function(a){for(var s=0;s<a.ops.length;s++)a.ops[s].cm.curOp=null;rC(a)})}function rC(t){for(var r=t.ops,a=0;a<r.length;a++)iC(r[a]);for(var s=0;s<r.length;s++)oC(r[s]);for(var u=0;u<r.length;u++)sC(r[u]);for(var p=0;p<r.length;p++)aC(r[p]);for(var h=0;h<r.length;h++)lC(r[h])}function iC(t){var r=t.cm,a=r.display;cC(r),t.updateMaxLine&&ml(r),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<a.viewFrom||t.scrollToPos.to.line>=a.viewTo)||a.maxLineChanged&&r.options.lineWrapping,t.update=t.mustUpdate&&new Ns(r,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function oC(t){t.updatedDisplay=t.mustUpdate&&Il(t.cm,t.update)}function sC(t){var r=t.cm,a=r.display;t.updatedDisplay&&Ls(r),t.barMeasure=no(r),a.maxLineChanged&&!r.options.lineWrapping&&(t.adjustWidthTo=Hd(r,a.maxLine,a.maxLine.text.length).left+3,r.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(a.scroller.clientWidth,a.sizer.offsetLeft+t.adjustWidthTo+kn(r)+r.display.barWidth),t.maxScrollLeft=Math.max(0,a.sizer.offsetLeft+t.adjustWidthTo-pr(r))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=a.input.prepareSelection())}function aC(t){var r=t.cm;t.adjustWidthTo!=null&&(r.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<r.doc.scrollLeft&&yr(r,Math.min(r.display.scroller.scrollLeft,t.maxScrollLeft),!0),r.display.maxLineChanged=!1);var a=t.focus&&t.focus==De(yt(r));t.preparedSelection&&r.display.input.showSelection(t.preparedSelection,a),(t.updatedDisplay||t.startHeight!=r.doc.height)&&ni(r,t.barMeasure),t.updatedDisplay&&jl(r,t.barMeasure),t.selectionChanged&&Ll(r),r.state.focused&&t.updateInput&&r.display.input.reset(t.typing),a&&ep(t.cm)}function lC(t){var r=t.cm,a=r.display,s=r.doc;if(t.updatedDisplay&&ap(r,t.update),a.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(a.wheelStartX=a.wheelStartY=null),t.scrollTop!=null&&rp(r,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&yr(r,t.scrollLeft,!0,!0),t.scrollToPos){var u=Xk(r,ke(s,t.scrollToPos.from),ke(s,t.scrollToPos.to),t.scrollToPos.margin);Jk(r,u)}var p=t.maybeHiddenMarkers,h=t.maybeUnhiddenMarkers;if(p)for(var v=0;v<p.length;++v)p[v].lines.length||Qe(p[v],"hide");if(h)for(var w=0;w<h.length;++w)h[w].lines.length&&Qe(h[w],"unhide");a.wrapper.offsetHeight&&(s.scrollTop=r.display.scroller.scrollTop),t.changeObjs&&Qe(r,"changes",r,t.changeObjs),t.update&&t.update.finish()}function jt(t,r){if(t.curOp)return r();wr(t);try{return r()}finally{br(t)}}function dt(t,r){return function(){if(t.curOp)return r.apply(t,arguments);wr(t);try{return r.apply(t,arguments)}finally{br(t)}}}function At(t){return function(){if(this.curOp)return t.apply(this,arguments);wr(this);try{return t.apply(this,arguments)}finally{br(this)}}}function pt(t){return function(){var r=this.cm;if(!r||r.curOp)return t.apply(this,arguments);wr(r);try{return t.apply(this,arguments)}finally{br(r)}}}function io(t,r){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(r,we(uC,t))}function uC(t){var r=t.doc;if(!(r.highlightFrontier>=t.display.viewTo)){var a=+new Date+t.options.workTime,s=Vi(t,r.highlightFrontier),u=[];r.iter(s.line,Math.min(r.first+r.size,t.display.viewTo+500),function(p){if(s.line>=t.display.viewFrom){var h=p.styles,v=p.text.length>t.options.maxHighlightLength?bn(r.mode,s.state):null,w=hd(t,p,s,!0);v&&(s.state=v),p.styles=w.styles;var x=p.styleClasses,O=w.classes;O?p.styleClasses=O:x&&(p.styleClasses=null);for(var j=!h||h.length!=p.styles.length||x!=O&&(!x||!O||x.bgClass!=O.bgClass||x.textClass!=O.textClass),_=0;!j&&_<h.length;++_)j=h[_]!=p.styles[_];j&&u.push(s.line),p.stateAfter=s.save(),s.nextLine()}else p.text.length<=t.options.maxHighlightLength&&cl(t,p.text,s),p.stateAfter=s.line%5==0?s.save():null,s.nextLine();if(+new Date>a)return io(t,t.options.workDelay),!0}),r.highlightFrontier=s.line,r.modeFrontier=Math.max(r.modeFrontier,s.line),u.length&&jt(t,function(){for(var p=0;p<u.length;p++)Gn(t,u[p],"text")})}}var Ns=function(t,r,a){var s=t.display;this.viewport=r,this.visible=Ts(s,t.doc,r),this.editorIsHidden=!s.wrapper.offsetWidth,this.wrapperHeight=s.wrapper.clientHeight,this.wrapperWidth=s.wrapper.clientWidth,this.oldDisplayWidth=pr(t),this.force=a,this.dims=Al(t),this.events=[]};Ns.prototype.signal=function(t,r){Pt(t,r)&&this.events.push(arguments)},Ns.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Qe.apply(null,this.events[t])};function cC(t){var r=t.display;!r.scrollbarsClipped&&r.scroller.offsetWidth&&(r.nativeBarWidth=r.scroller.offsetWidth-r.scroller.clientWidth,r.heightForcer.style.height=kn(t)+"px",r.sizer.style.marginBottom=-r.nativeBarWidth+"px",r.sizer.style.borderRightWidth=kn(t)+"px",r.scrollbarsClipped=!0)}function fC(t){if(t.hasFocus())return null;var r=De(yt(t));if(!r||!pe(t.display.lineDiv,r))return null;var a={activeElt:r};if(window.getSelection){var s=xe(t).getSelection();s.anchorNode&&s.extend&&pe(t.display.lineDiv,s.anchorNode)&&(a.anchorNode=s.anchorNode,a.anchorOffset=s.anchorOffset,a.focusNode=s.focusNode,a.focusOffset=s.focusOffset)}return a}function dC(t){if(!(!t||!t.activeElt||t.activeElt==De(je(t.activeElt)))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&pe(document.body,t.anchorNode)&&pe(document.body,t.focusNode))){var r=t.activeElt.ownerDocument,a=r.defaultView.getSelection(),s=r.createRange();s.setEnd(t.anchorNode,t.anchorOffset),s.collapse(!1),a.removeAllRanges(),a.addRange(s),a.extend(t.focusNode,t.focusOffset)}}function Il(t,r){var a=t.display,s=t.doc;if(r.editorIsHidden)return Vn(t),!1;if(!r.force&&r.visible.from>=a.viewFrom&&r.visible.to<=a.viewTo&&(a.updateLineNumbers==null||a.updateLineNumbers>=a.viewTo)&&a.renderedView==a.view&&Jd(t)==0)return!1;up(t)&&(Vn(t),r.dims=Al(t));var u=s.first+s.size,p=Math.max(r.visible.from-t.options.viewportMargin,s.first),h=Math.min(u,r.visible.to+t.options.viewportMargin);a.viewFrom<p&&p-a.viewFrom<20&&(p=Math.max(s.first,a.viewFrom)),a.viewTo>h&&a.viewTo-h<20&&(h=Math.min(u,a.viewTo)),Tn&&(p=hl(t.doc,p),h=Md(t.doc,h));var v=p!=a.viewFrom||h!=a.viewTo||a.lastWrapHeight!=r.wrapperHeight||a.lastWrapWidth!=r.wrapperWidth;Kk(t,p,h),a.viewOffset=Fn(ge(t.doc,a.viewFrom)),t.display.mover.style.top=a.viewOffset+"px";var w=Jd(t);if(!v&&w==0&&!r.force&&a.renderedView==a.view&&(a.updateLineNumbers==null||a.updateLineNumbers>=a.viewTo))return!1;var x=fC(t);return w>4&&(a.lineDiv.style.display="none"),pC(t,a.updateLineNumbers,r.dims),w>4&&(a.lineDiv.style.display=""),a.renderedView=a.view,dC(x),q(a.cursorDiv),q(a.selectionDiv),a.gutters.style.height=a.sizer.style.minHeight=0,v&&(a.lastWrapHeight=r.wrapperHeight,a.lastWrapWidth=r.wrapperWidth,io(t,400)),a.updateLineNumbers=null,!0}function ap(t,r){for(var a=r.viewport,s=!0;;s=!1){if(!s||!t.options.lineWrapping||r.oldDisplayWidth==pr(t)){if(a&&a.top!=null&&(a={top:Math.min(t.doc.height+vl(t.display)-wl(t),a.top)}),r.visible=Ts(t.display,t.doc,a),r.visible.from>=t.display.viewFrom&&r.visible.to<=t.display.viewTo)break}else s&&(r.visible=Ts(t.display,t.doc,a));if(!Il(t,r))break;Ls(t);var u=no(t);Xi(t),ni(t,u),jl(t,u),r.force=!1}r.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(r.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function Bl(t,r){var a=new Ns(t,r);if(Il(t,a)){Ls(t),ap(t,a);var s=no(t);Xi(t),ni(t,s),jl(t,s),a.finish()}}function pC(t,r,a){var s=t.display,u=t.options.lineNumbers,p=s.lineDiv,h=p.firstChild;function v(Q){var te=Q.nextSibling;return g&&L&&t.display.currentWheelTarget==Q?Q.style.display="none":Q.parentNode.removeChild(Q),te}for(var w=s.view,x=s.viewFrom,O=0;O<w.length;O++){var j=w[O];if(!j.hidden)if(!j.node||j.node.parentNode!=p){var _=Hk(t,j,x,a);p.insertBefore(_,h)}else{for(;h!=j.node;)h=v(h);var H=u&&r!=null&&r<=x&&j.lineNumber;j.changes&&(ie(j.changes,"gutter")>-1&&(H=!1),Od(t,j,x,a)),H&&(q(j.lineNumber),j.lineNumber.appendChild(document.createTextNode(oe(t.options,x)))),h=j.node.nextSibling}x+=j.size}for(;h;)h=v(h)}function Pl(t){var r=t.gutters.offsetWidth;t.sizer.style.marginLeft=r+"px",ft(t,"gutterChanged",t)}function jl(t,r){t.display.sizer.style.minHeight=r.docHeight+"px",t.display.heightForcer.style.top=r.docHeight+"px",t.display.gutters.style.height=r.docHeight+t.display.barHeight+kn(t)+"px"}function lp(t){var r=t.display,a=r.view;if(!(!r.alignWidgets&&(!r.gutters.firstChild||!t.options.fixedGutter))){for(var s=Sl(r)-r.scroller.scrollLeft+t.doc.scrollLeft,u=r.gutters.offsetWidth,p=s+"px",h=0;h<a.length;h++)if(!a[h].hidden){t.options.fixedGutter&&(a[h].gutter&&(a[h].gutter.style.left=p),a[h].gutterBackground&&(a[h].gutterBackground.style.left=p));var v=a[h].alignable;if(v)for(var w=0;w<v.length;w++)v[w].style.left=p}t.options.fixedGutter&&(r.gutters.style.left=s+u+"px")}}function up(t){if(!t.options.lineNumbers)return!1;var r=t.doc,a=oe(t.options,r.first+r.size-1),s=t.display;if(a.length!=s.lineNumChars){var u=s.measure.appendChild(S("div",[S("div",a)],"CodeMirror-linenumber CodeMirror-gutter-elt")),p=u.firstChild.offsetWidth,h=u.offsetWidth-p;return s.lineGutter.style.width="",s.lineNumInnerWidth=Math.max(p,s.lineGutter.offsetWidth-h)+1,s.lineNumWidth=s.lineNumInnerWidth+h,s.lineNumChars=s.lineNumInnerWidth?a.length:-1,s.lineGutter.style.width=s.lineNumWidth+"px",Pl(t.display),!0}return!1}function zl(t,r){for(var a=[],s=!1,u=0;u<t.length;u++){var p=t[u],h=null;if(typeof p!="string"&&(h=p.style,p=p.className),p=="CodeMirror-linenumbers")if(r)s=!0;else continue;a.push({className:p,style:h})}return r&&!s&&a.push({className:"CodeMirror-linenumbers",style:null}),a}function cp(t){var r=t.gutters,a=t.gutterSpecs;q(r),t.lineGutter=null;for(var s=0;s<a.length;++s){var u=a[s],p=u.className,h=u.style,v=r.appendChild(S("div",null,"CodeMirror-gutter "+p));h&&(v.style.cssText=h),p=="CodeMirror-linenumbers"&&(t.lineGutter=v,v.style.width=(t.lineNumWidth||1)+"px")}r.style.display=a.length?"":"none",Pl(t)}function oo(t){cp(t.display),Ft(t),lp(t)}function hC(t,r,a,s){var u=this;this.input=a,u.scrollbarFiller=S("div",null,"CodeMirror-scrollbar-filler"),u.scrollbarFiller.setAttribute("cm-not-content","true"),u.gutterFiller=S("div",null,"CodeMirror-gutter-filler"),u.gutterFiller.setAttribute("cm-not-content","true"),u.lineDiv=X("div",null,"CodeMirror-code"),u.selectionDiv=S("div",null,null,"position: relative; z-index: 1"),u.cursorDiv=S("div",null,"CodeMirror-cursors"),u.measure=S("div",null,"CodeMirror-measure"),u.lineMeasure=S("div",null,"CodeMirror-measure"),u.lineSpace=X("div",[u.measure,u.lineMeasure,u.selectionDiv,u.cursorDiv,u.lineDiv],null,"position: relative; outline: none");var p=X("div",[u.lineSpace],"CodeMirror-lines");u.mover=S("div",[p],null,"position: relative"),u.sizer=S("div",[u.mover],"CodeMirror-sizer"),u.sizerWidth=null,u.heightForcer=S("div",null,null,"position: absolute; height: "+Ee+"px; width: 1px;"),u.gutters=S("div",null,"CodeMirror-gutters"),u.lineGutter=null,u.scroller=S("div",[u.sizer,u.heightForcer,u.gutters],"CodeMirror-scroll"),u.scroller.setAttribute("tabIndex","-1"),u.wrapper=S("div",[u.scrollbarFiller,u.gutterFiller,u.scroller],"CodeMirror"),y&&k>=105&&(u.wrapper.style.clipPath="inset(0px)"),u.wrapper.setAttribute("translate","no"),f&&d<8&&(u.gutters.style.zIndex=-1,u.scroller.style.paddingRight=0),!g&&!(i&&b)&&(u.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(u.wrapper):t(u.wrapper)),u.viewFrom=u.viewTo=r.first,u.reportedViewFrom=u.reportedViewTo=r.first,u.view=[],u.renderedView=null,u.externalMeasured=null,u.viewOffset=0,u.lastWrapHeight=u.lastWrapWidth=0,u.updateLineNumbers=null,u.nativeBarWidth=u.barHeight=u.barWidth=0,u.scrollbarsClipped=!1,u.lineNumWidth=u.lineNumInnerWidth=u.lineNumChars=null,u.alignWidgets=!1,u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.maxLine=null,u.maxLineLength=0,u.maxLineChanged=!1,u.wheelDX=u.wheelDY=u.wheelStartX=u.wheelStartY=null,u.shift=!1,u.selForContextMenu=null,u.activeTouch=null,u.gutterSpecs=zl(s.gutters,s.lineNumbers),cp(u),a.init(u)}var Os=0,On=null;f?On=-.53:i?On=15:y?On=-.7:M&&(On=-1/3);function fp(t){var r=t.wheelDeltaX,a=t.wheelDeltaY;return r==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(r=t.detail),a==null&&t.detail&&t.axis==t.VERTICAL_AXIS?a=t.detail:a==null&&(a=t.wheelDelta),{x:r,y:a}}function gC(t){var r=fp(t);return r.x*=On,r.y*=On,r}function dp(t,r){y&&k==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var a=fp(r),s=a.x,u=a.y,p=On;r.deltaMode===0&&(s=r.deltaX,u=r.deltaY,p=1);var h=t.display,v=h.scroller,w=v.scrollWidth>v.clientWidth,x=v.scrollHeight>v.clientHeight;if(s&&w||u&&x){if(u&&L&&g){e:for(var O=r.target,j=h.view;O!=v;O=O.parentNode)for(var _=0;_<j.length;_++)if(j[_].node==O){t.display.currentWheelTarget=O;break e}}if(s&&!i&&!C&&p!=null){u&&x&&to(t,Math.max(0,v.scrollTop+u*p)),yr(t,Math.max(0,v.scrollLeft+s*p)),(!u||u&&x)&&bt(r),h.wheelStartX=null;return}if(u&&p!=null){var H=u*p,Q=t.doc.scrollTop,te=Q+h.wrapper.clientHeight;H<0?Q=Math.max(0,Q+H-50):te=Math.min(t.doc.height,te+H+50),Bl(t,{top:Q,bottom:te})}Os<20&&r.deltaMode!==0&&(h.wheelStartX==null?(h.wheelStartX=v.scrollLeft,h.wheelStartY=v.scrollTop,h.wheelDX=s,h.wheelDY=u,setTimeout(function(){if(h.wheelStartX!=null){var se=v.scrollLeft-h.wheelStartX,ue=v.scrollTop-h.wheelStartY,de=ue&&h.wheelDY&&ue/h.wheelDY||se&&h.wheelDX&&se/h.wheelDX;h.wheelStartX=h.wheelStartY=null,de&&(On=(On*Os+de)/(Os+1),++Os)}},200)):(h.wheelDX+=s,h.wheelDY+=u))}}var Gt=function(t,r){this.ranges=t,this.primIndex=r};Gt.prototype.primary=function(){return this.ranges[this.primIndex]},Gt.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var r=0;r<this.ranges.length;r++){var a=this.ranges[r],s=t.ranges[r];if(!Ie(a.anchor,s.anchor)||!Ie(a.head,s.head))return!1}return!0},Gt.prototype.deepCopy=function(){for(var t=[],r=0;r<this.ranges.length;r++)t[r]=new Be(ct(this.ranges[r].anchor),ct(this.ranges[r].head));return new Gt(t,this.primIndex)},Gt.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Gt.prototype.contains=function(t,r){r||(r=t);for(var a=0;a<this.ranges.length;a++){var s=this.ranges[a];if(fe(r,s.from())>=0&&fe(t,s.to())<=0)return a}return-1};var Be=function(t,r){this.anchor=t,this.head=r};Be.prototype.from=function(){return Yr(this.anchor,this.head)},Be.prototype.to=function(){return Tt(this.anchor,this.head)},Be.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function cn(t,r,a){var s=t&&t.options.selectionsMayTouch,u=r[a];r.sort(function(_,H){return fe(_.from(),H.from())}),a=ie(r,u);for(var p=1;p<r.length;p++){var h=r[p],v=r[p-1],w=fe(v.to(),h.from());if(s&&!h.empty()?w>0:w>=0){var x=Yr(v.from(),h.from()),O=Tt(v.to(),h.to()),j=v.empty()?h.from()==h.head:v.from()==v.head;p<=a&&--a,r.splice(--p,2,new Be(j?O:x,j?x:O))}}return new Gt(r,a)}function Yn(t,r){return new Gt([new Be(t,r||t)],0)}function Qn(t){return t.text?Y(t.from.line+t.text.length-1,Te(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function pp(t,r){if(fe(t,r.from)<0)return t;if(fe(t,r.to)<=0)return Qn(r);var a=t.line+r.text.length-(r.to.line-r.from.line)-1,s=t.ch;return t.line==r.to.line&&(s+=Qn(r).ch-r.to.ch),Y(a,s)}function Rl(t,r){for(var a=[],s=0;s<t.sel.ranges.length;s++){var u=t.sel.ranges[s];a.push(new Be(pp(u.anchor,r),pp(u.head,r)))}return cn(t.cm,a,t.sel.primIndex)}function hp(t,r,a){return t.line==r.line?Y(a.line,t.ch-r.ch+a.ch):Y(a.line+(t.line-r.line),t.ch)}function mC(t,r,a){for(var s=[],u=Y(t.first,0),p=u,h=0;h<r.length;h++){var v=r[h],w=hp(v.from,u,p),x=hp(Qn(v),u,p);if(u=v.to,p=x,a=="around"){var O=t.sel.ranges[h],j=fe(O.head,O.anchor)<0;s[h]=new Be(j?x:w,j?w:x)}else s[h]=new Be(w,w)}return new Gt(s,t.sel.primIndex)}function Hl(t){t.doc.mode=Ur(t.options,t.doc.modeOption),so(t)}function so(t){t.doc.iter(function(r){r.stateAfter&&(r.stateAfter=null),r.styles&&(r.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,io(t,100),t.state.modeGen++,t.curOp&&Ft(t)}function gp(t,r){return r.from.ch==0&&r.to.ch==0&&Te(r.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function ql(t,r,a,s){function u(de){return a?a[de]:null}function p(de,ce,he){Dk(de,ce,he,s),ft(de,"change",de,r)}function h(de,ce){for(var he=[],ve=de;ve<ce;++ve)he.push(new Qr(x[ve],u(ve),s));return he}var v=r.from,w=r.to,x=r.text,O=ge(t,v.line),j=ge(t,w.line),_=Te(x),H=u(x.length-1),Q=w.line-v.line;if(r.full)t.insert(0,h(0,x.length)),t.remove(x.length,t.size-x.length);else if(gp(t,r)){var te=h(0,x.length-1);p(j,j.text,H),Q&&t.remove(v.line,Q),te.length&&t.insert(v.line,te)}else if(O==j)if(x.length==1)p(O,O.text.slice(0,v.ch)+_+O.text.slice(w.ch),H);else{var se=h(1,x.length-1);se.push(new Qr(_+O.text.slice(w.ch),H,s)),p(O,O.text.slice(0,v.ch)+x[0],u(0)),t.insert(v.line+1,se)}else if(x.length==1)p(O,O.text.slice(0,v.ch)+x[0]+j.text.slice(w.ch),u(0)),t.remove(v.line+1,Q);else{p(O,O.text.slice(0,v.ch)+x[0],u(0)),p(j,_+j.text.slice(w.ch),H);var ue=h(1,x.length-1);Q>1&&t.remove(v.line+1,Q-1),t.insert(v.line+1,ue)}ft(t,"change",t,r)}function Kn(t,r,a){function s(u,p,h){if(u.linked)for(var v=0;v<u.linked.length;++v){var w=u.linked[v];if(w.doc!=p){var x=h&&w.sharedHist;a&&!x||(r(w.doc,x),s(w.doc,u,x))}}}s(t,null,!0)}function mp(t,r){if(r.cm)throw new Error("This document is already in use.");t.doc=r,r.cm=t,El(t),Hl(t),yp(t),t.options.direction=r.direction,t.options.lineWrapping||ml(t),t.options.mode=r.modeOption,Ft(t)}function yp(t){(t.doc.direction=="rtl"?Pe:ne)(t.display.lineDiv,"CodeMirror-rtl")}function yC(t){jt(t,function(){yp(t),Ft(t)})}function Is(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function _l(t,r){var a={from:ct(r.from),to:Qn(r),text:Ln(t,r.from,r.to)};return bp(t,a,r.from.line,r.to.line+1),Kn(t,function(s){return bp(s,a,r.from.line,r.to.line+1)},!0),a}function vp(t){for(;t.length;){var r=Te(t);if(r.ranges)t.pop();else break}}function vC(t,r){if(r)return vp(t.done),Te(t.done);if(t.done.length&&!Te(t.done).ranges)return Te(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),Te(t.done)}function wp(t,r,a,s){var u=t.history;u.undone.length=0;var p=+new Date,h,v;if((u.lastOp==s||u.lastOrigin==r.origin&&r.origin&&(r.origin.charAt(0)=="+"&&u.lastModTime>p-(t.cm?t.cm.options.historyEventDelay:500)||r.origin.charAt(0)=="*"))&&(h=vC(u,u.lastOp==s)))v=Te(h.changes),fe(r.from,r.to)==0&&fe(r.from,v.to)==0?v.to=Qn(r):h.changes.push(_l(t,r));else{var w=Te(u.done);for((!w||!w.ranges)&&Bs(t.sel,u.done),h={changes:[_l(t,r)],generation:u.generation},u.done.push(h);u.done.length>u.undoDepth;)u.done.shift(),u.done[0].ranges||u.done.shift()}u.done.push(a),u.generation=++u.maxGeneration,u.lastModTime=u.lastSelTime=p,u.lastOp=u.lastSelOp=s,u.lastOrigin=u.lastSelOrigin=r.origin,v||Qe(t,"historyAdded")}function wC(t,r,a,s){var u=r.charAt(0);return u=="*"||u=="+"&&a.ranges.length==s.ranges.length&&a.somethingSelected()==s.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function bC(t,r,a,s){var u=t.history,p=s&&s.origin;a==u.lastSelOp||p&&u.lastSelOrigin==p&&(u.lastModTime==u.lastSelTime&&u.lastOrigin==p||wC(t,p,Te(u.done),r))?u.done[u.done.length-1]=r:Bs(r,u.done),u.lastSelTime=+new Date,u.lastSelOrigin=p,u.lastSelOp=a,s&&s.clearRedo!==!1&&vp(u.undone)}function Bs(t,r){var a=Te(r);a&&a.ranges&&a.equals(t)||r.push(t)}function bp(t,r,a,s){var u=r["spans_"+t.id],p=0;t.iter(Math.max(t.first,a),Math.min(t.first+t.size,s),function(h){h.markedSpans&&((u||(u=r["spans_"+t.id]={}))[p]=h.markedSpans),++p})}function xC(t){if(!t)return null;for(var r,a=0;a<t.length;++a)t[a].marker.explicitlyCleared?r||(r=t.slice(0,a)):r&&r.push(t[a]);return r?r.length?r:null:t}function kC(t,r){var a=r["spans_"+t.id];if(!a)return null;for(var s=[],u=0;u<r.text.length;++u)s.push(xC(a[u]));return s}function xp(t,r){var a=kC(t,r),s=dl(t,r);if(!a)return s;if(!s)return a;for(var u=0;u<a.length;++u){var p=a[u],h=s[u];if(p&&h)e:for(var v=0;v<h.length;++v){for(var w=h[v],x=0;x<p.length;++x)if(p[x].marker==w.marker)continue e;p.push(w)}else h&&(a[u]=h)}return a}function ri(t,r,a){for(var s=[],u=0;u<t.length;++u){var p=t[u];if(p.ranges){s.push(a?Gt.prototype.deepCopy.call(p):p);continue}var h=p.changes,v=[];s.push({changes:v});for(var w=0;w<h.length;++w){var x=h[w],O=void 0;if(v.push({from:x.from,to:x.to,text:x.text}),r)for(var j in x)(O=j.match(/^spans_(\d+)$/))&&ie(r,Number(O[1]))>-1&&(Te(v)[j]=x[j],delete x[j])}}return s}function Wl(t,r,a,s){if(s){var u=t.anchor;if(a){var p=fe(r,u)<0;p!=fe(a,u)<0?(u=r,r=a):p!=fe(r,a)<0&&(r=a)}return new Be(u,r)}else return new Be(a||r,r)}function Ps(t,r,a,s,u){u==null&&(u=t.cm&&(t.cm.display.shift||t.extend)),xt(t,new Gt([Wl(t.sel.primary(),r,a,u)],0),s)}function kp(t,r,a){for(var s=[],u=t.cm&&(t.cm.display.shift||t.extend),p=0;p<t.sel.ranges.length;p++)s[p]=Wl(t.sel.ranges[p],r[p],null,u);var h=cn(t.cm,s,t.sel.primIndex);xt(t,h,a)}function $l(t,r,a,s){var u=t.sel.ranges.slice(0);u[r]=a,xt(t,cn(t.cm,u,t.sel.primIndex),s)}function Cp(t,r,a,s){xt(t,Yn(r,a),s)}function CC(t,r,a){var s={ranges:r.ranges,update:function(u){this.ranges=[];for(var p=0;p<u.length;p++)this.ranges[p]=new Be(ke(t,u[p].anchor),ke(t,u[p].head))},origin:a&&a.origin};return Qe(t,"beforeSelectionChange",t,s),t.cm&&Qe(t.cm,"beforeSelectionChange",t.cm,s),s.ranges!=r.ranges?cn(t.cm,s.ranges,s.ranges.length-1):r}function Dp(t,r,a){var s=t.history.done,u=Te(s);u&&u.ranges?(s[s.length-1]=r,js(t,r,a)):xt(t,r,a)}function xt(t,r,a){js(t,r,a),bC(t,t.sel,t.cm?t.cm.curOp.id:NaN,a)}function js(t,r,a){(Pt(t,"beforeSelectionChange")||t.cm&&Pt(t.cm,"beforeSelectionChange"))&&(r=CC(t,r,a));var s=a&&a.bias||(fe(r.primary().head,t.sel.primary().head)<0?-1:1);Ap(t,Ep(t,r,s,!0)),!(a&&a.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&ti(t.cm)}function Ap(t,r){r.equals(t.sel)||(t.sel=r,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,Zt(t.cm)),ft(t,"cursorActivity",t))}function Sp(t){Ap(t,Ep(t,t.sel,null,!1))}function Ep(t,r,a,s){for(var u,p=0;p<r.ranges.length;p++){var h=r.ranges[p],v=r.ranges.length==t.sel.ranges.length&&t.sel.ranges[p],w=zs(t,h.anchor,v&&v.anchor,a,s),x=h.head==h.anchor?w:zs(t,h.head,v&&v.head,a,s);(u||w!=h.anchor||x!=h.head)&&(u||(u=r.ranges.slice(0,p)),u[p]=new Be(w,x))}return u?cn(t.cm,u,r.primIndex):r}function ii(t,r,a,s,u){var p=ge(t,r.line);if(p.markedSpans)for(var h=0;h<p.markedSpans.length;++h){var v=p.markedSpans[h],w=v.marker,x="selectLeft"in w?!w.selectLeft:w.inclusiveLeft,O="selectRight"in w?!w.selectRight:w.inclusiveRight;if((v.from==null||(x?v.from<=r.ch:v.from<r.ch))&&(v.to==null||(O?v.to>=r.ch:v.to>r.ch))){if(u&&(Qe(w,"beforeCursorEnter"),w.explicitlyCleared))if(p.markedSpans){--h;continue}else break;if(!w.atomic)continue;if(a){var j=w.find(s<0?1:-1),_=void 0;if((s<0?O:x)&&(j=Mp(t,j,-s,j&&j.line==r.line?p:null)),j&&j.line==r.line&&(_=fe(j,a))&&(s<0?_<0:_>0))return ii(t,j,r,s,u)}var H=w.find(s<0?-1:1);return(s<0?x:O)&&(H=Mp(t,H,s,H.line==r.line?p:null)),H?ii(t,H,r,s,u):null}}return r}function zs(t,r,a,s,u){var p=s||1,h=ii(t,r,a,p,u)||!u&&ii(t,r,a,p,!0)||ii(t,r,a,-p,u)||!u&&ii(t,r,a,-p,!0);return h||(t.cantEdit=!0,Y(t.first,0))}function Mp(t,r,a,s){return a<0&&r.ch==0?r.line>t.first?ke(t,Y(r.line-1)):null:a>0&&r.ch==(s||ge(t,r.line)).text.length?r.line<t.first+t.size-1?Y(r.line+1,0):null:new Y(r.line,r.ch+a)}function Lp(t){t.setSelection(Y(t.firstLine(),0),Y(t.lastLine()),be)}function Tp(t,r,a){var s={canceled:!1,from:r.from,to:r.to,text:r.text,origin:r.origin,cancel:function(){return s.canceled=!0}};return a&&(s.update=function(u,p,h,v){u&&(s.from=ke(t,u)),p&&(s.to=ke(t,p)),h&&(s.text=h),v!==void 0&&(s.origin=v)}),Qe(t,"beforeChange",t,s),t.cm&&Qe(t.cm,"beforeChange",t.cm,s),s.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:s.from,to:s.to,text:s.text,origin:s.origin}}function oi(t,r,a){if(t.cm){if(!t.cm.curOp)return dt(t.cm,oi)(t,r,a);if(t.cm.state.suppressEdits)return}if(!((Pt(t,"beforeChange")||t.cm&&Pt(t.cm,"beforeChange"))&&(r=Tp(t,r,!0),!r))){var s=xd&&!a&&bk(t,r.from,r.to);if(s)for(var u=s.length-1;u>=0;--u)Fp(t,{from:s[u].from,to:s[u].to,text:u?[""]:r.text,origin:r.origin});else Fp(t,r)}}function Fp(t,r){if(!(r.text.length==1&&r.text[0]==""&&fe(r.from,r.to)==0)){var a=Rl(t,r);wp(t,r,a,t.cm?t.cm.curOp.id:NaN),ao(t,r,a,dl(t,r));var s=[];Kn(t,function(u,p){!p&&ie(s,u.history)==-1&&(Bp(u.history,r),s.push(u.history)),ao(u,r,null,dl(u,r))})}}function Rs(t,r,a){var s=t.cm&&t.cm.state.suppressEdits;if(!(s&&!a)){for(var u=t.history,p,h=t.sel,v=r=="undo"?u.done:u.undone,w=r=="undo"?u.undone:u.done,x=0;x<v.length&&(p=v[x],!(a?p.ranges&&!p.equals(t.sel):!p.ranges));x++);if(x!=v.length){for(u.lastOrigin=u.lastSelOrigin=null;;)if(p=v.pop(),p.ranges){if(Bs(p,w),a&&!p.equals(t.sel)){xt(t,p,{clearRedo:!1});return}h=p}else if(s){v.push(p);return}else break;var O=[];Bs(h,w),w.push({changes:O,generation:u.generation}),u.generation=p.generation||++u.maxGeneration;for(var j=Pt(t,"beforeChange")||t.cm&&Pt(t.cm,"beforeChange"),_=function(te){var se=p.changes[te];if(se.origin=r,j&&!Tp(t,se,!1))return v.length=0,{};O.push(_l(t,se));var ue=te?Rl(t,se):Te(v);ao(t,se,ue,xp(t,se)),!te&&t.cm&&t.cm.scrollIntoView({from:se.from,to:Qn(se)});var de=[];Kn(t,function(ce,he){!he&&ie(de,ce.history)==-1&&(Bp(ce.history,se),de.push(ce.history)),ao(ce,se,null,xp(ce,se))})},H=p.changes.length-1;H>=0;--H){var Q=_(H);if(Q)return Q.v}}}}function Np(t,r){if(r!=0&&(t.first+=r,t.sel=new Gt(He(t.sel.ranges,function(u){return new Be(Y(u.anchor.line+r,u.anchor.ch),Y(u.head.line+r,u.head.ch))}),t.sel.primIndex),t.cm)){Ft(t.cm,t.first,t.first-r,r);for(var a=t.cm.display,s=a.viewFrom;s<a.viewTo;s++)Gn(t.cm,s,"gutter")}}function ao(t,r,a,s){if(t.cm&&!t.cm.curOp)return dt(t.cm,ao)(t,r,a,s);if(r.to.line<t.first){Np(t,r.text.length-1-(r.to.line-r.from.line));return}if(!(r.from.line>t.lastLine())){if(r.from.line<t.first){var u=r.text.length-1-(t.first-r.from.line);Np(t,u),r={from:Y(t.first,0),to:Y(r.to.line+u,r.to.ch),text:[Te(r.text)],origin:r.origin}}var p=t.lastLine();r.to.line>p&&(r={from:r.from,to:Y(p,ge(t,p).text.length),text:[r.text[0]],origin:r.origin}),r.removed=Ln(t,r.from,r.to),a||(a=Rl(t,r)),t.cm?DC(t.cm,r,s):ql(t,r,s),js(t,a,be),t.cantEdit&&zs(t,Y(t.firstLine(),0))&&(t.cantEdit=!1)}}function DC(t,r,a){var s=t.doc,u=t.display,p=r.from,h=r.to,v=!1,w=p.line;t.options.lineWrapping||(w=D(ln(ge(s,p.line))),s.iter(w,h.line+1,function(H){if(H==u.maxLine)return v=!0,!0})),s.sel.contains(r.from,r.to)>-1&&Zt(t),ql(s,r,a,Zd(t)),t.options.lineWrapping||(s.iter(w,p.line+r.text.length,function(H){var Q=ks(H);Q>u.maxLineLength&&(u.maxLine=H,u.maxLineLength=Q,u.maxLineChanged=!0,v=!1)}),v&&(t.curOp.updateMaxLine=!0)),pk(s,p.line),io(t,400);var x=r.text.length-(h.line-p.line)-1;r.full?Ft(t):p.line==h.line&&r.text.length==1&&!gp(t.doc,r)?Gn(t,p.line,"text"):Ft(t,p.line,h.line+1,x);var O=Pt(t,"changes"),j=Pt(t,"change");if(j||O){var _={from:p,to:h,text:r.text,removed:r.removed,origin:r.origin};j&&ft(t,"change",t,_),O&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(_)}t.display.selForContextMenu=null}function si(t,r,a,s,u){var p;s||(s=a),fe(s,a)<0&&(p=[s,a],a=p[0],s=p[1]),typeof r=="string"&&(r=t.splitLines(r)),oi(t,{from:a,to:s,text:r,origin:u})}function Op(t,r,a,s){a<t.line?t.line+=s:r<t.line&&(t.line=r,t.ch=0)}function Ip(t,r,a,s){for(var u=0;u<t.length;++u){var p=t[u],h=!0;if(p.ranges){p.copied||(p=t[u]=p.deepCopy(),p.copied=!0);for(var v=0;v<p.ranges.length;v++)Op(p.ranges[v].anchor,r,a,s),Op(p.ranges[v].head,r,a,s);continue}for(var w=0;w<p.changes.length;++w){var x=p.changes[w];if(a<x.from.line)x.from=Y(x.from.line+s,x.from.ch),x.to=Y(x.to.line+s,x.to.ch);else if(r<=x.to.line){h=!1;break}}h||(t.splice(0,u+1),u=0)}}function Bp(t,r){var a=r.from.line,s=r.to.line,u=r.text.length-(s-a)-1;Ip(t.done,a,s,u),Ip(t.undone,a,s,u)}function lo(t,r,a,s){var u=r,p=r;return typeof r=="number"?p=ge(t,dd(t,r)):u=D(r),u==null?null:(s(p,u)&&t.cm&&Gn(t.cm,u,a),p)}function uo(t){this.lines=t,this.parent=null;for(var r=0,a=0;a<t.length;++a)t[a].parent=this,r+=t[a].height;this.height=r}uo.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,r){for(var a=t,s=t+r;a<s;++a){var u=this.lines[a];this.height-=u.height,Ak(u),ft(u,"delete")}this.lines.splice(t,r)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,r,a){this.height+=a,this.lines=this.lines.slice(0,t).concat(r).concat(this.lines.slice(t));for(var s=0;s<r.length;++s)r[s].parent=this},iterN:function(t,r,a){for(var s=t+r;t<s;++t)if(a(this.lines[t]))return!0}};function co(t){this.children=t;for(var r=0,a=0,s=0;s<t.length;++s){var u=t[s];r+=u.chunkSize(),a+=u.height,u.parent=this}this.size=r,this.height=a,this.parent=null}co.prototype={chunkSize:function(){return this.size},removeInner:function(t,r){this.size-=r;for(var a=0;a<this.children.length;++a){var s=this.children[a],u=s.chunkSize();if(t<u){var p=Math.min(r,u-t),h=s.height;if(s.removeInner(t,p),this.height-=h-s.height,u==p&&(this.children.splice(a--,1),s.parent=null),(r-=p)==0)break;t=0}else t-=u}if(this.size-r<25&&(this.children.length>1||!(this.children[0]instanceof uo))){var v=[];this.collapse(v),this.children=[new uo(v)],this.children[0].parent=this}},collapse:function(t){for(var r=0;r<this.children.length;++r)this.children[r].collapse(t)},insertInner:function(t,r,a){this.size+=r.length,this.height+=a;for(var s=0;s<this.children.length;++s){var u=this.children[s],p=u.chunkSize();if(t<=p){if(u.insertInner(t,r,a),u.lines&&u.lines.length>50){for(var h=u.lines.length%25+25,v=h;v<u.lines.length;){var w=new uo(u.lines.slice(v,v+=25));u.height-=w.height,this.children.splice(++s,0,w),w.parent=this}u.lines=u.lines.slice(0,h),this.maybeSpill()}break}t-=p}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var r=t.children.splice(t.children.length-5,5),a=new co(r);if(t.parent){t.size-=a.size,t.height-=a.height;var u=ie(t.parent.children,t);t.parent.children.splice(u+1,0,a)}else{var s=new co(t.children);s.parent=t,t.children=[s,a],t=s}a.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,r,a){for(var s=0;s<this.children.length;++s){var u=this.children[s],p=u.chunkSize();if(t<p){var h=Math.min(r,p-t);if(u.iterN(t,h,a))return!0;if((r-=h)==0)break;t=0}else t-=p}}};var fo=function(t,r,a){if(a)for(var s in a)a.hasOwnProperty(s)&&(this[s]=a[s]);this.doc=t,this.node=r};fo.prototype.clear=function(){var t=this.doc.cm,r=this.line.widgets,a=this.line,s=D(a);if(!(s==null||!r)){for(var u=0;u<r.length;++u)r[u]==this&&r.splice(u--,1);r.length||(a.widgets=null);var p=Zi(this);Ut(a,Math.max(0,a.height-p)),t&&(jt(t,function(){Pp(t,a,-p),Gn(t,s,"widget")}),ft(t,"lineWidgetCleared",t,this,s))}},fo.prototype.changed=function(){var t=this,r=this.height,a=this.doc.cm,s=this.line;this.height=null;var u=Zi(this)-r;u&&(Un(this.doc,s)||Ut(s,s.height+u),a&&jt(a,function(){a.curOp.forceUpdate=!0,Pp(a,s,u),ft(a,"lineWidgetChanged",a,t,D(s))}))},nn(fo);function Pp(t,r,a){Fn(r)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Ol(t,a)}function AC(t,r,a,s){var u=new fo(t,a,s),p=t.cm;return p&&u.noHScroll&&(p.display.alignWidgets=!0),lo(t,r,"widget",function(h){var v=h.widgets||(h.widgets=[]);if(u.insertAt==null?v.push(u):v.splice(Math.min(v.length,Math.max(0,u.insertAt)),0,u),u.line=h,p&&!Un(t,h)){var w=Fn(h)<t.scrollTop;Ut(h,h.height+Zi(u)),w&&Ol(p,u.height),p.curOp.forceUpdate=!0}return!0}),p&&ft(p,"lineWidgetAdded",p,u,typeof r=="number"?r:D(r)),u}var jp=0,Zn=function(t,r){this.lines=[],this.type=r,this.doc=t,this.id=++jp};Zn.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,r=t&&!t.curOp;if(r&&wr(t),Pt(this,"clear")){var a=this.find();a&&ft(this,"clear",a.from,a.to)}for(var s=null,u=null,p=0;p<this.lines.length;++p){var h=this.lines[p],v=Yi(h.markedSpans,this);t&&!this.collapsed?Gn(t,D(h),"text"):t&&(v.to!=null&&(u=D(h)),v.from!=null&&(s=D(h))),h.markedSpans=mk(h.markedSpans,v),v.from==null&&this.collapsed&&!Un(this.doc,h)&&t&&Ut(h,Jr(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var w=0;w<this.lines.length;++w){var x=ln(this.lines[w]),O=ks(x);O>t.display.maxLineLength&&(t.display.maxLine=x,t.display.maxLineLength=O,t.display.maxLineChanged=!0)}s!=null&&t&&this.collapsed&&Ft(t,s,u+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Sp(t.doc)),t&&ft(t,"markerCleared",t,this,s,u),r&&br(t),this.parent&&this.parent.clear()}},Zn.prototype.find=function(t,r){t==null&&this.type=="bookmark"&&(t=1);for(var a,s,u=0;u<this.lines.length;++u){var p=this.lines[u],h=Yi(p.markedSpans,this);if(h.from!=null&&(a=Y(r?p:D(p),h.from),t==-1))return a;if(h.to!=null&&(s=Y(r?p:D(p),h.to),t==1))return s}return a&&{from:a,to:s}},Zn.prototype.changed=function(){var t=this,r=this.find(-1,!0),a=this,s=this.doc.cm;!r||!s||jt(s,function(){var u=r.line,p=D(r.line),h=bl(s,p);if(h&&(Wd(h),s.curOp.selectionChanged=s.curOp.forceUpdate=!0),s.curOp.updateMaxLine=!0,!Un(a.doc,u)&&a.height!=null){var v=a.height;a.height=null;var w=Zi(a)-v;w&&Ut(u,u.height+w)}ft(s,"markerChanged",s,t)})},Zn.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var r=this.doc.cm.curOp;(!r.maybeHiddenMarkers||ie(r.maybeHiddenMarkers,this)==-1)&&(r.maybeUnhiddenMarkers||(r.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Zn.prototype.detachLine=function(t){if(this.lines.splice(ie(this.lines,t),1),!this.lines.length&&this.doc.cm){var r=this.doc.cm.curOp;(r.maybeHiddenMarkers||(r.maybeHiddenMarkers=[])).push(this)}},nn(Zn);function ai(t,r,a,s,u){if(s&&s.shared)return SC(t,r,a,s,u);if(t.cm&&!t.cm.curOp)return dt(t.cm,ai)(t,r,a,s,u);var p=new Zn(t,u),h=fe(r,a);if(s&&V(s,p,!1),h>0||h==0&&p.clearWhenEmpty!==!1)return p;if(p.replacedWith&&(p.collapsed=!0,p.widgetNode=X("span",[p.replacedWith],"CodeMirror-widget"),s.handleMouseEvents||p.widgetNode.setAttribute("cm-ignore-events","true"),s.insertLeft&&(p.widgetNode.insertLeft=!0)),p.collapsed){if(Ed(t,r.line,r,a,p)||r.line!=a.line&&Ed(t,a.line,r,a,p))throw new Error("Inserting collapsed marker partially overlapping an existing one");gk()}p.addToHistory&&wp(t,{from:r,to:a,origin:"markText"},t.sel,NaN);var v=r.line,w=t.cm,x;if(t.iter(v,a.line+1,function(j){w&&p.collapsed&&!w.options.lineWrapping&&ln(j)==w.display.maxLine&&(x=!0),p.collapsed&&v!=r.line&&Ut(j,0),yk(j,new vs(p,v==r.line?r.ch:null,v==a.line?a.ch:null),t.cm&&t.cm.curOp),++v}),p.collapsed&&t.iter(r.line,a.line+1,function(j){Un(t,j)&&Ut(j,0)}),p.clearOnEnter&&ye(p,"beforeCursorEnter",function(){return p.clear()}),p.readOnly&&(hk(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),p.collapsed&&(p.id=++jp,p.atomic=!0),w){if(x&&(w.curOp.updateMaxLine=!0),p.collapsed)Ft(w,r.line,a.line+1);else if(p.className||p.startStyle||p.endStyle||p.css||p.attributes||p.title)for(var O=r.line;O<=a.line;O++)Gn(w,O,"text");p.atomic&&Sp(w.doc),ft(w,"markerAdded",w,p)}return p}var po=function(t,r){this.markers=t,this.primary=r;for(var a=0;a<t.length;++a)t[a].parent=this};po.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();ft(this,"clear")}},po.prototype.find=function(t,r){return this.primary.find(t,r)},nn(po);function SC(t,r,a,s,u){s=V(s),s.shared=!1;var p=[ai(t,r,a,s,u)],h=p[0],v=s.widgetNode;return Kn(t,function(w){v&&(s.widgetNode=v.cloneNode(!0)),p.push(ai(w,ke(w,r),ke(w,a),s,u));for(var x=0;x<w.linked.length;++x)if(w.linked[x].isParent)return;h=Te(p)}),new po(p,h)}function zp(t){return t.findMarks(Y(t.first,0),t.clipPos(Y(t.lastLine())),function(r){return r.parent})}function EC(t,r){for(var a=0;a<r.length;a++){var s=r[a],u=s.find(),p=t.clipPos(u.from),h=t.clipPos(u.to);if(fe(p,h)){var v=ai(t,p,h,s.primary,s.primary.type);s.markers.push(v),v.parent=s}}}function MC(t){for(var r=function(s){var u=t[s],p=[u.primary.doc];Kn(u.primary.doc,function(w){return p.push(w)});for(var h=0;h<u.markers.length;h++){var v=u.markers[h];ie(p,v.doc)==-1&&(v.parent=null,u.markers.splice(h--,1))}},a=0;a<t.length;a++)r(a)}var LC=0,Nt=function(t,r,a,s,u){if(!(this instanceof Nt))return new Nt(t,r,a,s,u);a==null&&(a=0),co.call(this,[new uo([new Qr("",null)])]),this.first=a,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=a;var p=Y(a,0);this.sel=Yn(p),this.history=new Is(null),this.id=++LC,this.modeOption=r,this.lineSep=s,this.direction=u=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),ql(this,{from:p,to:p,text:t}),xt(this,Yn(p),be)};Nt.prototype=K(co.prototype,{constructor:Nt,iter:function(t,r,a){a?this.iterN(t-this.first,r-t,a):this.iterN(this.first,this.first+this.size,t)},insert:function(t,r){for(var a=0,s=0;s<r.length;++s)a+=r[s].height;this.insertInner(t-this.first,r,a)},remove:function(t,r){this.removeInner(t-this.first,r)},getValue:function(t){var r=Gi(this,this.first,this.first+this.size);return t===!1?r:r.join(t||this.lineSeparator())},setValue:pt(function(t){var r=Y(this.first,0),a=this.first+this.size-1;oi(this,{from:r,to:Y(a,ge(this,a).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&eo(this.cm,0,0),xt(this,Yn(r),be)}),replaceRange:function(t,r,a,s){r=ke(this,r),a=a?ke(this,a):r,si(this,t,r,a,s)},getRange:function(t,r,a){var s=Ln(this,ke(this,t),ke(this,r));return a===!1?s:a===""?s.join(""):s.join(a||this.lineSeparator())},getLine:function(t){var r=this.getLineHandle(t);return r&&r.text},getLineHandle:function(t){if(J(this,t))return ge(this,t)},getLineNumber:function(t){return D(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=ge(this,t)),ln(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return ke(this,t)},getCursor:function(t){var r=this.sel.primary(),a;return t==null||t=="head"?a=r.head:t=="anchor"?a=r.anchor:t=="end"||t=="to"||t===!1?a=r.to():a=r.from(),a},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:pt(function(t,r,a){Cp(this,ke(this,typeof t=="number"?Y(t,r||0):t),null,a)}),setSelection:pt(function(t,r,a){Cp(this,ke(this,t),ke(this,r||t),a)}),extendSelection:pt(function(t,r,a){Ps(this,ke(this,t),r&&ke(this,r),a)}),extendSelections:pt(function(t,r){kp(this,pd(this,t),r)}),extendSelectionsBy:pt(function(t,r){var a=He(this.sel.ranges,t);kp(this,pd(this,a),r)}),setSelections:pt(function(t,r,a){if(t.length){for(var s=[],u=0;u<t.length;u++)s[u]=new Be(ke(this,t[u].anchor),ke(this,t[u].head||t[u].anchor));r==null&&(r=Math.min(t.length-1,this.sel.primIndex)),xt(this,cn(this.cm,s,r),a)}}),addSelection:pt(function(t,r,a){var s=this.sel.ranges.slice(0);s.push(new Be(ke(this,t),ke(this,r||t))),xt(this,cn(this.cm,s,s.length-1),a)}),getSelection:function(t){for(var r=this.sel.ranges,a,s=0;s<r.length;s++){var u=Ln(this,r[s].from(),r[s].to());a=a?a.concat(u):u}return t===!1?a:a.join(t||this.lineSeparator())},getSelections:function(t){for(var r=[],a=this.sel.ranges,s=0;s<a.length;s++){var u=Ln(this,a[s].from(),a[s].to());t!==!1&&(u=u.join(t||this.lineSeparator())),r[s]=u}return r},replaceSelection:function(t,r,a){for(var s=[],u=0;u<this.sel.ranges.length;u++)s[u]=t;this.replaceSelections(s,r,a||"+input")},replaceSelections:pt(function(t,r,a){for(var s=[],u=this.sel,p=0;p<u.ranges.length;p++){var h=u.ranges[p];s[p]={from:h.from(),to:h.to(),text:this.splitLines(t[p]),origin:a}}for(var v=r&&r!="end"&&mC(this,s,r),w=s.length-1;w>=0;w--)oi(this,s[w]);v?Dp(this,v):this.cm&&ti(this.cm)}),undo:pt(function(){Rs(this,"undo")}),redo:pt(function(){Rs(this,"redo")}),undoSelection:pt(function(){Rs(this,"undo",!0)}),redoSelection:pt(function(){Rs(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,r=0,a=0,s=0;s<t.done.length;s++)t.done[s].ranges||++r;for(var u=0;u<t.undone.length;u++)t.undone[u].ranges||++a;return{undo:r,redo:a}},clearHistory:function(){var t=this;this.history=new Is(this.history),Kn(this,function(r){return r.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:ri(this.history.done),undone:ri(this.history.undone)}},setHistory:function(t){var r=this.history=new Is(this.history);r.done=ri(t.done.slice(0),null,!0),r.undone=ri(t.undone.slice(0),null,!0)},setGutterMarker:pt(function(t,r,a){return lo(this,t,"gutter",function(s){var u=s.gutterMarkers||(s.gutterMarkers={});return u[r]=a,!a&&ps(u)&&(s.gutterMarkers=null),!0})}),clearGutter:pt(function(t){var r=this;this.iter(function(a){a.gutterMarkers&&a.gutterMarkers[t]&&lo(r,a,"gutter",function(){return a.gutterMarkers[t]=null,ps(a.gutterMarkers)&&(a.gutterMarkers=null),!0})})}),lineInfo:function(t){var r;if(typeof t=="number"){if(!J(this,t)||(r=t,t=ge(this,t),!t))return null}else if(r=D(t),r==null)return null;return{line:r,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:pt(function(t,r,a){return lo(this,t,r=="gutter"?"gutter":"class",function(s){var u=r=="text"?"textClass":r=="background"?"bgClass":r=="gutter"?"gutterClass":"wrapClass";if(!s[u])s[u]=a;else{if(W(a).test(s[u]))return!1;s[u]+=" "+a}return!0})}),removeLineClass:pt(function(t,r,a){return lo(this,t,r=="gutter"?"gutter":"class",function(s){var u=r=="text"?"textClass":r=="background"?"bgClass":r=="gutter"?"gutterClass":"wrapClass",p=s[u];if(p)if(a==null)s[u]=null;else{var h=p.match(W(a));if(!h)return!1;var v=h.index+h[0].length;s[u]=p.slice(0,h.index)+(!h.index||v==p.length?"":" ")+p.slice(v)||null}else return!1;return!0})}),addLineWidget:pt(function(t,r,a){return AC(this,t,r,a)}),removeLineWidget:function(t){t.clear()},markText:function(t,r,a){return ai(this,ke(this,t),ke(this,r),a,a&&a.type||"range")},setBookmark:function(t,r){var a={replacedWith:r&&(r.nodeType==null?r.widget:r),insertLeft:r&&r.insertLeft,clearWhenEmpty:!1,shared:r&&r.shared,handleMouseEvents:r&&r.handleMouseEvents};return t=ke(this,t),ai(this,t,t,a,"bookmark")},findMarksAt:function(t){t=ke(this,t);var r=[],a=ge(this,t.line).markedSpans;if(a)for(var s=0;s<a.length;++s){var u=a[s];(u.from==null||u.from<=t.ch)&&(u.to==null||u.to>=t.ch)&&r.push(u.marker.parent||u.marker)}return r},findMarks:function(t,r,a){t=ke(this,t),r=ke(this,r);var s=[],u=t.line;return this.iter(t.line,r.line+1,function(p){var h=p.markedSpans;if(h)for(var v=0;v<h.length;v++){var w=h[v];!(w.to!=null&&u==t.line&&t.ch>=w.to||w.from==null&&u!=t.line||w.from!=null&&u==r.line&&w.from>=r.ch)&&(!a||a(w.marker))&&s.push(w.marker.parent||w.marker)}++u}),s},getAllMarks:function(){var t=[];return this.iter(function(r){var a=r.markedSpans;if(a)for(var s=0;s<a.length;++s)a[s].from!=null&&t.push(a[s].marker)}),t},posFromIndex:function(t){var r,a=this.first,s=this.lineSeparator().length;return this.iter(function(u){var p=u.text.length+s;if(p>t)return r=t,!0;t-=p,++a}),ke(this,Y(a,r))},indexFromPos:function(t){t=ke(this,t);var r=t.ch;if(t.line<this.first||t.ch<0)return 0;var a=this.lineSeparator().length;return this.iter(this.first,t.line,function(s){r+=s.text.length+a}),r},copy:function(t){var r=new Nt(Gi(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return r.scrollTop=this.scrollTop,r.scrollLeft=this.scrollLeft,r.sel=this.sel,r.extend=!1,t&&(r.history.undoDepth=this.history.undoDepth,r.setHistory(this.getHistory())),r},linkedDoc:function(t){t||(t={});var r=this.first,a=this.first+this.size;t.from!=null&&t.from>r&&(r=t.from),t.to!=null&&t.to<a&&(a=t.to);var s=new Nt(Gi(this,r,a),t.mode||this.modeOption,r,this.lineSep,this.direction);return t.sharedHist&&(s.history=this.history),(this.linked||(this.linked=[])).push({doc:s,sharedHist:t.sharedHist}),s.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],EC(s,zp(this)),s},unlinkDoc:function(t){if(t instanceof Ge&&(t=t.doc),this.linked)for(var r=0;r<this.linked.length;++r){var a=this.linked[r];if(a.doc==t){this.linked.splice(r,1),t.unlinkDoc(this),MC(zp(this));break}}if(t.history==this.history){var s=[t.id];Kn(t,function(u){return s.push(u.id)},!0),t.history=new Is(null),t.history.done=ri(this.history.done,s),t.history.undone=ri(this.history.undone,s)}},iterLinkedDocs:function(t){Kn(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):Jt(t)},lineSeparator:function(){return this.lineSep||`
`},setDirection:pt(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(r){return r.order=null}),this.cm&&yC(this.cm))})}),Nt.prototype.eachLine=Nt.prototype.iter;var Rp=0;function TC(t){var r=this;if(Hp(r),!(Ke(r,t)||Nn(r.display,t))){bt(t),f&&(Rp=+new Date);var a=gr(r,t,!0),s=t.dataTransfer.files;if(!(!a||r.isReadOnly()))if(s&&s.length&&window.FileReader&&window.File)for(var u=s.length,p=Array(u),h=0,v=function(){++h==u&&dt(r,function(){a=ke(r.doc,a);var H={from:a,to:a,text:r.doc.splitLines(p.filter(function(Q){return Q!=null}).join(r.doc.lineSeparator())),origin:"paste"};oi(r.doc,H),Dp(r.doc,Yn(ke(r.doc,a),ke(r.doc,Qn(H))))})()},w=function(H,Q){if(r.options.allowDropFileTypes&&ie(r.options.allowDropFileTypes,H.type)==-1){v();return}var te=new FileReader;te.onerror=function(){return v()},te.onload=function(){var se=te.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(se)){v();return}p[Q]=se,v()},te.readAsText(H)},x=0;x<s.length;x++)w(s[x],x);else{if(r.state.draggingText&&r.doc.sel.contains(a)>-1){r.state.draggingText(t),setTimeout(function(){return r.display.input.focus()},20);return}try{var O=t.dataTransfer.getData("Text");if(O){var j;if(r.state.draggingText&&!r.state.draggingText.copy&&(j=r.listSelections()),js(r.doc,Yn(a,a)),j)for(var _=0;_<j.length;++_)si(r.doc,"",j[_].anchor,j[_].head,"drag");r.replaceSelection(O,"around","paste"),r.display.input.focus()}}catch{}}}}function FC(t,r){if(f&&(!t.state.draggingText||+new Date-Rp<100)){qn(r);return}if(!(Ke(t,r)||Nn(t.display,r))&&(r.dataTransfer.setData("Text",t.getSelection()),r.dataTransfer.effectAllowed="copyMove",r.dataTransfer.setDragImage&&!M)){var a=S("img",null,null,"position: fixed; left: 0; top: 0;");a.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",C&&(a.width=a.height=1,t.display.wrapper.appendChild(a),a._top=a.offsetTop),r.dataTransfer.setDragImage(a,0,0),C&&a.parentNode.removeChild(a)}}function NC(t,r){var a=gr(t,r);if(a){var s=document.createDocumentFragment();Ml(t,a,s),t.display.dragCursor||(t.display.dragCursor=S("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),Z(t.display.dragCursor,s)}}function Hp(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function qp(t){if(document.getElementsByClassName){for(var r=document.getElementsByClassName("CodeMirror"),a=[],s=0;s<r.length;s++){var u=r[s].CodeMirror;u&&a.push(u)}a.length&&a[0].operation(function(){for(var p=0;p<a.length;p++)t(a[p])})}}var _p=!1;function OC(){_p||(IC(),_p=!0)}function IC(){var t;ye(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,qp(BC)},100))}),ye(window,"blur",function(){return qp(ei)})}function BC(t){var r=t.display;r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.scrollbarsClipped=!1,t.setSize()}for(var Jn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ho=0;ho<10;ho++)Jn[ho+48]=Jn[ho+96]=String(ho);for(var Hs=65;Hs<=90;Hs++)Jn[Hs]=String.fromCharCode(Hs);for(var go=1;go<=12;go++)Jn[go+111]=Jn[go+63235]="F"+go;var In={};In.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},In.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},In.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},In.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},In.default=L?In.macDefault:In.pcDefault;function PC(t){var r=t.split(/-(?!$)/);t=r[r.length-1];for(var a,s,u,p,h=0;h<r.length-1;h++){var v=r[h];if(/^(cmd|meta|m)$/i.test(v))p=!0;else if(/^a(lt)?$/i.test(v))a=!0;else if(/^(c|ctrl|control)$/i.test(v))s=!0;else if(/^s(hift)?$/i.test(v))u=!0;else throw new Error("Unrecognized modifier name: "+v)}return a&&(t="Alt-"+t),s&&(t="Ctrl-"+t),p&&(t="Cmd-"+t),u&&(t="Shift-"+t),t}function jC(t){var r={};for(var a in t)if(t.hasOwnProperty(a)){var s=t[a];if(/^(name|fallthrough|(de|at)tach)$/.test(a))continue;if(s=="..."){delete t[a];continue}for(var u=He(a.split(" "),PC),p=0;p<u.length;p++){var h=void 0,v=void 0;p==u.length-1?(v=u.join(" "),h=s):(v=u.slice(0,p+1).join(" "),h="...");var w=r[v];if(!w)r[v]=h;else if(w!=h)throw new Error("Inconsistent bindings for "+v)}delete t[a]}for(var x in r)t[x]=r[x];return t}function li(t,r,a,s){r=qs(r);var u=r.call?r.call(t,s):r[t];if(u===!1)return"nothing";if(u==="...")return"multi";if(u!=null&&a(u))return"handled";if(r.fallthrough){if(Object.prototype.toString.call(r.fallthrough)!="[object Array]")return li(t,r.fallthrough,a,s);for(var p=0;p<r.fallthrough.length;p++){var h=li(t,r.fallthrough[p],a,s);if(h)return h}}}function Wp(t){var r=typeof t=="string"?t:Jn[t.keyCode];return r=="Ctrl"||r=="Alt"||r=="Shift"||r=="Mod"}function $p(t,r,a){var s=t;return r.altKey&&s!="Alt"&&(t="Alt-"+t),(R?r.metaKey:r.ctrlKey)&&s!="Ctrl"&&(t="Ctrl-"+t),(R?r.ctrlKey:r.metaKey)&&s!="Mod"&&(t="Cmd-"+t),!a&&r.shiftKey&&s!="Shift"&&(t="Shift-"+t),t}function Up(t,r){if(C&&t.keyCode==34&&t.char)return!1;var a=Jn[t.keyCode];return a==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(a=t.code),$p(a,t,r))}function qs(t){return typeof t=="string"?In[t]:t}function ui(t,r){for(var a=t.doc.sel.ranges,s=[],u=0;u<a.length;u++){for(var p=r(a[u]);s.length&&fe(p.from,Te(s).to)<=0;){var h=s.pop();if(fe(h.from,p.from)<0){p.from=h.from;break}}s.push(p)}jt(t,function(){for(var v=s.length-1;v>=0;v--)si(t.doc,"",s[v].from,s[v].to,"+delete");ti(t)})}function Ul(t,r,a){var s=zn(t.text,r+a,a);return s<0||s>t.text.length?null:s}function Gl(t,r,a){var s=Ul(t,r.ch,a);return s==null?null:new Y(r.line,s,a<0?"after":"before")}function Vl(t,r,a,s,u){if(t){r.doc.direction=="rtl"&&(u=-u);var p=Le(a,r.doc.direction);if(p){var h=u<0?Te(p):p[0],v=u<0==(h.level==1),w=v?"after":"before",x;if(h.level>0||r.doc.direction=="rtl"){var O=Zr(r,a);x=u<0?a.text.length-1:0;var j=Cn(r,O,x).top;x=wn(function(_){return Cn(r,O,_).top==j},u<0==(h.level==1)?h.from:h.to-1,x),w=="before"&&(x=Ul(a,x,1))}else x=u<0?h.to:h.from;return new Y(s,x,w)}}return new Y(s,u<0?a.text.length:0,u<0?"before":"after")}function zC(t,r,a,s){var u=Le(r,t.doc.direction);if(!u)return Gl(r,a,s);a.ch>=r.text.length?(a.ch=r.text.length,a.sticky="before"):a.ch<=0&&(a.ch=0,a.sticky="after");var p=Hn(u,a.ch,a.sticky),h=u[p];if(t.doc.direction=="ltr"&&h.level%2==0&&(s>0?h.to>a.ch:h.from<a.ch))return Gl(r,a,s);var v=function(ue,de){return Ul(r,ue instanceof Y?ue.ch:ue,de)},w,x=function(ue){return t.options.lineWrapping?(w=w||Zr(t,r),Kd(t,r,w,ue)):{begin:0,end:r.text.length}},O=x(a.sticky=="before"?v(a,-1):a.ch);if(t.doc.direction=="rtl"||h.level==1){var j=h.level==1==s<0,_=v(a,j?1:-1);if(_!=null&&(j?_<=h.to&&_<=O.end:_>=h.from&&_>=O.begin)){var H=j?"before":"after";return new Y(a.line,_,H)}}var Q=function(ue,de,ce){for(var he=function(qe,ht){return ht?new Y(a.line,v(qe,1),"before"):new Y(a.line,qe,"after")};ue>=0&&ue<u.length;ue+=de){var ve=u[ue],me=de>0==(ve.level!=1),Se=me?ce.begin:v(ce.end,-1);if(ve.from<=Se&&Se<ve.to||(Se=me?ve.from:v(ve.to,-1),ce.begin<=Se&&Se<ce.end))return he(Se,me)}},te=Q(p+s,s,O);if(te)return te;var se=s>0?O.end:v(O.begin,-1);return se!=null&&!(s>0&&se==r.text.length)&&(te=Q(s>0?0:u.length-1,s,x(se)),te)?te:null}var mo={selectAll:Lp,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),be)},killLine:function(t){return ui(t,function(r){if(r.empty()){var a=ge(t.doc,r.head.line).text.length;return r.head.ch==a&&r.head.line<t.lastLine()?{from:r.head,to:Y(r.head.line+1,0)}:{from:r.head,to:Y(r.head.line,a)}}else return{from:r.from(),to:r.to()}})},deleteLine:function(t){return ui(t,function(r){return{from:Y(r.from().line,0),to:ke(t.doc,Y(r.to().line+1,0))}})},delLineLeft:function(t){return ui(t,function(r){return{from:Y(r.from().line,0),to:r.from()}})},delWrappedLineLeft:function(t){return ui(t,function(r){var a=t.charCoords(r.head,"div").top+5,s=t.coordsChar({left:0,top:a},"div");return{from:s,to:r.from()}})},delWrappedLineRight:function(t){return ui(t,function(r){var a=t.charCoords(r.head,"div").top+5,s=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:a},"div");return{from:r.from(),to:s}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(Y(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(Y(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(r){return Gp(t,r.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(r){return Vp(t,r.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(r){return RC(t,r.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(r){var a=t.cursorCoords(r.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:a},"div")},Me)},goLineLeft:function(t){return t.extendSelectionsBy(function(r){var a=t.cursorCoords(r.head,"div").top+5;return t.coordsChar({left:0,top:a},"div")},Me)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(r){var a=t.cursorCoords(r.head,"div").top+5,s=t.coordsChar({left:0,top:a},"div");return s.ch<t.getLine(s.line).search(/\S/)?Vp(t,r.head):s},Me)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var r=[],a=t.listSelections(),s=t.options.tabSize,u=0;u<a.length;u++){var p=a[u].from(),h=le(t.getLine(p.line),p.ch,s);r.push(at(s-h%s))}t.replaceSelections(r)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return jt(t,function(){for(var r=t.listSelections(),a=[],s=0;s<r.length;s++)if(r[s].empty()){var u=r[s].head,p=ge(t.doc,u.line).text;if(p){if(u.ch==p.length&&(u=new Y(u.line,u.ch-1)),u.ch>0)u=new Y(u.line,u.ch+1),t.replaceRange(p.charAt(u.ch-1)+p.charAt(u.ch-2),Y(u.line,u.ch-2),u,"+transpose");else if(u.line>t.doc.first){var h=ge(t.doc,u.line-1).text;h&&(u=new Y(u.line,1),t.replaceRange(p.charAt(0)+t.doc.lineSeparator()+h.charAt(h.length-1),Y(u.line-1,h.length-1),u,"+transpose"))}}a.push(new Be(u,u))}t.setSelections(a)})},newlineAndIndent:function(t){return jt(t,function(){for(var r=t.listSelections(),a=r.length-1;a>=0;a--)t.replaceRange(t.doc.lineSeparator(),r[a].anchor,r[a].head,"+input");r=t.listSelections();for(var s=0;s<r.length;s++)t.indentLine(r[s].from().line,null,!0);ti(t)})},openLine:function(t){return t.replaceSelection(`
`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function Gp(t,r){var a=ge(t.doc,r),s=ln(a);return s!=a&&(r=D(s)),Vl(!0,t,s,r,1)}function RC(t,r){var a=ge(t.doc,r),s=kk(a);return s!=a&&(r=D(s)),Vl(!0,t,a,r,-1)}function Vp(t,r){var a=Gp(t,r.line),s=ge(t.doc,a.line),u=Le(s,t.doc.direction);if(!u||u[0].level==0){var p=Math.max(a.ch,s.text.search(/\S/)),h=r.line==a.line&&r.ch<=p&&r.ch;return Y(a.line,h?0:p,a.sticky)}return a}function _s(t,r,a){if(typeof r=="string"&&(r=mo[r],!r))return!1;t.display.input.ensurePolled();var s=t.display.shift,u=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),a&&(t.display.shift=!1),u=r(t)!=Ce}finally{t.display.shift=s,t.state.suppressEdits=!1}return u}function HC(t,r,a){for(var s=0;s<t.state.keyMaps.length;s++){var u=li(r,t.state.keyMaps[s],a,t);if(u)return u}return t.options.extraKeys&&li(r,t.options.extraKeys,a,t)||li(r,t.options.keyMap,a,t)}var qC=new re;function yo(t,r,a,s){var u=t.state.keySeq;if(u){if(Wp(r))return"handled";if(/\'$/.test(r)?t.state.keySeq=null:qC.set(50,function(){t.state.keySeq==u&&(t.state.keySeq=null,t.display.input.reset())}),Yp(t,u+" "+r,a,s))return!0}return Yp(t,r,a,s)}function Yp(t,r,a,s){var u=HC(t,r,s);return u=="multi"&&(t.state.keySeq=r),u=="handled"&&ft(t,"keyHandled",t,r,a),(u=="handled"||u=="multi")&&(bt(a),Ll(t)),!!u}function Qp(t,r){var a=Up(r,!0);return a?r.shiftKey&&!t.state.keySeq?yo(t,"Shift-"+a,r,function(s){return _s(t,s,!0)})||yo(t,a,r,function(s){if(typeof s=="string"?/^go[A-Z]/.test(s):s.motion)return _s(t,s)}):yo(t,a,r,function(s){return _s(t,s)}):!1}function _C(t,r,a){return yo(t,"'"+a+"'",r,function(s){return _s(t,s,!0)})}var Yl=null;function Kp(t){var r=this;if(!(t.target&&t.target!=r.display.input.getField())&&(r.curOp.focus=De(yt(r)),!Ke(r,t))){f&&d<11&&t.keyCode==27&&(t.returnValue=!1);var a=t.keyCode;r.display.shift=a==16||t.shiftKey;var s=Qp(r,t);C&&(Yl=s?a:null,!s&&a==88&&!ms&&(L?t.metaKey:t.ctrlKey)&&r.replaceSelection("",null,"cut")),i&&!L&&!s&&a==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),a==18&&!/\bCodeMirror-crosshair\b/.test(r.display.lineDiv.className)&&WC(r)}}function WC(t){var r=t.display.lineDiv;Pe(r,"CodeMirror-crosshair");function a(s){(s.keyCode==18||!s.altKey)&&(ne(r,"CodeMirror-crosshair"),wt(document,"keyup",a),wt(document,"mouseover",a))}ye(document,"keyup",a),ye(document,"mouseover",a)}function Zp(t){t.keyCode==16&&(this.doc.sel.shift=!1),Ke(this,t)}function Jp(t){var r=this;if(!(t.target&&t.target!=r.display.input.getField())&&!(Nn(r.display,t)||Ke(r,t)||t.ctrlKey&&!t.altKey||L&&t.metaKey)){var a=t.keyCode,s=t.charCode;if(C&&a==Yl){Yl=null,bt(t);return}if(!(C&&(!t.which||t.which<10)&&Qp(r,t))){var u=String.fromCharCode(s??a);u!="\b"&&(_C(r,t,u)||r.display.input.onKeyPress(t))}}}var $C=400,Ql=function(t,r,a){this.time=t,this.pos=r,this.button=a};Ql.prototype.compare=function(t,r,a){return this.time+$C>t&&fe(r,this.pos)==0&&a==this.button};var vo,wo;function UC(t,r){var a=+new Date;return wo&&wo.compare(a,t,r)?(vo=wo=null,"triple"):vo&&vo.compare(a,t,r)?(wo=new Ql(a,t,r),vo=null,"double"):(vo=new Ql(a,t,r),wo=null,"single")}function Xp(t){var r=this,a=r.display;if(!(Ke(r,t)||a.activeTouch&&a.input.supportsTouch())){if(a.input.ensurePolled(),a.shift=t.shiftKey,Nn(a,t)){g||(a.scroller.draggable=!1,setTimeout(function(){return a.scroller.draggable=!0},100));return}if(!Kl(r,t)){var s=gr(r,t),u=rn(t),p=s?UC(s,u):"single";xe(r).focus(),u==1&&r.state.selectingText&&r.state.selectingText(t),!(s&&GC(r,u,s,p,t))&&(u==1?s?YC(r,s,p,t):Wi(t)==a.scroller&&bt(t):u==2?(s&&Ps(r.doc,s),setTimeout(function(){return a.input.focus()},20)):u==3&&(U?r.display.input.onContextMenu(t):Tl(r)))}}}function GC(t,r,a,s,u){var p="Click";return s=="double"?p="Double"+p:s=="triple"&&(p="Triple"+p),p=(r==1?"Left":r==2?"Middle":"Right")+p,yo(t,$p(p,u),u,function(h){if(typeof h=="string"&&(h=mo[h]),!h)return!1;var v=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),v=h(t,a)!=Ce}finally{t.state.suppressEdits=!1}return v})}function VC(t,r,a){var s=t.getOption("configureMouse"),u=s?s(t,r,a):{};if(u.unit==null){var p=T?a.shiftKey&&a.metaKey:a.altKey;u.unit=p?"rectangle":r=="single"?"char":r=="double"?"word":"line"}return(u.extend==null||t.doc.extend)&&(u.extend=t.doc.extend||a.shiftKey),u.addNew==null&&(u.addNew=L?a.metaKey:a.ctrlKey),u.moveOnDrag==null&&(u.moveOnDrag=!(L?a.altKey:a.ctrlKey)),u}function YC(t,r,a,s){f?setTimeout(we(ep,t),0):t.curOp.focus=De(yt(t));var u=VC(t,a,s),p=t.doc.sel,h;t.options.dragDrop&&ll&&!t.isReadOnly()&&a=="single"&&(h=p.contains(r))>-1&&(fe((h=p.ranges[h]).from(),r)<0||r.xRel>0)&&(fe(h.to(),r)>0||r.xRel<0)?QC(t,s,r,u):KC(t,s,r,u)}function QC(t,r,a,s){var u=t.display,p=!1,h=dt(t,function(x){g&&(u.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:Tl(t)),wt(u.wrapper.ownerDocument,"mouseup",h),wt(u.wrapper.ownerDocument,"mousemove",v),wt(u.scroller,"dragstart",w),wt(u.scroller,"drop",h),p||(bt(x),s.addNew||Ps(t.doc,a,null,null,s.extend),g&&!M||f&&d==9?setTimeout(function(){u.wrapper.ownerDocument.body.focus({preventScroll:!0}),u.input.focus()},20):u.input.focus())}),v=function(x){p=p||Math.abs(r.clientX-x.clientX)+Math.abs(r.clientY-x.clientY)>=10},w=function(){return p=!0};g&&(u.scroller.draggable=!0),t.state.draggingText=h,h.copy=!s.moveOnDrag,ye(u.wrapper.ownerDocument,"mouseup",h),ye(u.wrapper.ownerDocument,"mousemove",v),ye(u.scroller,"dragstart",w),ye(u.scroller,"drop",h),t.state.delayingBlurEvent=!0,setTimeout(function(){return u.input.focus()},20),u.scroller.dragDrop&&u.scroller.dragDrop()}function eh(t,r,a){if(a=="char")return new Be(r,r);if(a=="word")return t.findWordAt(r);if(a=="line")return new Be(Y(r.line,0),ke(t.doc,Y(r.line+1,0)));var s=a(t,r);return new Be(s.from,s.to)}function KC(t,r,a,s){f&&Tl(t);var u=t.display,p=t.doc;bt(r);var h,v,w=p.sel,x=w.ranges;if(s.addNew&&!s.extend?(v=p.sel.contains(a),v>-1?h=x[v]:h=new Be(a,a)):(h=p.sel.primary(),v=p.sel.primIndex),s.unit=="rectangle")s.addNew||(h=new Be(a,a)),a=gr(t,r,!0,!0),v=-1;else{var O=eh(t,a,s.unit);s.extend?h=Wl(h,O.anchor,O.head,s.extend):h=O}s.addNew?v==-1?(v=x.length,xt(p,cn(t,x.concat([h]),v),{scroll:!1,origin:"*mouse"})):x.length>1&&x[v].empty()&&s.unit=="char"&&!s.extend?(xt(p,cn(t,x.slice(0,v).concat(x.slice(v+1)),0),{scroll:!1,origin:"*mouse"}),w=p.sel):$l(p,v,h,$e):(v=0,xt(p,new Gt([h],0),$e),w=p.sel);var j=a;function _(ce){if(fe(j,ce)!=0)if(j=ce,s.unit=="rectangle"){for(var he=[],ve=t.options.tabSize,me=le(ge(p,a.line).text,a.ch,ve),Se=le(ge(p,ce.line).text,ce.ch,ve),qe=Math.min(me,Se),ht=Math.max(me,Se),Ve=Math.min(a.line,ce.line),zt=Math.min(t.lastLine(),Math.max(a.line,ce.line));Ve<=zt;Ve++){var Ot=ge(p,Ve).text,it=Ue(Ot,qe,ve);qe==ht?he.push(new Be(Y(Ve,it),Y(Ve,it))):Ot.length>it&&he.push(new Be(Y(Ve,it),Y(Ve,Ue(Ot,ht,ve))))}he.length||he.push(new Be(a,a)),xt(p,cn(t,w.ranges.slice(0,v).concat(he),v),{origin:"*mouse",scroll:!1}),t.scrollIntoView(ce)}else{var It=h,mt=eh(t,ce,s.unit),lt=It.anchor,ot;fe(mt.anchor,lt)>0?(ot=mt.head,lt=Yr(It.from(),mt.anchor)):(ot=mt.anchor,lt=Tt(It.to(),mt.head));var Je=w.ranges.slice(0);Je[v]=ZC(t,new Be(ke(p,lt),ot)),xt(p,cn(t,Je,v),$e)}}var H=u.wrapper.getBoundingClientRect(),Q=0;function te(ce){var he=++Q,ve=gr(t,ce,!0,s.unit=="rectangle");if(ve)if(fe(ve,j)!=0){t.curOp.focus=De(yt(t)),_(ve);var me=Ts(u,p);(ve.line>=me.to||ve.line<me.from)&&setTimeout(dt(t,function(){Q==he&&te(ce)}),150)}else{var Se=ce.clientY<H.top?-20:ce.clientY>H.bottom?20:0;Se&&setTimeout(dt(t,function(){Q==he&&(u.scroller.scrollTop+=Se,te(ce))}),50)}}function se(ce){t.state.selectingText=!1,Q=1/0,ce&&(bt(ce),u.input.focus()),wt(u.wrapper.ownerDocument,"mousemove",ue),wt(u.wrapper.ownerDocument,"mouseup",de),p.history.lastSelOrigin=null}var ue=dt(t,function(ce){ce.buttons===0||!rn(ce)?se(ce):te(ce)}),de=dt(t,se);t.state.selectingText=de,ye(u.wrapper.ownerDocument,"mousemove",ue),ye(u.wrapper.ownerDocument,"mouseup",de)}function ZC(t,r){var a=r.anchor,s=r.head,u=ge(t.doc,a.line);if(fe(a,s)==0&&a.sticky==s.sticky)return r;var p=Le(u);if(!p)return r;var h=Hn(p,a.ch,a.sticky),v=p[h];if(v.from!=a.ch&&v.to!=a.ch)return r;var w=h+(v.from==a.ch==(v.level!=1)?0:1);if(w==0||w==p.length)return r;var x;if(s.line!=a.line)x=(s.line-a.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var O=Hn(p,s.ch,s.sticky),j=O-h||(s.ch-a.ch)*(v.level==1?-1:1);O==w-1||O==w?x=j<0:x=j>0}var _=p[w+(x?-1:0)],H=x==(_.level==1),Q=H?_.from:_.to,te=H?"after":"before";return a.ch==Q&&a.sticky==te?r:new Be(new Y(a.line,Q,te),s)}function th(t,r,a,s){var u,p;if(r.touches)u=r.touches[0].clientX,p=r.touches[0].clientY;else try{u=r.clientX,p=r.clientY}catch{return!1}if(u>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;s&&bt(r);var h=t.display,v=h.lineDiv.getBoundingClientRect();if(p>v.bottom||!Pt(t,a))return Lt(r);p-=v.top-h.viewOffset;for(var w=0;w<t.display.gutterSpecs.length;++w){var x=h.gutters.childNodes[w];if(x&&x.getBoundingClientRect().right>=u){var O=P(t.doc,p),j=t.display.gutterSpecs[w];return Qe(t,a,t,O,j.className,r),Lt(r)}}}function Kl(t,r){return th(t,r,"gutterClick",!0)}function nh(t,r){Nn(t.display,r)||JC(t,r)||Ke(t,r,"contextmenu")||U||t.display.input.onContextMenu(r)}function JC(t,r){return Pt(t,"gutterContextMenu")?th(t,r,"gutterContextMenu",!1):!1}function rh(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ji(t)}var ci={toString:function(){return"CodeMirror.Init"}},ih={},Ws={};function XC(t){var r=t.optionHandlers;function a(s,u,p,h){t.defaults[s]=u,p&&(r[s]=h?function(v,w,x){x!=ci&&p(v,w,x)}:p)}t.defineOption=a,t.Init=ci,a("value","",function(s,u){return s.setValue(u)},!0),a("mode",null,function(s,u){s.doc.modeOption=u,Hl(s)},!0),a("indentUnit",2,Hl,!0),a("indentWithTabs",!1),a("smartIndent",!0),a("tabSize",4,function(s){so(s),Ji(s),Ft(s)},!0),a("lineSeparator",null,function(s,u){if(s.doc.lineSep=u,!!u){var p=[],h=s.doc.first;s.doc.iter(function(w){for(var x=0;;){var O=w.text.indexOf(u,x);if(O==-1)break;x=O+u.length,p.push(Y(h,O))}h++});for(var v=p.length-1;v>=0;v--)si(s.doc,u,p[v],Y(p[v].line,p[v].ch+u.length))}}),a("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(s,u,p){s.state.specialChars=new RegExp(u.source+(u.test("	")?"":"|	"),"g"),p!=ci&&s.refresh()}),a("specialCharPlaceholder",Mk,function(s){return s.refresh()},!0),a("electricChars",!0),a("inputStyle",b?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),a("spellcheck",!1,function(s,u){return s.getInputField().spellcheck=u},!0),a("autocorrect",!1,function(s,u){return s.getInputField().autocorrect=u},!0),a("autocapitalize",!1,function(s,u){return s.getInputField().autocapitalize=u},!0),a("rtlMoveVisually",!I),a("wholeLineUpdateBefore",!0),a("theme","default",function(s){rh(s),oo(s)},!0),a("keyMap","default",function(s,u,p){var h=qs(u),v=p!=ci&&qs(p);v&&v.detach&&v.detach(s,h),h.attach&&h.attach(s,v||null)}),a("extraKeys",null),a("configureMouse",null),a("lineWrapping",!1,t1,!0),a("gutters",[],function(s,u){s.display.gutterSpecs=zl(u,s.options.lineNumbers),oo(s)},!0),a("fixedGutter",!0,function(s,u){s.display.gutters.style.left=u?Sl(s.display)+"px":"0",s.refresh()},!0),a("coverGutterNextToScrollbar",!1,function(s){return ni(s)},!0),a("scrollbarStyle","native",function(s){sp(s),ni(s),s.display.scrollbars.setScrollTop(s.doc.scrollTop),s.display.scrollbars.setScrollLeft(s.doc.scrollLeft)},!0),a("lineNumbers",!1,function(s,u){s.display.gutterSpecs=zl(s.options.gutters,u),oo(s)},!0),a("firstLineNumber",1,oo,!0),a("lineNumberFormatter",function(s){return s},oo,!0),a("showCursorWhenSelecting",!1,Xi,!0),a("resetSelectionOnContextMenu",!0),a("lineWiseCopyCut",!0),a("pasteLinesPerSelection",!0),a("selectionsMayTouch",!1),a("readOnly",!1,function(s,u){u=="nocursor"&&(ei(s),s.display.input.blur()),s.display.input.readOnlyChanged(u)}),a("screenReaderLabel",null,function(s,u){u=u===""?null:u,s.display.input.screenReaderLabelChanged(u)}),a("disableInput",!1,function(s,u){u||s.display.input.reset()},!0),a("dragDrop",!0,e1),a("allowDropFileTypes",null),a("cursorBlinkRate",530),a("cursorScrollMargin",0),a("cursorHeight",1,Xi,!0),a("singleCursorHeightPerLine",!0,Xi,!0),a("workTime",100),a("workDelay",100),a("flattenSpans",!0,so,!0),a("addModeClass",!1,so,!0),a("pollInterval",100),a("undoDepth",200,function(s,u){return s.doc.history.undoDepth=u}),a("historyEventDelay",1250),a("viewportMargin",10,function(s){return s.refresh()},!0),a("maxHighlightLength",1e4,so,!0),a("moveInputWithCursor",!0,function(s,u){u||s.display.input.resetPosition()}),a("tabindex",null,function(s,u){return s.display.input.getField().tabIndex=u||""}),a("autofocus",null),a("direction","ltr",function(s,u){return s.doc.setDirection(u)},!0),a("phrases",null)}function e1(t,r,a){var s=a&&a!=ci;if(!r!=!s){var u=t.display.dragFunctions,p=r?ye:wt;p(t.display.scroller,"dragstart",u.start),p(t.display.scroller,"dragenter",u.enter),p(t.display.scroller,"dragover",u.over),p(t.display.scroller,"dragleave",u.leave),p(t.display.scroller,"drop",u.drop)}}function t1(t){t.options.lineWrapping?(Pe(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(ne(t.display.wrapper,"CodeMirror-wrap"),ml(t)),El(t),Ft(t),Ji(t),setTimeout(function(){return ni(t)},100)}function Ge(t,r){var a=this;if(!(this instanceof Ge))return new Ge(t,r);this.options=r=r?V(r):{},V(ih,r,!1);var s=r.value;typeof s=="string"?s=new Nt(s,r.mode,null,r.lineSeparator,r.direction):r.mode&&(s.modeOption=r.mode),this.doc=s;var u=new Ge.inputStyles[r.inputStyle](this),p=this.display=new hC(t,s,u,r);p.wrapper.CodeMirror=this,rh(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),sp(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new re,keySeq:null,specialChars:null},r.autofocus&&!b&&p.input.focus(),f&&d<11&&setTimeout(function(){return a.display.input.reset(!0)},20),n1(this),OC(),wr(this),this.curOp.forceUpdate=!0,mp(this,s),r.autofocus&&!b||this.hasFocus()?setTimeout(function(){a.hasFocus()&&!a.state.focused&&Fl(a)},20):ei(this);for(var h in Ws)Ws.hasOwnProperty(h)&&Ws[h](this,r[h],ci);up(this),r.finishInit&&r.finishInit(this);for(var v=0;v<Zl.length;++v)Zl[v](this);br(this),g&&r.lineWrapping&&getComputedStyle(p.lineDiv).textRendering=="optimizelegibility"&&(p.lineDiv.style.textRendering="auto")}Ge.defaults=ih,Ge.optionHandlers=Ws;function n1(t){var r=t.display;ye(r.scroller,"mousedown",dt(t,Xp)),f&&d<11?ye(r.scroller,"dblclick",dt(t,function(w){if(!Ke(t,w)){var x=gr(t,w);if(!(!x||Kl(t,w)||Nn(t.display,w))){bt(w);var O=t.findWordAt(x);Ps(t.doc,O.anchor,O.head)}}})):ye(r.scroller,"dblclick",function(w){return Ke(t,w)||bt(w)}),ye(r.scroller,"contextmenu",function(w){return nh(t,w)}),ye(r.input.getField(),"contextmenu",function(w){r.scroller.contains(w.target)||nh(t,w)});var a,s={end:0};function u(){r.activeTouch&&(a=setTimeout(function(){return r.activeTouch=null},1e3),s=r.activeTouch,s.end=+new Date)}function p(w){if(w.touches.length!=1)return!1;var x=w.touches[0];return x.radiusX<=1&&x.radiusY<=1}function h(w,x){if(x.left==null)return!0;var O=x.left-w.left,j=x.top-w.top;return O*O+j*j>20*20}ye(r.scroller,"touchstart",function(w){if(!Ke(t,w)&&!p(w)&&!Kl(t,w)){r.input.ensurePolled(),clearTimeout(a);var x=+new Date;r.activeTouch={start:x,moved:!1,prev:x-s.end<=300?s:null},w.touches.length==1&&(r.activeTouch.left=w.touches[0].pageX,r.activeTouch.top=w.touches[0].pageY)}}),ye(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),ye(r.scroller,"touchend",function(w){var x=r.activeTouch;if(x&&!Nn(r,w)&&x.left!=null&&!x.moved&&new Date-x.start<300){var O=t.coordsChar(r.activeTouch,"page"),j;!x.prev||h(x,x.prev)?j=new Be(O,O):!x.prev.prev||h(x,x.prev.prev)?j=t.findWordAt(O):j=new Be(Y(O.line,0),ke(t.doc,Y(O.line+1,0))),t.setSelection(j.anchor,j.head),t.focus(),bt(w)}u()}),ye(r.scroller,"touchcancel",u),ye(r.scroller,"scroll",function(){r.scroller.clientHeight&&(to(t,r.scroller.scrollTop),yr(t,r.scroller.scrollLeft,!0),Qe(t,"scroll",t))}),ye(r.scroller,"mousewheel",function(w){return dp(t,w)}),ye(r.scroller,"DOMMouseScroll",function(w){return dp(t,w)}),ye(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(w){Ke(t,w)||qn(w)},over:function(w){Ke(t,w)||(NC(t,w),qn(w))},start:function(w){return FC(t,w)},drop:dt(t,TC),leave:function(w){Ke(t,w)||Hp(t)}};var v=r.input.getField();ye(v,"keyup",function(w){return Zp.call(t,w)}),ye(v,"keydown",dt(t,Kp)),ye(v,"keypress",dt(t,Jp)),ye(v,"focus",function(w){return Fl(t,w)}),ye(v,"blur",function(w){return ei(t,w)})}var Zl=[];Ge.defineInitHook=function(t){return Zl.push(t)};function bo(t,r,a,s){var u=t.doc,p;a==null&&(a="add"),a=="smart"&&(u.mode.indent?p=Vi(t,r).state:a="prev");var h=t.options.tabSize,v=ge(u,r),w=le(v.text,null,h);v.stateAfter&&(v.stateAfter=null);var x=v.text.match(/^\s*/)[0],O;if(!s&&!/\S/.test(v.text))O=0,a="not";else if(a=="smart"&&(O=u.mode.indent(p,v.text.slice(x.length),v.text),O==Ce||O>150)){if(!s)return;a="prev"}a=="prev"?r>u.first?O=le(ge(u,r-1).text,null,h):O=0:a=="add"?O=w+t.options.indentUnit:a=="subtract"?O=w-t.options.indentUnit:typeof a=="number"&&(O=w+a),O=Math.max(0,O);var j="",_=0;if(t.options.indentWithTabs)for(var H=Math.floor(O/h);H;--H)_+=h,j+="	";if(_<O&&(j+=at(O-_)),j!=x)return si(u,j,Y(r,0),Y(r,x.length),"+input"),v.stateAfter=null,!0;for(var Q=0;Q<u.sel.ranges.length;Q++){var te=u.sel.ranges[Q];if(te.head.line==r&&te.head.ch<x.length){var se=Y(r,x.length);$l(u,Q,new Be(se,se));break}}}var fn=null;function $s(t){fn=t}function Jl(t,r,a,s,u){var p=t.doc;t.display.shift=!1,s||(s=p.sel);var h=+new Date-200,v=u=="paste"||t.state.pasteIncoming>h,w=Jt(r),x=null;if(v&&s.ranges.length>1)if(fn&&fn.text.join(`
`)==r){if(s.ranges.length%fn.text.length==0){x=[];for(var O=0;O<fn.text.length;O++)x.push(p.splitLines(fn.text[O]))}}else w.length==s.ranges.length&&t.options.pasteLinesPerSelection&&(x=He(w,function(ue){return[ue]}));for(var j=t.curOp.updateInput,_=s.ranges.length-1;_>=0;_--){var H=s.ranges[_],Q=H.from(),te=H.to();H.empty()&&(a&&a>0?Q=Y(Q.line,Q.ch-a):t.state.overwrite&&!v?te=Y(te.line,Math.min(ge(p,te.line).text.length,te.ch+Te(w).length)):v&&fn&&fn.lineWise&&fn.text.join(`
`)==w.join(`
`)&&(Q=te=Y(Q.line,0)));var se={from:Q,to:te,text:x?x[_%x.length]:w,origin:u||(v?"paste":t.state.cutIncoming>h?"cut":"+input")};oi(t.doc,se),ft(t,"inputRead",t,se)}r&&!v&&sh(t,r),ti(t),t.curOp.updateInput<2&&(t.curOp.updateInput=j),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function oh(t,r){var a=t.clipboardData&&t.clipboardData.getData("Text");if(a)return t.preventDefault(),!r.isReadOnly()&&!r.options.disableInput&&r.hasFocus()&&jt(r,function(){return Jl(r,a,0,null,"paste")}),!0}function sh(t,r){if(!(!t.options.electricChars||!t.options.smartIndent))for(var a=t.doc.sel,s=a.ranges.length-1;s>=0;s--){var u=a.ranges[s];if(!(u.head.ch>100||s&&a.ranges[s-1].head.line==u.head.line)){var p=t.getModeAt(u.head),h=!1;if(p.electricChars){for(var v=0;v<p.electricChars.length;v++)if(r.indexOf(p.electricChars.charAt(v))>-1){h=bo(t,u.head.line,"smart");break}}else p.electricInput&&p.electricInput.test(ge(t.doc,u.head.line).text.slice(0,u.head.ch))&&(h=bo(t,u.head.line,"smart"));h&&ft(t,"electricInput",t,u.head.line)}}}function ah(t){for(var r=[],a=[],s=0;s<t.doc.sel.ranges.length;s++){var u=t.doc.sel.ranges[s].head.line,p={anchor:Y(u,0),head:Y(u+1,0)};a.push(p),r.push(t.getRange(p.anchor,p.head))}return{text:r,ranges:a}}function Xl(t,r,a,s){t.setAttribute("autocorrect",a?"on":"off"),t.setAttribute("autocapitalize",s?"on":"off"),t.setAttribute("spellcheck",!!r)}function lh(){var t=S("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),r=S("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return g?t.style.width="1000px":t.setAttribute("wrap","off"),N&&(t.style.border="1px solid black"),r}function r1(t){var r=t.optionHandlers,a=t.helpers={};t.prototype={constructor:t,focus:function(){xe(this).focus(),this.display.input.focus()},setOption:function(s,u){var p=this.options,h=p[s];p[s]==u&&s!="mode"||(p[s]=u,r.hasOwnProperty(s)&&dt(this,r[s])(this,u,h),Qe(this,"optionChange",this,s))},getOption:function(s){return this.options[s]},getDoc:function(){return this.doc},addKeyMap:function(s,u){this.state.keyMaps[u?"push":"unshift"](qs(s))},removeKeyMap:function(s){for(var u=this.state.keyMaps,p=0;p<u.length;++p)if(u[p]==s||u[p].name==s)return u.splice(p,1),!0},addOverlay:At(function(s,u){var p=s.token?s:t.getMode(this.options,s);if(p.startState)throw new Error("Overlays may not be stateful.");G(this.state.overlays,{mode:p,modeSpec:s,opaque:u&&u.opaque,priority:u&&u.priority||0},function(h){return h.priority}),this.state.modeGen++,Ft(this)}),removeOverlay:At(function(s){for(var u=this.state.overlays,p=0;p<u.length;++p){var h=u[p].modeSpec;if(h==s||typeof s=="string"&&h.name==s){u.splice(p,1),this.state.modeGen++,Ft(this);return}}}),indentLine:At(function(s,u,p){typeof u!="string"&&typeof u!="number"&&(u==null?u=this.options.smartIndent?"smart":"prev":u=u?"add":"subtract"),J(this.doc,s)&&bo(this,s,u,p)}),indentSelection:At(function(s){for(var u=this.doc.sel.ranges,p=-1,h=0;h<u.length;h++){var v=u[h];if(v.empty())v.head.line>p&&(bo(this,v.head.line,s,!0),p=v.head.line,h==this.doc.sel.primIndex&&ti(this));else{var w=v.from(),x=v.to(),O=Math.max(p,w.line);p=Math.min(this.lastLine(),x.line-(x.ch?0:1))+1;for(var j=O;j<p;++j)bo(this,j,s);var _=this.doc.sel.ranges;w.ch==0&&u.length==_.length&&_[h].from().ch>0&&$l(this.doc,h,new Be(w,_[h].to()),be)}}}),getTokenAt:function(s,u){return vd(this,s,u)},getLineTokens:function(s,u){return vd(this,Y(s),u,!0)},getTokenTypeAt:function(s){s=ke(this.doc,s);var u=gd(this,ge(this.doc,s.line)),p=0,h=(u.length-1)/2,v=s.ch,w;if(v==0)w=u[2];else for(;;){var x=p+h>>1;if((x?u[x*2-1]:0)>=v)h=x;else if(u[x*2+1]<v)p=x+1;else{w=u[x*2+2];break}}var O=w?w.indexOf("overlay "):-1;return O<0?w:O==0?null:w.slice(0,O-1)},getModeAt:function(s){var u=this.doc.mode;return u.innerMode?t.innerMode(u,this.getTokenAt(s).state).mode:u},getHelper:function(s,u){return this.getHelpers(s,u)[0]},getHelpers:function(s,u){var p=[];if(!a.hasOwnProperty(u))return p;var h=a[u],v=this.getModeAt(s);if(typeof v[u]=="string")h[v[u]]&&p.push(h[v[u]]);else if(v[u])for(var w=0;w<v[u].length;w++){var x=h[v[u][w]];x&&p.push(x)}else v.helperType&&h[v.helperType]?p.push(h[v.helperType]):h[v.name]&&p.push(h[v.name]);for(var O=0;O<h._global.length;O++){var j=h._global[O];j.pred(v,this)&&ie(p,j.val)==-1&&p.push(j.val)}return p},getStateAfter:function(s,u){var p=this.doc;return s=dd(p,s??p.first+p.size-1),Vi(this,s+1,u).state},cursorCoords:function(s,u){var p,h=this.doc.sel.primary();return s==null?p=h.head:typeof s=="object"?p=ke(this.doc,s):p=s?h.from():h.to(),un(this,p,u||"page")},charCoords:function(s,u){return Ss(this,ke(this.doc,s),u||"page")},coordsChar:function(s,u){return s=Vd(this,s,u||"page"),Cl(this,s.left,s.top)},lineAtHeight:function(s,u){return s=Vd(this,{top:s,left:0},u||"page").top,P(this.doc,s+this.display.viewOffset)},heightAtLine:function(s,u,p){var h=!1,v;if(typeof s=="number"){var w=this.doc.first+this.doc.size-1;s<this.doc.first?s=this.doc.first:s>w&&(s=w,h=!0),v=ge(this.doc,s)}else v=s;return As(this,v,{top:0,left:0},u||"page",p||h).top+(h?this.doc.height-Fn(v):0)},defaultTextHeight:function(){return Jr(this.display)},defaultCharWidth:function(){return Xr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(s,u,p,h,v){var w=this.display;s=un(this,ke(this.doc,s));var x=s.bottom,O=s.left;if(u.style.position="absolute",u.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(u),w.sizer.appendChild(u),h=="over")x=s.top;else if(h=="above"||h=="near"){var j=Math.max(w.wrapper.clientHeight,this.doc.height),_=Math.max(w.sizer.clientWidth,w.lineSpace.clientWidth);(h=="above"||s.bottom+u.offsetHeight>j)&&s.top>u.offsetHeight?x=s.top-u.offsetHeight:s.bottom+u.offsetHeight<=j&&(x=s.bottom),O+u.offsetWidth>_&&(O=_-u.offsetWidth)}u.style.top=x+"px",u.style.left=u.style.right="",v=="right"?(O=w.sizer.clientWidth-u.offsetWidth,u.style.right="0px"):(v=="left"?O=0:v=="middle"&&(O=(w.sizer.clientWidth-u.offsetWidth)/2),u.style.left=O+"px"),p&&eC(this,{left:O,top:x,right:O+u.offsetWidth,bottom:x+u.offsetHeight})},triggerOnKeyDown:At(Kp),triggerOnKeyPress:At(Jp),triggerOnKeyUp:Zp,triggerOnMouseDown:At(Xp),execCommand:function(s){if(mo.hasOwnProperty(s))return mo[s].call(null,this)},triggerElectric:At(function(s){sh(this,s)}),findPosH:function(s,u,p,h){var v=1;u<0&&(v=-1,u=-u);for(var w=ke(this.doc,s),x=0;x<u&&(w=eu(this.doc,w,v,p,h),!w.hitSide);++x);return w},moveH:At(function(s,u){var p=this;this.extendSelectionsBy(function(h){return p.display.shift||p.doc.extend||h.empty()?eu(p.doc,h.head,s,u,p.options.rtlMoveVisually):s<0?h.from():h.to()},Me)}),deleteH:At(function(s,u){var p=this.doc.sel,h=this.doc;p.somethingSelected()?h.replaceSelection("",null,"+delete"):ui(this,function(v){var w=eu(h,v.head,s,u,!1);return s<0?{from:w,to:v.head}:{from:v.head,to:w}})}),findPosV:function(s,u,p,h){var v=1,w=h;u<0&&(v=-1,u=-u);for(var x=ke(this.doc,s),O=0;O<u;++O){var j=un(this,x,"div");if(w==null?w=j.left:j.left=w,x=uh(this,j,v,p),x.hitSide)break}return x},moveV:At(function(s,u){var p=this,h=this.doc,v=[],w=!this.display.shift&&!h.extend&&h.sel.somethingSelected();if(h.extendSelectionsBy(function(O){if(w)return s<0?O.from():O.to();var j=un(p,O.head,"div");O.goalColumn!=null&&(j.left=O.goalColumn),v.push(j.left);var _=uh(p,j,s,u);return u=="page"&&O==h.sel.primary()&&Ol(p,Ss(p,_,"div").top-j.top),_},Me),v.length)for(var x=0;x<h.sel.ranges.length;x++)h.sel.ranges[x].goalColumn=v[x]}),findWordAt:function(s){var u=this.doc,p=ge(u,s.line).text,h=s.ch,v=s.ch;if(p){var w=this.getHelper(s,"wordChars");(s.sticky=="before"||v==p.length)&&h?--h:++v;for(var x=p.charAt(h),O=Sn(x,w)?function(j){return Sn(j,w)}:/\s/.test(x)?function(j){return/\s/.test(j)}:function(j){return!/\s/.test(j)&&!Sn(j)};h>0&&O(p.charAt(h-1));)--h;for(;v<p.length&&O(p.charAt(v));)++v}return new Be(Y(s.line,h),Y(s.line,v))},toggleOverwrite:function(s){s!=null&&s==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Pe(this.display.cursorDiv,"CodeMirror-overwrite"):ne(this.display.cursorDiv,"CodeMirror-overwrite"),Qe(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==De(yt(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:At(function(s,u){eo(this,s,u)}),getScrollInfo:function(){var s=this.display.scroller;return{left:s.scrollLeft,top:s.scrollTop,height:s.scrollHeight-kn(this)-this.display.barHeight,width:s.scrollWidth-kn(this)-this.display.barWidth,clientHeight:wl(this),clientWidth:pr(this)}},scrollIntoView:At(function(s,u){s==null?(s={from:this.doc.sel.primary().head,to:null},u==null&&(u=this.options.cursorScrollMargin)):typeof s=="number"?s={from:Y(s,0),to:null}:s.from==null&&(s={from:s,to:null}),s.to||(s.to=s.from),s.margin=u||0,s.from.line!=null?tC(this,s):np(this,s.from,s.to,s.margin)}),setSize:At(function(s,u){var p=this,h=function(w){return typeof w=="number"||/^\d+$/.test(String(w))?w+"px":w};s!=null&&(this.display.wrapper.style.width=h(s)),u!=null&&(this.display.wrapper.style.height=h(u)),this.options.lineWrapping&&$d(this);var v=this.display.viewFrom;this.doc.iter(v,this.display.viewTo,function(w){if(w.widgets){for(var x=0;x<w.widgets.length;x++)if(w.widgets[x].noHScroll){Gn(p,v,"widget");break}}++v}),this.curOp.forceUpdate=!0,Qe(this,"refresh",this)}),operation:function(s){return jt(this,s)},startOperation:function(){return wr(this)},endOperation:function(){return br(this)},refresh:At(function(){var s=this.display.cachedTextHeight;Ft(this),this.curOp.forceUpdate=!0,Ji(this),eo(this,this.doc.scrollLeft,this.doc.scrollTop),Pl(this.display),(s==null||Math.abs(s-Jr(this.display))>.5||this.options.lineWrapping)&&El(this),Qe(this,"refresh",this)}),swapDoc:At(function(s){var u=this.doc;return u.cm=null,this.state.selectingText&&this.state.selectingText(),mp(this,s),Ji(this),this.display.input.reset(),eo(this,s.scrollLeft,s.scrollTop),this.curOp.forceScroll=!0,ft(this,"swapDoc",this,u),u}),phrase:function(s){var u=this.options.phrases;return u&&Object.prototype.hasOwnProperty.call(u,s)?u[s]:s},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},nn(t),t.registerHelper=function(s,u,p){a.hasOwnProperty(s)||(a[s]=t[s]={_global:[]}),a[s][u]=p},t.registerGlobalHelper=function(s,u,p,h){t.registerHelper(s,u,h),a[s]._global.push({pred:p,val:h})}}function eu(t,r,a,s,u){var p=r,h=a,v=ge(t,r.line),w=u&&t.direction=="rtl"?-a:a;function x(){var de=r.line+w;return de<t.first||de>=t.first+t.size?!1:(r=new Y(de,r.ch,r.sticky),v=ge(t,de))}function O(de){var ce;if(s=="codepoint"){var he=v.text.charCodeAt(r.ch+(a>0?0:-1));if(isNaN(he))ce=null;else{var ve=a>0?he>=55296&&he<56320:he>=56320&&he<57343;ce=new Y(r.line,Math.max(0,Math.min(v.text.length,r.ch+a*(ve?2:1))),-a)}}else u?ce=zC(t.cm,v,r,a):ce=Gl(v,r,a);if(ce==null)if(!de&&x())r=Vl(u,t.cm,v,r.line,w);else return!1;else r=ce;return!0}if(s=="char"||s=="codepoint")O();else if(s=="column")O(!0);else if(s=="word"||s=="group")for(var j=null,_=s=="group",H=t.cm&&t.cm.getHelper(r,"wordChars"),Q=!0;!(a<0&&!O(!Q));Q=!1){var te=v.text.charAt(r.ch)||`
`,se=Sn(te,H)?"w":_&&te==`
`?"n":!_||/\s/.test(te)?null:"p";if(_&&!Q&&!se&&(se="s"),j&&j!=se){a<0&&(a=1,O(),r.sticky="after");break}if(se&&(j=se),a>0&&!O(!Q))break}var ue=zs(t,r,p,h,!0);return Ie(p,ue)&&(ue.hitSide=!0),ue}function uh(t,r,a,s){var u=t.doc,p=r.left,h;if(s=="page"){var v=Math.min(t.display.wrapper.clientHeight,xe(t).innerHeight||u(t).documentElement.clientHeight),w=Math.max(v-.5*Jr(t.display),3);h=(a>0?r.bottom:r.top)+a*w}else s=="line"&&(h=a>0?r.bottom+3:r.top-3);for(var x;x=Cl(t,p,h),!!x.outside;){if(a<0?h<=0:h>=u.height){x.hitSide=!0;break}h+=a*5}return x}var ze=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new re,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};ze.prototype.init=function(t){var r=this,a=this,s=a.cm,u=a.div=t.lineDiv;u.contentEditable=!0,Xl(u,s.options.spellcheck,s.options.autocorrect,s.options.autocapitalize);function p(v){for(var w=v.target;w;w=w.parentNode){if(w==u)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(w.className))break}return!1}ye(u,"paste",function(v){!p(v)||Ke(s,v)||oh(v,s)||d<=11&&setTimeout(dt(s,function(){return r.updateFromDOM()}),20)}),ye(u,"compositionstart",function(v){r.composing={data:v.data,done:!1}}),ye(u,"compositionupdate",function(v){r.composing||(r.composing={data:v.data,done:!1})}),ye(u,"compositionend",function(v){r.composing&&(v.data!=r.composing.data&&r.readFromDOMSoon(),r.composing.done=!0)}),ye(u,"touchstart",function(){return a.forceCompositionEnd()}),ye(u,"input",function(){r.composing||r.readFromDOMSoon()});function h(v){if(!(!p(v)||Ke(s,v))){if(s.somethingSelected())$s({lineWise:!1,text:s.getSelections()}),v.type=="cut"&&s.replaceSelection("",null,"cut");else if(s.options.lineWiseCopyCut){var w=ah(s);$s({lineWise:!0,text:w.text}),v.type=="cut"&&s.operation(function(){s.setSelections(w.ranges,0,be),s.replaceSelection("",null,"cut")})}else return;if(v.clipboardData){v.clipboardData.clearData();var x=fn.text.join(`
`);if(v.clipboardData.setData("Text",x),v.clipboardData.getData("Text")==x){v.preventDefault();return}}var O=lh(),j=O.firstChild;Xl(j),s.display.lineSpace.insertBefore(O,s.display.lineSpace.firstChild),j.value=fn.text.join(`
`);var _=De(je(u));nt(j),setTimeout(function(){s.display.lineSpace.removeChild(O),_.focus(),_==u&&a.showPrimarySelection()},50)}}ye(u,"copy",h),ye(u,"cut",h)},ze.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},ze.prototype.prepareSelection=function(){var t=Xd(this.cm,!1);return t.focus=De(je(this.div))==this.div,t},ze.prototype.showSelection=function(t,r){!t||!this.cm.display.view.length||((t.focus||r)&&this.showPrimarySelection(),this.showMultipleSelections(t))},ze.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ze.prototype.showPrimarySelection=function(){var t=this.getSelection(),r=this.cm,a=r.doc.sel.primary(),s=a.from(),u=a.to();if(r.display.viewTo==r.display.viewFrom||s.line>=r.display.viewTo||u.line<r.display.viewFrom){t.removeAllRanges();return}var p=Us(r,t.anchorNode,t.anchorOffset),h=Us(r,t.focusNode,t.focusOffset);if(!(p&&!p.bad&&h&&!h.bad&&fe(Yr(p,h),s)==0&&fe(Tt(p,h),u)==0)){var v=r.display.view,w=s.line>=r.display.viewFrom&&ch(r,s)||{node:v[0].measure.map[2],offset:0},x=u.line<r.display.viewTo&&ch(r,u);if(!x){var O=v[v.length-1].measure,j=O.maps?O.maps[O.maps.length-1]:O.map;x={node:j[j.length-1],offset:j[j.length-2]-j[j.length-3]}}if(!w||!x){t.removeAllRanges();return}var _=t.rangeCount&&t.getRangeAt(0),H;try{H=ee(w.node,w.offset,x.offset,x.node)}catch{}H&&(!i&&r.state.focused?(t.collapse(w.node,w.offset),H.collapsed||(t.removeAllRanges(),t.addRange(H))):(t.removeAllRanges(),t.addRange(H)),_&&t.anchorNode==null?t.addRange(_):i&&this.startGracePeriod()),this.rememberSelection()}},ze.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},ze.prototype.showMultipleSelections=function(t){Z(this.cm.display.cursorDiv,t.cursors),Z(this.cm.display.selectionDiv,t.selection)},ze.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},ze.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var r=t.getRangeAt(0).commonAncestorContainer;return pe(this.div,r)},ze.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||De(je(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},ze.prototype.blur=function(){this.div.blur()},ze.prototype.getField=function(){return this.div},ze.prototype.supportsTouch=function(){return!0},ze.prototype.receivedFocus=function(){var t=this,r=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):jt(this.cm,function(){return r.cm.curOp.selectionChanged=!0});function a(){r.cm.state.focused&&(r.pollSelection(),r.polling.set(r.cm.options.pollInterval,a))}this.polling.set(this.cm.options.pollInterval,a)},ze.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},ze.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),r=this.cm;if(A&&y&&this.cm.display.gutterSpecs.length&&i1(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var a=Us(r,t.anchorNode,t.anchorOffset),s=Us(r,t.focusNode,t.focusOffset);a&&s&&jt(r,function(){xt(r.doc,Yn(a,s),be),(a.bad||s.bad)&&(r.curOp.selectionChanged=!0)})}}},ze.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,r=t.display,a=t.doc.sel.primary(),s=a.from(),u=a.to();if(s.ch==0&&s.line>t.firstLine()&&(s=Y(s.line-1,ge(t.doc,s.line-1).length)),u.ch==ge(t.doc,u.line).text.length&&u.line<t.lastLine()&&(u=Y(u.line+1,0)),s.line<r.viewFrom||u.line>r.viewTo-1)return!1;var p,h,v;s.line==r.viewFrom||(p=mr(t,s.line))==0?(h=D(r.view[0].line),v=r.view[0].node):(h=D(r.view[p].line),v=r.view[p-1].node.nextSibling);var w=mr(t,u.line),x,O;if(w==r.view.length-1?(x=r.viewTo-1,O=r.lineDiv.lastChild):(x=D(r.view[w+1].line)-1,O=r.view[w+1].node.previousSibling),!v)return!1;for(var j=t.doc.splitLines(o1(t,v,O,h,x)),_=Ln(t.doc,Y(h,0),Y(x,ge(t.doc,x).text.length));j.length>1&&_.length>1;)if(Te(j)==Te(_))j.pop(),_.pop(),x--;else if(j[0]==_[0])j.shift(),_.shift(),h++;else break;for(var H=0,Q=0,te=j[0],se=_[0],ue=Math.min(te.length,se.length);H<ue&&te.charCodeAt(H)==se.charCodeAt(H);)++H;for(var de=Te(j),ce=Te(_),he=Math.min(de.length-(j.length==1?H:0),ce.length-(_.length==1?H:0));Q<he&&de.charCodeAt(de.length-Q-1)==ce.charCodeAt(ce.length-Q-1);)++Q;if(j.length==1&&_.length==1&&h==s.line)for(;H&&H>s.ch&&de.charCodeAt(de.length-Q-1)==ce.charCodeAt(ce.length-Q-1);)H--,Q++;j[j.length-1]=de.slice(0,de.length-Q).replace(/^\u200b+/,""),j[0]=j[0].slice(H).replace(/\u200b+$/,"");var ve=Y(h,H),me=Y(x,_.length?Te(_).length-Q:0);if(j.length>1||j[0]||fe(ve,me))return si(t.doc,j,ve,me,"+input"),!0},ze.prototype.ensurePolled=function(){this.forceCompositionEnd()},ze.prototype.reset=function(){this.forceCompositionEnd()},ze.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ze.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},ze.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&jt(this.cm,function(){return Ft(t.cm)})},ze.prototype.setUneditable=function(t){t.contentEditable="false"},ze.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||dt(this.cm,Jl)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},ze.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},ze.prototype.onContextMenu=function(){},ze.prototype.resetPosition=function(){},ze.prototype.needsContentAttribute=!0;function ch(t,r){var a=bl(t,r.line);if(!a||a.hidden)return null;var s=ge(t.doc,r.line),u=Rd(a,s,r.line),p=Le(s,t.doc.direction),h="left";if(p){var v=Hn(p,r.ch);h=v%2?"right":"left"}var w=_d(u.map,r.ch,h);return w.offset=w.collapse=="right"?w.end:w.start,w}function i1(t){for(var r=t;r;r=r.parentNode)if(/CodeMirror-gutter-wrapper/.test(r.className))return!0;return!1}function fi(t,r){return r&&(t.bad=!0),t}function o1(t,r,a,s,u){var p="",h=!1,v=t.doc.lineSeparator(),w=!1;function x(H){return function(Q){return Q.id==H}}function O(){h&&(p+=v,w&&(p+=v),h=w=!1)}function j(H){H&&(O(),p+=H)}function _(H){if(H.nodeType==1){var Q=H.getAttribute("cm-text");if(Q){j(Q);return}var te=H.getAttribute("cm-marker"),se;if(te){var ue=t.findMarks(Y(s,0),Y(u+1,0),x(+te));ue.length&&(se=ue[0].find(0))&&j(Ln(t.doc,se.from,se.to).join(v));return}if(H.getAttribute("contenteditable")=="false")return;var de=/^(pre|div|p|li|table|br)$/i.test(H.nodeName);if(!/^br$/i.test(H.nodeName)&&H.textContent.length==0)return;de&&O();for(var ce=0;ce<H.childNodes.length;ce++)_(H.childNodes[ce]);/^(pre|p)$/i.test(H.nodeName)&&(w=!0),de&&(h=!0)}else H.nodeType==3&&j(H.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;_(r),r!=a;)r=r.nextSibling,w=!1;return p}function Us(t,r,a){var s;if(r==t.display.lineDiv){if(s=t.display.lineDiv.childNodes[a],!s)return fi(t.clipPos(Y(t.display.viewTo-1)),!0);r=null,a=0}else for(s=r;;s=s.parentNode){if(!s||s==t.display.lineDiv)return null;if(s.parentNode&&s.parentNode==t.display.lineDiv)break}for(var u=0;u<t.display.view.length;u++){var p=t.display.view[u];if(p.node==s)return s1(p,r,a)}}function s1(t,r,a){var s=t.text.firstChild,u=!1;if(!r||!pe(s,r))return fi(Y(D(t.line),0),!0);if(r==s&&(u=!0,r=s.childNodes[a],a=0,!r)){var p=t.rest?Te(t.rest):t.line;return fi(Y(D(p),p.text.length),u)}var h=r.nodeType==3?r:null,v=r;for(!h&&r.childNodes.length==1&&r.firstChild.nodeType==3&&(h=r.firstChild,a&&(a=h.nodeValue.length));v.parentNode!=s;)v=v.parentNode;var w=t.measure,x=w.maps;function O(se,ue,de){for(var ce=-1;ce<(x?x.length:0);ce++)for(var he=ce<0?w.map:x[ce],ve=0;ve<he.length;ve+=3){var me=he[ve+2];if(me==se||me==ue){var Se=D(ce<0?t.line:t.rest[ce]),qe=he[ve]+de;return(de<0||me!=se)&&(qe=he[ve+(de?1:0)]),Y(Se,qe)}}}var j=O(h,v,a);if(j)return fi(j,u);for(var _=v.nextSibling,H=h?h.nodeValue.length-a:0;_;_=_.nextSibling){if(j=O(_,_.firstChild,0),j)return fi(Y(j.line,j.ch-H),u);H+=_.textContent.length}for(var Q=v.previousSibling,te=a;Q;Q=Q.previousSibling){if(j=O(Q,Q.firstChild,-1),j)return fi(Y(j.line,j.ch+te),u);te+=Q.textContent.length}}var tt=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new re,this.hasSelection=!1,this.composing=null,this.resetting=!1};tt.prototype.init=function(t){var r=this,a=this,s=this.cm;this.createField(t);var u=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),N&&(u.style.width="0px"),ye(u,"input",function(){f&&d>=9&&r.hasSelection&&(r.hasSelection=null),a.poll()}),ye(u,"paste",function(h){Ke(s,h)||oh(h,s)||(s.state.pasteIncoming=+new Date,a.fastPoll())});function p(h){if(!Ke(s,h)){if(s.somethingSelected())$s({lineWise:!1,text:s.getSelections()});else if(s.options.lineWiseCopyCut){var v=ah(s);$s({lineWise:!0,text:v.text}),h.type=="cut"?s.setSelections(v.ranges,null,be):(a.prevInput="",u.value=v.text.join(`
`),nt(u))}else return;h.type=="cut"&&(s.state.cutIncoming=+new Date)}}ye(u,"cut",p),ye(u,"copy",p),ye(t.scroller,"paste",function(h){if(!(Nn(t,h)||Ke(s,h))){if(!u.dispatchEvent){s.state.pasteIncoming=+new Date,a.focus();return}var v=new Event("paste");v.clipboardData=h.clipboardData,u.dispatchEvent(v)}}),ye(t.lineSpace,"selectstart",function(h){Nn(t,h)||bt(h)}),ye(u,"compositionstart",function(){var h=s.getCursor("from");a.composing&&a.composing.range.clear(),a.composing={start:h,range:s.markText(h,s.getCursor("to"),{className:"CodeMirror-composing"})}}),ye(u,"compositionend",function(){a.composing&&(a.poll(),a.composing.range.clear(),a.composing=null)})},tt.prototype.createField=function(t){this.wrapper=lh(),this.textarea=this.wrapper.firstChild;var r=this.cm.options;Xl(this.textarea,r.spellcheck,r.autocorrect,r.autocapitalize)},tt.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},tt.prototype.prepareSelection=function(){var t=this.cm,r=t.display,a=t.doc,s=Xd(t);if(t.options.moveInputWithCursor){var u=un(t,a.sel.primary().head,"div"),p=r.wrapper.getBoundingClientRect(),h=r.lineDiv.getBoundingClientRect();s.teTop=Math.max(0,Math.min(r.wrapper.clientHeight-10,u.top+h.top-p.top)),s.teLeft=Math.max(0,Math.min(r.wrapper.clientWidth-10,u.left+h.left-p.left))}return s},tt.prototype.showSelection=function(t){var r=this.cm,a=r.display;Z(a.cursorDiv,t.cursors),Z(a.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},tt.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var r=this.cm;if(this.resetting=!0,r.somethingSelected()){this.prevInput="";var a=r.getSelection();this.textarea.value=a,r.state.focused&&nt(this.textarea),f&&d>=9&&(this.hasSelection=a)}else t||(this.prevInput=this.textarea.value="",f&&d>=9&&(this.hasSelection=null));this.resetting=!1}},tt.prototype.getField=function(){return this.textarea},tt.prototype.supportsTouch=function(){return!1},tt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!b||De(je(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},tt.prototype.blur=function(){this.textarea.blur()},tt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},tt.prototype.receivedFocus=function(){this.slowPoll()},tt.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},tt.prototype.fastPoll=function(){var t=!1,r=this;r.pollingFast=!0;function a(){var s=r.poll();!s&&!t?(t=!0,r.polling.set(60,a)):(r.pollingFast=!1,r.slowPoll())}r.polling.set(20,a)},tt.prototype.poll=function(){var t=this,r=this.cm,a=this.textarea,s=this.prevInput;if(this.contextMenuPending||this.resetting||!r.state.focused||Wn(a)&&!s&&!this.composing||r.isReadOnly()||r.options.disableInput||r.state.keySeq)return!1;var u=a.value;if(u==s&&!r.somethingSelected())return!1;if(f&&d>=9&&this.hasSelection===u||L&&/[\uf700-\uf7ff]/.test(u))return r.display.input.reset(),!1;if(r.doc.sel==r.display.selForContextMenu){var p=u.charCodeAt(0);if(p==8203&&!s&&(s="\u200B"),p==8666)return this.reset(),this.cm.execCommand("undo")}for(var h=0,v=Math.min(s.length,u.length);h<v&&s.charCodeAt(h)==u.charCodeAt(h);)++h;return jt(r,function(){Jl(r,u.slice(h),s.length-h,null,t.composing?"*compose":null),u.length>1e3||u.indexOf(`
`)>-1?a.value=t.prevInput="":t.prevInput=u,t.composing&&(t.composing.range.clear(),t.composing.range=r.markText(t.composing.start,r.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},tt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},tt.prototype.onKeyPress=function(){f&&d>=9&&(this.hasSelection=null),this.fastPoll()},tt.prototype.onContextMenu=function(t){var r=this,a=r.cm,s=a.display,u=r.textarea;r.contextMenuPending&&r.contextMenuPending();var p=gr(a,t),h=s.scroller.scrollTop;if(!p||C)return;var v=a.options.resetSelectionOnContextMenu;v&&a.doc.sel.contains(p)==-1&&dt(a,xt)(a.doc,Yn(p),be);var w=u.style.cssText,x=r.wrapper.style.cssText,O=r.wrapper.offsetParent.getBoundingClientRect();r.wrapper.style.cssText="position: static",u.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(t.clientY-O.top-5)+"px; left: "+(t.clientX-O.left-5)+`px;
      z-index: 1000; background: `+(f?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var j;g&&(j=u.ownerDocument.defaultView.scrollY),s.input.focus(),g&&u.ownerDocument.defaultView.scrollTo(null,j),s.input.reset(),a.somethingSelected()||(u.value=r.prevInput=" "),r.contextMenuPending=H,s.selForContextMenu=a.doc.sel,clearTimeout(s.detectingSelectAll);function _(){if(u.selectionStart!=null){var te=a.somethingSelected(),se="\u200B"+(te?u.value:"");u.value="\u21DA",u.value=se,r.prevInput=te?"":"\u200B",u.selectionStart=1,u.selectionEnd=se.length,s.selForContextMenu=a.doc.sel}}function H(){if(r.contextMenuPending==H&&(r.contextMenuPending=!1,r.wrapper.style.cssText=x,u.style.cssText=w,f&&d<9&&s.scrollbars.setScrollTop(s.scroller.scrollTop=h),u.selectionStart!=null)){(!f||f&&d<9)&&_();var te=0,se=function(){s.selForContextMenu==a.doc.sel&&u.selectionStart==0&&u.selectionEnd>0&&r.prevInput=="\u200B"?dt(a,Lp)(a):te++<10?s.detectingSelectAll=setTimeout(se,500):(s.selForContextMenu=null,s.input.reset())};s.detectingSelectAll=setTimeout(se,200)}}if(f&&d>=9&&_(),U){qn(t);var Q=function(){wt(window,"mouseup",Q),setTimeout(H,20)};ye(window,"mouseup",Q)}else setTimeout(H,50)},tt.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},tt.prototype.setUneditable=function(){},tt.prototype.needsContentAttribute=!1;function a1(t,r){if(r=r?V(r):{},r.value=t.value,!r.tabindex&&t.tabIndex&&(r.tabindex=t.tabIndex),!r.placeholder&&t.placeholder&&(r.placeholder=t.placeholder),r.autofocus==null){var a=De(je(t));r.autofocus=a==t||t.getAttribute("autofocus")!=null&&a==document.body}function s(){t.value=v.getValue()}var u;if(t.form&&(ye(t.form,"submit",s),!r.leaveSubmitMethodAlone)){var p=t.form;u=p.submit;try{var h=p.submit=function(){s(),p.submit=u,p.submit(),p.submit=h}}catch{}}r.finishInit=function(w){w.save=s,w.getTextArea=function(){return t},w.toTextArea=function(){w.toTextArea=isNaN,s(),t.parentNode.removeChild(w.getWrapperElement()),t.style.display="",t.form&&(wt(t.form,"submit",s),!r.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=u))}},t.style.display="none";var v=Ge(function(w){return t.parentNode.insertBefore(w,t.nextSibling)},r);return v}function l1(t){t.off=wt,t.on=ye,t.wheelEventPixels=gC,t.Doc=Nt,t.splitLines=Jt,t.countColumn=le,t.findColumn=Ue,t.isWordChar=vt,t.Pass=Ce,t.signal=Qe,t.Line=Qr,t.changeEnd=Qn,t.scrollbarModel=op,t.Pos=Y,t.cmpPos=fe,t.modes=Wr,t.mimeModes=sn,t.resolveMode=$r,t.getMode=Ur,t.modeExtensions=$n,t.extendMode=Gr,t.copyState=bn,t.startState=Vr,t.innerMode=Ui,t.commands=mo,t.keyMap=In,t.keyName=Up,t.isModifierKey=Wp,t.lookupKey=li,t.normalizeKeyMap=jC,t.StringStream=Ze,t.SharedTextMarker=po,t.TextMarker=Zn,t.LineWidget=fo,t.e_preventDefault=bt,t.e_stopPropagation=qr,t.e_stop=qn,t.addClass=Pe,t.contains=pe,t.rmClass=ne,t.keyNames=Jn}XC(Ge),r1(Ge);var u1="iter insert remove copy getEditor constructor".split(" ");for(var Gs in Nt.prototype)Nt.prototype.hasOwnProperty(Gs)&&ie(u1,Gs)<0&&(Ge.prototype[Gs]=function(t){return function(){return t.apply(this.doc,arguments)}}(Nt.prototype[Gs]));return nn(Nt),Ge.inputStyles={textarea:tt,contenteditable:ze},Ge.defineMode=function(t){!Ge.defaults.mode&&t!="null"&&(Ge.defaults.mode=t),an.apply(this,arguments)},Ge.defineMIME=dr,Ge.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),Ge.defineMIME("text/plain","null"),Ge.defineExtension=function(t,r){Ge.prototype[t]=r},Ge.defineDocExtension=function(t,r){Nt.prototype[t]=r},Ge.fromTextArea=a1,l1(Ge),Ge.version="5.65.18",Ge})});function pf(n){let e=new Set(["has","in","no","not","and","or","is","asc","ascN","ascA","ascAN","ascNA","desc","descN","descA","descAN","descNA"]),i=df.default.getMode(n,{name:"javascript",json:!0});return{...i,indent(o,l){return o.indented+n.indentUnit*(o.lastType==="{"&&l.trim()[0]!=="}"||o.lastType==="("&&l.trim()[0]!==")"||o.lastType==="["&&l.trim()[0]!=="]")},token(o,l){let c=o.peek();if(c==="#"||c==="@")return i.token(new df.default.StringStream("$",4,o.lineOracle),l),o.pos++,"variable";let f=i.token(o,l),d=o.string.slice(o.start,o.pos);if(o.string[o.start-1]!=="."){if(l.isAssertionContext){if((f==="variable"||f==="atom")&&l.isAssertionParen===0&&d!=="not")return"type";d==="("?l.isAssertionParen++:d===")"&&(l.isAssertionParen>0&&l.isAssertionParen--,l.isAssertionParen===0&&(l.isAssertionContext=!1))}if(e.has(d))return d==="is"&&(l.isAssertionContext=!0,l.isAssertionParen=0),"keyword"}if(l.isAssertionContext){if(f==="variable"||f==="atom"||f==="def"||d==="function")return"type";l.isAssertionParen===0&&(f||/\S/.test(d))&&(l.isAssertionContext=!1)}return f}}}var df,vv=z(()=>{df=dn(An(),1)});function bv(n,e){let i=typeof e.isDiscoveryViewDefined=="function"?e.isDiscoveryViewDefined:()=>{},o=wv.default.getMode(n,{name:"javascript",json:!0});return{...o,indent(l,c){return l.indented+n.indentUnit*(l.lastType==="{"&&c.trim()[0]!=="}"||l.lastType==="("&&c.trim()[0]!==")"||l.lastType==="["&&c.trim()[0]!=="]")},token:function(l,c){if(c.suspendTokens){let{pos:g,token:m}=c.suspendTokens.shift();return l.pos=g,c.suspendTokens.length===0&&(c.suspendTokens=null),m}let f=l.pos,d=o.token(l,c);if(d==="string"){let g=l.pos,[,m]=l.string.slice(f+1,g-1).match(/^(.+?)([:{]|$)/)||[];i(m)&&(l.pos=f+1,c.suspendTokens=[{pos:f+1+m.length,token:"string discovery-view-name"},{pos:g,token:d}])}return d}}}var wv,xv=z(()=>{wv=dn(An(),1)});var hf=Ct((kv,Cv)=>{(function(n){typeof kv=="object"&&typeof Cv=="object"?n(An()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("javascript",function(e,i){var o=e.indentUnit,l=i.statementIndent,c=i.jsonld,f=i.json||c,d=i.trackScope!==!1,g=i.typescript,m=i.wordCharacters||/[\w$\xa1-\uffff]/,y=function(){function D(ct){return{type:ct,style:"keyword"}}var P=D("keyword a"),J=D("keyword b"),oe=D("keyword c"),Y=D("keyword d"),fe=D("operator"),Ie={type:"atom",style:"atom"};return{if:D("if"),while:P,with:P,else:J,do:J,try:J,finally:J,return:Y,break:Y,continue:Y,new:D("new"),delete:oe,void:oe,throw:oe,debugger:D("debugger"),var:D("var"),const:D("var"),let:D("var"),function:D("function"),catch:D("catch"),for:D("for"),switch:D("switch"),case:D("case"),default:D("default"),in:fe,typeof:fe,instanceof:fe,true:Ie,false:Ie,null:Ie,undefined:Ie,NaN:Ie,Infinity:Ie,this:D("this"),class:D("class"),super:D("atom"),yield:oe,export:D("export"),import:D("import"),extends:oe,await:oe}}(),k=/[+\-*&%=<>!?|~^@]/,C=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function M(D){for(var P=!1,J,oe=!1;(J=D.next())!=null;){if(!P){if(J=="/"&&!oe)return;J=="["?oe=!0:oe&&J=="]"&&(oe=!1)}P=!P&&J=="\\"}}var E,F;function N(D,P,J){return E=D,F=J,P}function A(D,P){var J=D.next();if(J=='"'||J=="'")return P.tokenize=b(J),P.tokenize(D,P);if(J=="."&&D.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return N("number","number");if(J=="."&&D.match(".."))return N("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(J))return N(J);if(J=="="&&D.eat(">"))return N("=>","operator");if(J=="0"&&D.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return N("number","number");if(/\d/.test(J))return D.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),N("number","number");if(J=="/")return D.eat("*")?(P.tokenize=L,L(D,P)):D.eat("/")?(D.skipToEnd(),N("comment","comment")):Ut(D,P,1)?(M(D),D.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),N("regexp","string-2")):(D.eat("="),N("operator","operator",D.current()));if(J=="`")return P.tokenize=T,T(D,P);if(J=="#"&&D.peek()=="!")return D.skipToEnd(),N("meta","meta");if(J=="#"&&D.eatWhile(m))return N("variable","property");if(J=="<"&&D.match("!--")||J=="-"&&D.match("->")&&!/\S/.test(D.string.slice(0,D.start)))return D.skipToEnd(),N("comment","comment");if(k.test(J))return(J!=">"||!P.lexical||P.lexical.type!=">")&&(D.eat("=")?(J=="!"||J=="=")&&D.eat("="):/[<>*+\-|&?]/.test(J)&&(D.eat(J),J==">"&&D.eat(J))),J=="?"&&D.eat(".")?N("."):N("operator","operator",D.current());if(m.test(J)){D.eatWhile(m);var oe=D.current();if(P.lastType!="."){if(y.propertyIsEnumerable(oe)){var Y=y[oe];return N(Y.type,Y.style,oe)}if(oe=="async"&&D.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return N("async","keyword",oe)}return N("variable","variable",oe)}}function b(D){return function(P,J){var oe=!1,Y;if(c&&P.peek()=="@"&&P.match(C))return J.tokenize=A,N("jsonld-keyword","meta");for(;(Y=P.next())!=null&&!(Y==D&&!oe);)oe=!oe&&Y=="\\";return oe||(J.tokenize=A),N("string","string")}}function L(D,P){for(var J=!1,oe;oe=D.next();){if(oe=="/"&&J){P.tokenize=A;break}J=oe=="*"}return N("comment","comment")}function T(D,P){for(var J=!1,oe;(oe=D.next())!=null;){if(!J&&(oe=="`"||oe=="$"&&D.eat("{"))){P.tokenize=A;break}J=!J&&oe=="\\"}return N("quasi","string-2",D.current())}var I="([{}])";function B(D,P){P.fatArrowAt&&(P.fatArrowAt=null);var J=D.string.indexOf("=>",D.start);if(!(J<0)){if(g){var oe=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(D.string.slice(D.start,J));oe&&(J=oe.index)}for(var Y=0,fe=!1,Ie=J-1;Ie>=0;--Ie){var ct=D.string.charAt(Ie),Tt=I.indexOf(ct);if(Tt>=0&&Tt<3){if(!Y){++Ie;break}if(--Y==0){ct=="("&&(fe=!0);break}}else if(Tt>=3&&Tt<6)++Y;else if(m.test(ct))fe=!0;else if(/["'\/`]/.test(ct))for(;;--Ie){if(Ie==0)return;var Yr=D.string.charAt(Ie-1);if(Yr==ct&&D.string.charAt(Ie-2)!="\\"){Ie--;break}}else if(fe&&!Y){++Ie;break}}fe&&!Y&&(P.fatArrowAt=Ie)}}var R={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function U(D,P,J,oe,Y,fe){this.indented=D,this.column=P,this.type=J,this.prev=Y,this.info=fe,oe!=null&&(this.align=oe)}function W(D,P){if(!d)return!1;for(var J=D.localVars;J;J=J.next)if(J.name==P)return!0;for(var oe=D.context;oe;oe=oe.prev)for(var J=oe.vars;J;J=J.next)if(J.name==P)return!0}function ne(D,P,J,oe,Y){var fe=D.cc;for(q.state=D,q.stream=Y,q.marked=null,q.cc=fe,q.style=P,D.lexical.hasOwnProperty("align")||(D.lexical.align=!0);;){var Ie=fe.length?fe.pop():f?ie:le;if(Ie(J,oe)){for(;fe.length&&fe[fe.length-1].lex;)fe.pop()();return q.marked?q.marked:J=="variable"&&W(D,oe)?"variable-2":P}}}var q={state:null,column:null,marked:null,cc:null};function Z(){for(var D=arguments.length-1;D>=0;D--)q.cc.push(arguments[D])}function S(){return Z.apply(null,arguments),!0}function X(D,P){for(var J=P;J;J=J.next)if(J.name==D)return!0;return!1}function ee(D){var P=q.state;if(q.marked="def",!!d){if(P.context){if(P.lexical.info=="var"&&P.context&&P.context.block){var J=pe(D,P.context);if(J!=null){P.context=J;return}}else if(!X(D,P.localVars)){P.localVars=new et(D,P.localVars);return}}i.globalVars&&!X(D,P.globalVars)&&(P.globalVars=new et(D,P.globalVars))}}function pe(D,P){if(P)if(P.block){var J=pe(D,P.prev);return J?J==P.prev?P:new Pe(J,P.vars,!0):null}else return X(D,P.vars)?P:new Pe(P.prev,new et(D,P.vars),!1);else return null}function De(D){return D=="public"||D=="private"||D=="protected"||D=="abstract"||D=="readonly"}function Pe(D,P,J){this.prev=D,this.vars=P,this.block=J}function et(D,P){this.name=D,this.next=P}var nt=new et("this",new et("arguments",null));function Ye(){q.state.context=new Pe(q.state.context,q.state.localVars,!1),q.state.localVars=nt}function yt(){q.state.context=new Pe(q.state.context,q.state.localVars,!0),q.state.localVars=null}Ye.lex=yt.lex=!0;function je(){q.state.localVars=q.state.context.vars,q.state.context=q.state.context.prev}je.lex=!0;function xe(D,P){var J=function(){var oe=q.state,Y=oe.indented;if(oe.lexical.type=="stat")Y=oe.lexical.indented;else for(var fe=oe.lexical;fe&&fe.type==")"&&fe.align;fe=fe.prev)Y=fe.indented;oe.lexical=new U(Y,q.stream.column(),D,null,oe.lexical,P)};return J.lex=!0,J}function we(){var D=q.state;D.lexical.prev&&(D.lexical.type==")"&&(D.indented=D.lexical.indented),D.lexical=D.lexical.prev)}we.lex=!0;function V(D){function P(J){return J==D?S():D==";"||J=="}"||J==")"||J=="]"?Z():S(P)}return P}function le(D,P){return D=="var"?S(xe("vardef",P),qr,V(";"),we):D=="keyword a"?S(xe("form"),Ce,le,we):D=="keyword b"?S(xe("form"),le,we):D=="keyword d"?q.stream.match(/^\s*$/,!1)?S():S(xe("stat"),$e,V(";"),we):D=="debugger"?S(V(";")):D=="{"?S(xe("}"),yt,wn,we,je):D==";"?S():D=="if"?(q.state.lexical.info=="else"&&q.state.cc[q.state.cc.length-1]==we&&q.state.cc.pop()(),S(xe("form"),Ce,le,we,_r)):D=="function"?S(Jt):D=="for"?S(xe("form"),yt,gs,le,je,we):D=="class"||g&&P=="interface"?(q.marked="keyword",S(xe("form",D=="class"?D:P),Wr,we)):D=="variable"?g&&P=="declare"?(q.marked="keyword",S(le)):g&&(P=="module"||P=="enum"||P=="type")&&q.stream.match(/^\s*\w/,!1)?(q.marked="keyword",P=="enum"?S(ge):P=="type"?S(ms,V("operator"),Le,V(";")):S(xe("form"),Lt,V("{"),xe("}"),wn,we,we)):g&&P=="namespace"?(q.marked="keyword",S(xe("form"),ie,le,we)):g&&P=="abstract"?(q.marked="keyword",S(le)):S(xe("stat"),Ne):D=="switch"?S(xe("form"),Ce,V("{"),xe("}","switch"),yt,wn,we,we,je):D=="case"?S(ie,V(":")):D=="default"?S(V(":")):D=="catch"?S(xe("form"),Ye,re,le,we,je):D=="export"?S(xe("stat"),$r,we):D=="import"?S(xe("stat"),$n,we):D=="async"?S(le):P=="@"?S(ie,le):Z(xe("stat"),ie,V(";"),we)}function re(D){if(D=="(")return S(on,V(")"))}function ie(D,P){return be(D,P,!1)}function Ee(D,P){return be(D,P,!0)}function Ce(D){return D!="("?Z():S(xe(")"),$e,V(")"),we)}function be(D,P,J){if(q.state.fatArrowAt==q.stream.start){var oe=J?He:Te;if(D=="(")return S(Ye,xe(")"),rt(on,")"),we,V("=>"),oe,je);if(D=="variable")return Z(Ye,Lt,V("=>"),oe,je)}var Y=J?Ue:Me;return R.hasOwnProperty(D)?S(Y):D=="function"?S(Jt,Y):D=="class"||g&&P=="interface"?(q.marked="keyword",S(xe("form"),ul,we)):D=="keyword c"||D=="async"?S(J?Ee:ie):D=="("?S(xe(")"),$e,V(")"),we,Y):D=="operator"||D=="spread"?S(J?Ee:ie):D=="["?S(xe("]"),Ze,we,Y):D=="{"?zn(Sn,"}",null,Y):D=="quasi"?Z(ut,Y):D=="new"?S(G(J)):S()}function $e(D){return D.match(/[;\}\)\],]/)?Z():Z(ie)}function Me(D,P){return D==","?S($e):Ue(D,P,!1)}function Ue(D,P,J){var oe=J==!1?Me:Ue,Y=J==!1?ie:Ee;if(D=="=>")return S(Ye,J?He:Te,je);if(D=="operator")return/\+\+|--/.test(P)||g&&P=="!"?S(oe):g&&P=="<"&&q.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?S(xe(">"),rt(Le,">"),we,oe):P=="?"?S(ie,V(":"),Y):S(Y);if(D=="quasi")return Z(ut,oe);if(D!=";"){if(D=="(")return zn(Ee,")","call",oe);if(D==".")return S(vt,oe);if(D=="[")return S(xe("]"),$e,V("]"),we,oe);if(g&&P=="as")return q.marked="keyword",S(Le,oe);if(D=="regexp")return q.state.lastType=q.marked="operator",q.stream.backUp(q.stream.pos-q.stream.start-1),S(Y)}}function ut(D,P){return D!="quasi"?Z():P.slice(P.length-2)!="${"?S(ut):S($e,at)}function at(D){if(D=="}")return q.marked="string-2",q.state.tokenize=T,S(ut)}function Te(D){return B(q.stream,q.state),Z(D=="{"?le:ie)}function He(D){return B(q.stream,q.state),Z(D=="{"?le:Ee)}function G(D){return function(P){return P=="."?S(D?K:ae):P=="variable"&&g?S(Pt,D?Ue:Me):Z(D?Ee:ie)}}function ae(D,P){if(P=="target")return q.marked="keyword",S(Me)}function K(D,P){if(P=="target")return q.marked="keyword",S(Ue)}function Ne(D){return D==":"?S(we,le):Z(Me,V(";"),we)}function vt(D){if(D=="variable")return q.marked="property",S()}function Sn(D,P){if(D=="async")return q.marked="property",S(Sn);if(D=="variable"||q.style=="keyword"){if(q.marked="property",P=="get"||P=="set")return S(ps);var J;return g&&q.state.fatArrowAt==q.stream.start&&(J=q.stream.match(/^\s*:\s*/,!1))&&(q.state.fatArrowAt=q.stream.pos+J[0].length),S(En)}else{if(D=="number"||D=="string")return q.marked=c?"property":q.style+" property",S(En);if(D=="jsonld-keyword")return S(En);if(g&&De(P))return q.marked="keyword",S(Sn);if(D=="[")return S(ie,Rn,V("]"),En);if(D=="spread")return S(Ee,En);if(P=="*")return q.marked="keyword",S(Sn);if(D==":")return Z(En)}}function ps(D){return D!="variable"?Z(En):(q.marked="property",S(Jt))}function En(D){if(D==":")return S(Ee);if(D=="(")return Z(Jt)}function rt(D,P,J){function oe(Y,fe){if(J?J.indexOf(Y)>-1:Y==","){var Ie=q.state.lexical;return Ie.info=="call"&&(Ie.pos=(Ie.pos||0)+1),S(function(ct,Tt){return ct==P||Tt==P?Z():Z(D)},oe)}return Y==P||fe==P?S():J&&J.indexOf(";")>-1?Z(D):S(V(P))}return function(Y,fe){return Y==P||fe==P?S():Z(D,oe)}}function zn(D,P,J){for(var oe=3;oe<arguments.length;oe++)q.cc.push(arguments[oe]);return S(xe(P,J),rt(D,P),we)}function wn(D){return D=="}"?S():Z(le,wn)}function Rn(D,P){if(g){if(D==":")return S(Le);if(P=="?")return S(Rn)}}function fr(D,P){if(g&&(D==":"||P=="in"))return S(Le)}function Hn(D){if(g&&D==":")return q.stream.match(/^\s*\w+\s+is\b/,!1)?S(ie,al,Le):S(Le)}function al(D,P){if(P=="is")return q.marked="keyword",S()}function Le(D,P){if(P=="keyof"||P=="typeof"||P=="infer"||P=="readonly")return q.marked="keyword",S(P=="typeof"?Ee:Le);if(D=="variable"||P=="void")return q.marked="type",S(Zt);if(P=="|"||P=="&")return S(Le);if(D=="string"||D=="number"||D=="atom")return S(Zt);if(D=="[")return S(xe("]"),rt(Le,"]",","),we,Zt);if(D=="{")return S(xe("}"),ye,we,Zt);if(D=="(")return S(rt(Ke,")"),hs,Zt);if(D=="<")return S(rt(Le,">"),Le);if(D=="quasi")return Z(wt,Zt)}function hs(D){if(D=="=>")return S(Le)}function ye(D){return D.match(/[\}\)\]]/)?S():D==","||D==";"?S(ye):Z(Mn,ye)}function Mn(D,P){if(D=="variable"||q.style=="keyword")return q.marked="property",S(Mn);if(P=="?"||D=="number"||D=="string")return S(Mn);if(D==":")return S(Le);if(D=="[")return S(V("variable"),fr,V("]"),Mn);if(D=="(")return Z(Wn,Mn);if(!D.match(/[;\}\)\],]/))return S()}function wt(D,P){return D!="quasi"?Z():P.slice(P.length-2)!="${"?S(wt):S(Le,Qe)}function Qe(D){if(D=="}")return q.marked="string-2",q.state.tokenize=T,S(wt)}function Ke(D,P){return D=="variable"&&q.stream.match(/^\s*[?:]/,!1)||P=="?"?S(Ke):D==":"?S(Le):D=="spread"?S(Ke):Z(Le)}function Zt(D,P){if(P=="<")return S(xe(">"),rt(Le,">"),we,Zt);if(P=="|"||D=="."||P=="&")return S(Le);if(D=="[")return S(Le,V("]"),Zt);if(P=="extends"||P=="implements")return q.marked="keyword",S(Le);if(P=="?")return S(Le,V(":"),Le)}function Pt(D,P){if(P=="<")return S(xe(">"),rt(Le,">"),we,Zt)}function nn(){return Z(Le,bt)}function bt(D,P){if(P=="=")return S(Le)}function qr(D,P){return P=="enum"?(q.marked="keyword",S(ge)):Z(Lt,Rn,rn,ll)}function Lt(D,P){if(g&&De(P))return q.marked="keyword",S(Lt);if(D=="variable")return ee(P),S();if(D=="spread")return S(Lt);if(D=="[")return zn(Wi,"]");if(D=="{")return zn(qn,"}")}function qn(D,P){return D=="variable"&&!q.stream.match(/^\s*:/,!1)?(ee(P),S(rn)):(D=="variable"&&(q.marked="property"),D=="spread"?S(Lt):D=="}"?Z():D=="["?S(ie,V("]"),V(":"),qn):S(V(":"),Lt,rn))}function Wi(){return Z(Lt,rn)}function rn(D,P){if(P=="=")return S(Ee)}function ll(D){if(D==",")return S(qr)}function _r(D,P){if(D=="keyword b"&&P=="else")return S(xe("form","else"),le,we)}function gs(D,P){if(P=="await")return S(gs);if(D=="(")return S(xe(")"),$i,we)}function $i(D){return D=="var"?S(qr,_n):D=="variable"?S(_n):Z(_n)}function _n(D,P){return D==")"?S():D==";"?S(_n):P=="in"||P=="of"?(q.marked="keyword",S(ie,_n)):Z(ie,_n)}function Jt(D,P){if(P=="*")return q.marked="keyword",S(Jt);if(D=="variable")return ee(P),S(Jt);if(D=="(")return S(Ye,xe(")"),rt(on,")"),we,Hn,le,je);if(g&&P=="<")return S(xe(">"),rt(nn,">"),we,Jt)}function Wn(D,P){if(P=="*")return q.marked="keyword",S(Wn);if(D=="variable")return ee(P),S(Wn);if(D=="(")return S(Ye,xe(")"),rt(on,")"),we,Hn,je);if(g&&P=="<")return S(xe(">"),rt(nn,">"),we,Wn)}function ms(D,P){if(D=="keyword"||D=="variable")return q.marked="type",S(ms);if(P=="<")return S(xe(">"),rt(nn,">"),we)}function on(D,P){return P=="@"&&S(ie,on),D=="spread"?S(on):g&&De(P)?(q.marked="keyword",S(on)):g&&D=="this"?S(Rn,rn):Z(Lt,Rn,rn)}function ul(D,P){return D=="variable"?Wr(D,P):sn(D,P)}function Wr(D,P){if(D=="variable")return ee(P),S(sn)}function sn(D,P){if(P=="<")return S(xe(">"),rt(nn,">"),we,sn);if(P=="extends"||P=="implements"||g&&D==",")return P=="implements"&&(q.marked="keyword"),S(g?Le:ie,sn);if(D=="{")return S(xe("}"),an,we)}function an(D,P){if(D=="async"||D=="variable"&&(P=="static"||P=="get"||P=="set"||g&&De(P))&&q.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return q.marked="keyword",S(an);if(D=="variable"||q.style=="keyword")return q.marked="property",S(dr,an);if(D=="number"||D=="string")return S(dr,an);if(D=="[")return S(ie,Rn,V("]"),dr,an);if(P=="*")return q.marked="keyword",S(an);if(g&&D=="(")return Z(Wn,an);if(D==";"||D==",")return S(an);if(D=="}")return S();if(P=="@")return S(ie,an)}function dr(D,P){if(P=="!"||P=="?")return S(dr);if(D==":")return S(Le,rn);if(P=="=")return S(Ee);var J=q.state.lexical.prev,oe=J&&J.info=="interface";return Z(oe?Wn:Jt)}function $r(D,P){return P=="*"?(q.marked="keyword",S(Vr,V(";"))):P=="default"?(q.marked="keyword",S(ie,V(";"))):D=="{"?S(rt(Ur,"}"),Vr,V(";")):Z(le)}function Ur(D,P){if(P=="as")return q.marked="keyword",S(V("variable"));if(D=="variable")return Z(Ee,Ur)}function $n(D){return D=="string"?S():D=="("?Z(ie):D=="."?Z(Me):Z(Gr,bn,Vr)}function Gr(D,P){return D=="{"?zn(Gr,"}"):(D=="variable"&&ee(P),P=="*"&&(q.marked="keyword"),S(Ui))}function bn(D){if(D==",")return S(Gr,bn)}function Ui(D,P){if(P=="as")return q.marked="keyword",S(Gr)}function Vr(D,P){if(P=="from")return q.marked="keyword",S(ie)}function Ze(D){return D=="]"?S():Z(rt(Ee,"]"))}function ge(){return Z(xe("form"),Lt,V("{"),xe("}"),rt(Ln,"}"),we,we)}function Ln(){return Z(Lt,rn)}function Gi(D,P){return D.lastType=="operator"||D.lastType==","||k.test(P.charAt(0))||/[,.]/.test(P.charAt(0))}function Ut(D,P,J){return P.tokenize==A&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(P.lastType)||P.lastType=="quasi"&&/\{\s*$/.test(D.string.slice(0,D.pos-(J||0)))}return{startState:function(D){var P={tokenize:A,lastType:"sof",cc:[],lexical:new U((D||0)-o,0,"block",!1),localVars:i.localVars,context:i.localVars&&new Pe(null,null,!1),indented:D||0};return i.globalVars&&typeof i.globalVars=="object"&&(P.globalVars=i.globalVars),P},token:function(D,P){if(D.sol()&&(P.lexical.hasOwnProperty("align")||(P.lexical.align=!1),P.indented=D.indentation(),B(D,P)),P.tokenize!=L&&D.eatSpace())return null;var J=P.tokenize(D,P);return E=="comment"?J:(P.lastType=E=="operator"&&(F=="++"||F=="--")?"incdec":E,ne(P,J,E,F,D))},indent:function(D,P){if(D.tokenize==L||D.tokenize==T)return n.Pass;if(D.tokenize!=A)return 0;var J=P&&P.charAt(0),oe=D.lexical,Y;if(!/^\s*else\b/.test(P))for(var fe=D.cc.length-1;fe>=0;--fe){var Ie=D.cc[fe];if(Ie==we)oe=oe.prev;else if(Ie!=_r&&Ie!=je)break}for(;(oe.type=="stat"||oe.type=="form")&&(J=="}"||(Y=D.cc[D.cc.length-1])&&(Y==Me||Y==Ue)&&!/^[,\.=+\-*:?[\(]/.test(P));)oe=oe.prev;l&&oe.type==")"&&oe.prev.type=="stat"&&(oe=oe.prev);var ct=oe.type,Tt=J==ct;return ct=="vardef"?oe.indented+(D.lastType=="operator"||D.lastType==","?oe.info.length+1:0):ct=="form"&&J=="{"?oe.indented:ct=="form"?oe.indented+o:ct=="stat"?oe.indented+(Gi(D,P)?l||o:0):oe.info=="switch"&&!Tt&&i.doubleIndentSwitch!=!1?oe.indented+(/^(?:case|default)\b/.test(P)?o:2*o):oe.align?oe.column+(Tt?0:1):oe.indented+(Tt?0:o)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:c,jsonMode:f,expressionAllowed:Ut,skipExpression:function(D){ne(D,"atom","atom","true",new n.StringStream("",2,null))}}}),n.registerHelper("wordChars","javascript",/[\w$]/),n.defineMIME("text/javascript","javascript"),n.defineMIME("text/ecmascript","javascript"),n.defineMIME("application/javascript","javascript"),n.defineMIME("application/x-javascript","javascript"),n.defineMIME("application/ecmascript","javascript"),n.defineMIME("application/json",{name:"javascript",json:!0}),n.defineMIME("application/x-json",{name:"javascript",json:!0}),n.defineMIME("application/manifest+json",{name:"javascript",json:!0}),n.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),n.defineMIME("text/typescript",{name:"javascript",typescript:!0}),n.defineMIME("application/typescript",{name:"javascript",typescript:!0})})});function Dv(n){return typeof n=="string"?n:n.text}function _M(n,e){for(;e&&e.parentNode!==n;)e=e.parentNode;return e}var _t,zM,RM,gf,HM,qM,mf,yf,Av=z(()=>{_t=dn(An(),1);Fr();Oe();zM="discovery-view-editor-hints-popup",RM="discovery-view-editor-hint",gf="active",HM=window.requestAnimationFrame||(n=>setTimeout(n,1e3/60)),qM=window.cancelAnimationFrame||clearTimeout;_t.default.commands.autocomplete=_t.default.showHint;_t.default.defineOption("showHintOptions",null);_t.default.defineExtension("showHint",function(n){n={closeOnUnfocus:!0,container:null,...this.options.showHintOptions,...n},this.state.completionActive&&this.state.completionActive.close(),!(this.listSelections().length>1)&&(this.somethingSelected()||typeof n.hint=="function"&&(this.state.completionActive=new mf(this,n),this.state.completionActive.update(!0),_t.default.signal(this,"startCompletion",this)))});mf=class{constructor(e,i){if(this.cm=e,this.options=i,this.widget=null,this.debounce=0,this.tick=0,this.startPos=this.cm.getCursor("start"),this.startLen=this.cm.getLine(this.startPos.line).length-this.cm.getSelection().length,e.on("cursorActivity",this.activityFunc=()=>this.cursorActivity()),i.closeOnUnfocus){let o;this.onFocus=()=>clearTimeout(o),this.onBlur=()=>o=setTimeout(()=>this.close(),100),e.on("focus",this.onFocus),e.on("blur",this.onBlur)}}close(){this.active()&&(this.cm.state.completionActive=null,this.tick=null,this.cm.off("cursorActivity",this.activityFunc),this.options.closeOnUnfocus&&(this.cm.off("blur",this.onBlur),this.cm.off("focus",this.onFocus)),this.widget&&(this.data&&_t.default.signal(this.data,"close"),this.widget.close()),_t.default.signal(this.cm,"endCompletion",this.cm))}active(){return this.cm.state.completionActive===this}pick(e,i){let o=e.list[i];this.cm.state.completionEnabled=!1,o.hint?o.hint(this.cm,e,o):this.cm.replaceRange(Dv(o),o.from||e.from,o.to||e.to,"complete"),_t.default.signal(e,"pick",o),this.close()}cursorActivity(){this.debounce&&(qM(this.debounce),this.debounce=0);let e=this.cm.getCursor(),i=this.cm.getLine(e.line);e.line!=this.startPos.line||i.length-e.ch!=this.startLen-this.startPos.ch||e.ch<this.startPos.ch||this.cm.somethingSelected()?this.close():(this.debounce=HM(()=>this.update()),this.widget&&this.widget.disable())}update(e){if(this.tick===null)return;let i=++this.tick;Promise.resolve(this.options.hint(this.cm,this.options)).then(o=>{this.tick==i&&this.finishUpdate(o,e)})}finishUpdate(e){this.data&&_t.default.signal(this.data,"update");let i=this.widget&&this.widget.picked;this.widget&&this.widget.close(),this.data=e,e&&e.list.length&&(i&&e.list.length==1?this.pick(e,0):(this.widget=new yf(this,e),_t.default.signal(e,"shown")))}};yf=class{constructor(e,i){let o=e.cm,l=this.hintsEl=document.createElement("ul"),c=[zM,e.cm.options.theme].filter(Boolean),f=e.options.container||document.body;this.rootEls=new Set([f.getRootNode()]),this.completion=e,this.data=i,this.picked=!1,this.selectedHint=i.selectedHint||0,l.style.visibility="hidden",l.classList.add(...c),f.appendChild(l),this.items=i.list.map((d,g)=>{let m=l.appendChild(document.createElement("li"));return m.className=RM,g===this.selectedHint&&m.classList.add(gf),d.render?d.render(m,i,d):m.appendChild(document.createTextNode(d.displayText||Dv(d))),m}),o.addKeyMap(this.keyMap={Up:()=>this.changeActive(this.selectedHint-1),Down:()=>this.changeActive(this.selectedHint+1),Enter:()=>this.pick(),Tab:()=>this.pick(),Esc:()=>{o.state.completionEnabled=!1,e.close()}}),this.updatePosSize(),this.onScroll=()=>this.updatePosSize();for(let d of this.rootEls)d.addEventListener("scroll",this.onScroll,Rt);_t.default.on(l,"mousedown",d=>{let g=_M(l,d.target),m=this.items.indexOf(g);m!==-1&&(this.close(),this.selectedHint=m,this.pick(),setTimeout(()=>o.focus(),1))}),_t.default.signal(i,"select",i.list[this.selectedHint],this.items[this.selectedHint])}close(){if(this.completion.widget===this){this.completion.widget=null,this.completion.cm.removeKeyMap(this.keyMap),this.hintsEl.remove();for(let e of this.rootEls)e.removeEventListener("scroll",this.onScroll,Rt)}}disable(){this.completion.cm.removeKeyMap(this.keyMap),this.keyMap={Enter:()=>this.picked=!0},this.completion.cm.addKeyMap(this.keyMap)}pick(){this.completion.pick(this.data,this.selectedHint)}changeActive(e,i){e>=this.items.length?e=i?this.items.length-1:0:e<0&&(e=i?0:this.items.length-1);let o=this.items[this.selectedHint],l=this.items[this.selectedHint=e];l!==o&&(o&&o.classList.remove(gf),l.classList.add(gf),l.offsetTop<this.hintsEl.scrollTop?this.hintsEl.scrollTop=l.offsetTop-3:l.offsetTop+l.offsetHeight>this.hintsEl.scrollTop+this.hintsEl.clientHeight&&(this.hintsEl.scrollTop=l.offsetTop+l.offsetHeight-this.hintsEl.clientHeight+3),_t.default.signal(this.data,"select",this.data.list[this.selectedHint],l))}getCursorCoords(){let{completion:e,hintsEl:i}=this,o=e.cm,l=Go(i),c=o.cursorCoords(null,"local"),f=qt(o.display.wrapper,l);return{top:f.top+c.top+5,left:f.left+c.left+9,bottom:f.top+c.bottom+5,right:f.left+c.right+9}}updatePosSize(){let{hintsEl:o}=this,l=this.getCursorCoords(),{clientWidth:c,clientHeight:f}=Vo(o);o.style.left="0px",o.style.top="0px";let{width:d,height:g}=o.getBoundingClientRect(),m=f-l.bottom,y=l.top;if(m<g&&y>m){let M=Math.min(g,y-6-1);o.style.top=`${l.top-1-M-6}px`,o.style.maxHeight=`${M}px`}else o.style.top=`${l.bottom+1}px`,o.style.maxHeight=`${m-1-6}px`;let k=c-l.right,C=l.left;k<d&&C>k?(o.style.left=`${l.left+1-Math.min(d,C-6)}px`,o.style.maxWidth=`${C-6}px`):(o.style.left=`${l.right}px`,o.style.maxWidth=`${k-6}px`),o.style.visibility="visible"}}});function Sv(n){Object.assign(n.view,{QueryEditor:class extends vf{get container(){return n.dom.container}},ViewEditor:class extends wf{isViewDefined(e){return n.view.isDefined(e)}}})}var Or,BI,WM,qa,vf,wf,Ev=z(()=>{Oe();Qt();Na();Ea();Or=dn(An(),1);vv();xv();BI=dn(hf(),1);Av();Object.defineProperty(Or.default.prototype,"display",{configurable:!0,set(n){return n.scroller.addEventListener=function(e,i,o){EventTarget.prototype.addEventListener.call(this,e,i,typeof o!="boolean"?o:{capture:o,passive:["touchstart","touchmove","wheel","mousewheel"].includes(e)})},Object.defineProperty(this,"display",{configurable:!0,enumerable:!0,value:n}),n}});WM=(n,e,{entry:{type:i,text:o,value:l}})=>{let c=o[0],f=o[o.length-1],d=c==='"'||c==="'"?1:0,g=f==='"'||f==="'"?1:0,m=o.toLowerCase().substring(d,o.length-g),y=m?l.toLowerCase().indexOf(m,l[0]==='"'||l[0]==="'"?1:0):-1;y!==-1&&(l=Xe(l.substring(0,y))+'<span class="match">'+Xe(l.slice(y,y+m.length))+"</span>"+Xe(l.slice(y+m.length))),n.classList.add("type-"+i),n.appendChild($("span","name",l))},qa=class extends ir{static CodeMirror=Or.default;el;cm;get container(){return null}constructor({hint:e,mode:i,placeholder:o}){super(),this.el=document.createElement("div"),this.el.className="discovery-view-editor empty-value";let l=this,c=(0,Or.default)(this.el,{extraKeys:{"Alt-Space":"autocomplete"},mode:i||"javascript",theme:"neo",indentUnit:0,showHintOptions:{hint:e,get container(){return l.container}}});o&&(c.display.lineDiv.parentNode.dataset.placeholder=o),c.on("change",()=>{let d=c.getValue();this.el.classList.toggle("empty-value",d===""),this.emit("change",d)}),typeof e=="function"&&(c.on("cursorActivity",d=>{d.state.completionEnabled&&d.state.focused&&d.showHint()}),c.on("focus",d=>{d.getValue()===""&&(d.state.completionEnabled=!0),d.state.completionEnabled&&!d.state.completionActive&&d.showHint()}),c.on("change",(d,g)=>{g.origin!=="complete"&&(c.state.completionEnabled=!0)})),this.cm=c;let f=new Mr;f.subscribe(()=>c.refresh()),f.observe(c.display.wrapper)}getValue(){return this.cm.getValue()}setValue(e){return requestAnimationFrame(()=>this.cm.refresh()),typeof e=="string"&&this.getValue()!==e?(this.cm.setValue(e||""),!0):!1}focus(){this.cm.focus()}},vf=class extends qa{queryData;queryContext;inputPanelEl;outputPanelEl;constructor(e){super({mode:"discovery-query",placeholder:"Enter a jora query",hint:i=>{let o=i.getCursor(),l=e(i.getValue(),i.doc.indexFromPos(o),this.queryData,this.queryContext);return l?{list:l.slice(0,50).map(c=>({entry:c,text:c.value,render:WM,from:i.posFromIndex(c.from),to:i.posFromIndex(c.to)}))}:null}}),this.inputPanelEl=$("div","discovery-view-editor__input-panel"),this.outputPanelEl=$("div","discovery-view-editor__output-panel"),this.el.append(this.inputPanelEl,this.outputPanelEl)}setValue(e,i,o){let l=this.queryData!==i||this.queryContext!==o;return this.queryData=i,this.queryContext=o,super.setValue(e)?!0:(l&&this.cm.state.completionEnabled&&this.cm.state.focused&&this.cm.showHint(),!1)}},wf=class extends qa{constructor(){super({mode:{name:"discovery-view",isDiscoveryViewDefined:e=>this.isViewDefined(e)}})}isViewDefined(){return!1}};Or.default.defineMode("jora",pf);Or.default.defineMode("discovery-query",pf);Or.default.defineMode("discovery-view",bv)});var Mv,Lv=z(()=>{Mv={beforeDemo:['md:"A block has no its own look. It\'s using for wrapping some content with a `className` (btw `className` is a common property for any view when appropriate)"'],demo:{view:"block",className:"foo",content:['text:"Content inside block"']}}});function Tv(n){n.view.define("block",function(e,i,o,l){let{content:c=[],onInit:f,onChange:d}=i,g=typeof f!="function"&&typeof d!="function"?c:this.composeConfig(c,{onInit:f,onChange:d});return n.view.render(e,g,o,l)},{usage:Mv})}var Fv=z(()=>{Lv()});var _a,bf=z(()=>{_a={demo:{view:"columns",data:["one","two","three","four"],column:"text"}}});function Nv(n){n.view.define("column",function(e,i,o,l){let{content:c=[]}=i;return n.view.render(e,c,o,l)},{usage:_a})}var Ov=z(()=>{bf()});function Iv(n){n.view.define("columns",function(i,o,l,c){let{column:f,columnConfig:d,emptyText:g,limit:m}=o;if(g!==!1&&g!==""&&i.setAttribute("emptyText",g||"Empty"),!Array.isArray(l)&&l&&(l=[l]),Array.isArray(l))return n.view.renderList(i,this.composeConfig({view:"column",content:f},d),l,c,0,n.view.listLimit(m,25))},{usage:_a})}var Bv=z(()=>{bf()});var Pv,jv=z(()=>{Pv={demo:{view:"expand",header:'text:"Expand me!"',content:'text:"Content"'}}});function zv(n){n.view.define("expand",function(e,i,o,l){function c(){if(e.classList.toggle("expanded",f),f)return C=$("div","content"),n.view.render(C,g,o,l).then(()=>e.appendChild(C));C!==null&&(C.remove(),C=null)}let{expanded:f,header:d,content:g,onToggle:m}=i,y=e.appendChild($("div","header")),k=y.appendChild($("div","header-content")),C=null;return f=n.queryBool(f,o,l),y.appendChild($("div","trigger")),y.addEventListener("click",()=>{f=!f,c(),typeof m=="function"&&m(f)}),Promise.all([n.view.render(k,d||'text:"\xA0"',o,l),c()])},{usage:Pv})}var Rv=z(()=>{Oe();jv()});var Hv,qv=z(()=>{Hv={demo:{view:"hstack",content:['button:{text:"First button"}','button-primary:{text:"Second button"}']}}});function _v(n){n.view.define("hstack",function(e,i,o,l){let{content:c=[]}=i;return n.view.render(e,c,o,l)},{usage:Hv})}var Wv=z(()=>{qv()});function $v(n){n.view.define("list-item",function(e,i,o,l){let{content:c="text"}=i;return n.view.render(e,c,o,l)},{tag:"li"})}var Uv=z(()=>{});var Mi,Gv=z(()=>{Mi=(n,e)=>({demo:{view:n,data:["one","two","three","four"]},examples:[{title:"Variations",demo:{view:"context",data:["foo","bar","baz"],content:e.map(i=>[`header{ content: 'md:${JSON.stringify('`view: \\"'+i+'\\"`')}' }`,i])}},{title:"Configure item's content",demo:[{view:n,data:["one","two","three","four"],item:['text:"<item> "',{view:"link",data:'{ href: "#" + $ }'}]}]},{title:"Configure item's config",demo:{view:n,data:["one","two","three","four"],itemConfig:{className:"special"},item:{view:"text",data:'"prefix-" + $'}}}]})});function Vv(n){function e(i,o,l,c){let{item:f,itemConfig:d,limit:g,emptyText:m}=o;if(m!==!1&&m!==""&&i.setAttribute("emptyText",m||"Empty list"),!Array.isArray(l)&&l&&(l=[l]),Array.isArray(l))return n.view.renderList(i,this.composeConfig({view:"list-item",content:f},d),l,c,0,n.view.listLimit(g,25))}n.view.define("list",e,{usage:Mi}),n.view.define("inline-list",e,{usage:Mi}),n.view.define("comma-list",e,{usage:Mi}),n.view.define("ol",e,{tag:"ol",usage:Mi}),n.view.define("ul",e,{tag:"ul",usage:Mi})}var Yv=z(()=>{Gv()});var Qv,Kv=z(()=>{Qv=n=>({beforeDemo:['md:"A special view to be used as the first view in the body of the page. This view stays in place as the page scrolls (although it may move slightly to the top of the page at the start of the scroll), so that the most relevant information and important action elements can remain accessible despite page scrolling."'],demoFixed:100,demo:`${n}:"That's a \\"${n}\\""`,examples:[{title:"Prelude",demoFixed:150,highlightProps:["prelude"],demo:{view:n,prelude:['badge:{ text: "demo" }','badge:{ text: "demo", prefix: "prelude", postfix: "postfix" }'],content:'h1:"Header"'}}]})});function Zv(n){n.view.define("page-header",function(i,o,l,c){let{prelude:f,content:d,onInit:g,onChange:m}=o,y=i.appendChild($("div","view-page-header__prelude")),k=i.appendChild($("div","view-page-header__content")),C=M=>typeof g!="function"&&typeof m!="function"?M:this.composeConfig(M,{onInit:g,onChange:m});return Promise.all([n.view.render(y,C(f||[]),l,c),n.view.render(k,C(d||"text"),l,c)])},{usage:Qv})}var Jv=z(()=>{Oe();Kv()});function Xv(n){return n?n.getRootNode({composed:!0})===document:!0}function ew(n,e){return typeof n=="function"&&(n=n(e)),typeof n=="number"?xf(n):typeof n=="boolean"&&n?UM:0}function tw(n,e){n.lastChild!==e&&n.appendChild(e)}function xf(n,e=0){return Number.isFinite(n)?n:e}function GM(n){return $M.includes(n)}function nw(n){let e=[],i=new Set,o=[],l=new Set,c=null,f=A=>{c===null&&(c=setTimeout(()=>y(A),0))},d=()=>{c!==null&&(clearTimeout(c),c=null)},g=null,m=()=>{g===null&&(g=[n.addHostElEventListener("mouseenter",({target:A})=>{for(let b of o){let L=M(b,A),T=L?L.el:A.closest(b.hoverTriggers);T&&(b.hideTimer!==null&&(clearTimeout(b.hideTimer),b.hideTimer=null),T!==b.lastHoverTriggerEl&&((!L||!L.hoverPinned)&&(b.lastHoverTriggerEl=T),L||(b.hoverPinned=!1,b.el.classList.remove("pinned"),b.show(T))))}},Rt),n.addHostElEventListener("mouseleave",({target:A})=>{for(let b of o)b.lastHoverTriggerEl===A&&(E(b),b.lastHoverTriggerEl=null,b.hideTimer=setTimeout(b.hide,100))},Rt),n.addGlobalEventListener("scroll",f,Rt),n.addHostElEventListener("scroll",A=>{d(),y(A)},Rt),n.addGlobalEventListener("click",f,!0),n.addHostElEventListener("click",A=>{d(),y(A),setTimeout(k,50);for(let b of o)b.hoverPin==="trigger-click"&&b.lastHoverTriggerEl&&b.lastTriggerEl?.contains(A.target)&&(b.lastHoverTriggerEl=null,b.hoverPinned=!0,b.el.classList.add("pinned"),A.stopPropagation())},!0)])};or.subscribe(()=>{for(let A of e)A.position==="pointer"&&!A.hoverPinned&&!A.frozen&&!l.has(A)&&A.updatePosition();for(let A of i){let{showDelayArgs:b}=A;F(A,b?.[0],b?.[1])}}),n.inspectMode.subscribe(A=>A?e.forEach(b=>l.add(b)):l.clear());function y(A){e.slice().forEach(b=>b.hideIfEventOutside(A))}function k(){e.slice().forEach(A=>A.hideOnTriggerHasLeftDocument())}function C(){e.slice().forEach(A=>A.hideOnResize())}function M(A,b){return A.el.contains(b)?A:A.relatedPopups.find(L=>M(L,b))||null}function E(A){A.showDelayTimer!==null&&clearTimeout(A.showDelayTimer),A.showDelayTimer=null,A.showDelayArgs=null,i.delete(A)}function F(A,b,L){A.showDelayTimer!==null&&clearTimeout(A.showDelayTimer),A.showDelayTimer=setTimeout(()=>A.show(b,L,!0),ew(A.showDelay,b)),A.showDelayArgs=[b,L],i.add(A)}class N{el;showDelayTimer;showDelayArgs;showDelay;lastTriggerEl;lastHoverTriggerEl;render;position;positionMode;pointerOffsetX;pointerOffsetY;hoverTriggers;hoverPin;hideIfEventOutsideDisabled;hideOnResizeDisabled;hideTimer;hoverPinned;frozen;lastRenderMarker;constructor(b){let{render:L,showDelay:T=!1,position:I="trigger",positionMode:B="safe",pointerOffsetX:R,pointerOffsetY:U,hoverTriggers:W,hoverPin:ne,hideIfEventOutside:q=!0,hideOnResize:Z=!0,className:S}=b||{};this.el=document.createElement("div"),this.el.classList.add("discovery-view-popup"),this.showDelayTimer=null,this.showDelayArgs=null,this.showDelay=T,this.hideTimer=null,this.hide=this.hide.bind(this),this.lastTriggerEl=null,this.lastHoverTriggerEl=null,this.hoverPinned=!1,this.frozen=!1,this.render=L,this.lastRenderMarker=null,this.position=I,this.positionMode=B,this.pointerOffsetX=xf(R,3),this.pointerOffsetY=xf(U,3),this.hoverTriggers=W||null,this.hoverPin=GM(ne)?ne:!1,this.hideIfEventOutsideDisabled=!q,this.hideOnResizeDisabled=!Z,S&&this.el.classList.add(S),this.hoverTriggers&&(this.el.classList.add("show-on-hover"),this.el.dataset.pinMode=this.hoverPin||"none",o.push(this),m())}get relatedPopups(){return e.filter(b=>this.el.contains(b.lastTriggerEl))}get visible(){return e.includes(this)}toggle(...b){this.visible?this.hide():this.show(...b)}async show(b,L=this.render,T=!1){if(!this.visible&&!T&&ew(this.showDelay,b)>0){F(this,b,L);return}E(this),l.delete(this),n.view.setViewRoot(this.el,"popup",{config:L});let I=n.dom.container;if(this.hideTimer!==null&&(clearTimeout(this.hideTimer),this.hideTimer=null),this.relatedPopups.forEach(B=>B.hide()),this.el.classList.toggle("inspect",n.inspectMode.value),this.lastTriggerEl&&this.lastTriggerEl.classList.remove("discovery-view-popup-active"),b&&b.classList.add("discovery-view-popup-active"),this.lastTriggerEl=b||null,this.visible||(e.push(this),e.length===1&&window.addEventListener("resize",C)),typeof L=="function"){this.el.innerHTML="";let B=Symbol();if(this.lastRenderMarker=B,requestAnimationFrame(()=>{this.lastRenderMarker===B&&(tw(I,this.el),this.updatePosition())}),await L(this.el,b,this.hide),this.lastRenderMarker!==B)return;this.lastRenderMarker=null}tw(I,this.el),this.updatePosition()}updatePosition(){if(!this.visible)return;let b=this.position==="pointer",L=b?null:this.lastTriggerEl;if(b?this.frozen:!L)return;let T=n.dom.container,I=Go(T.firstChild),B=ef(window,I),{x:R,y:U}=or.value,{pointerOffsetX:W,pointerOffsetY:ne}=this,q=L?qt(L,T):{left:Math.round(R)-W,right:Math.round(R)+W,top:Math.round(U)-ne,bottom:Math.round(U)+ne},Z=b?q.left:q.right,S=b?q.right:q.left,X=q.top-B.top-3,ee=B.bottom-q.bottom-3,pe=Z-B.left-3,De=B.right-S-3,Pe=De>=pe,et=ee>=X;if(et||(this.el.style.maxHeight=X+"px",this.el.style.top="auto",this.el.style.bottom=B.bottom-q.top+"px",this.el.dataset.vTo="top"),Pe||(this.el.style.left="auto",this.el.style.right=B.right-Z+"px",this.el.style.maxWidth=pe+"px",this.el.dataset.hTo="left"),this.positionMode==="natural"&&(!Pe||!et)){let{height:nt,width:Ye}=qt(this.el);et=nt<=ee,Pe=Ye<=De}et&&(this.el.style.maxHeight=ee+"px",this.el.style.top=q.bottom-B.top+"px",this.el.style.bottom="auto",this.el.dataset.vTo="bottom"),Pe&&(this.el.style.left=S-B.left+"px",this.el.style.right="auto",this.el.style.maxWidth=De+"px",this.el.dataset.hTo="right"),this.relatedPopups.forEach(nt=>nt.updatePosition())}freeze(){this.frozen=!0,this.el.classList.add("frozen")}unfreeze(){this.frozen=!1,this.el.classList.remove("frozen"),this.updatePosition()}hide(){this.lastRenderMarker=null,this.hideTimer!==null&&(clearTimeout(this.hideTimer),this.hideTimer=null),E(this),this.visible&&!l.has(this)&&(this.relatedPopups.forEach(b=>b.hide()),e.splice(e.indexOf(this),1),this.el.remove(),this.unfreeze(),this.lastTriggerEl&&(this.lastTriggerEl.classList.remove("discovery-view-popup-active"),this.lastTriggerEl=null),e.length===0&&window.removeEventListener("resize",C))}hideIfEventOutside({target:b}){this.hideIfEventOutsideDisabled||l.has(this)||this.lastTriggerEl&&this.lastTriggerEl.contains(b)||M(this,b)||this.hide()}hideOnTriggerHasLeftDocument(){(!Xv(this.lastHoverTriggerEl)||!Xv(this.lastTriggerEl))&&this.hide()}hideOnResize(){this.hideOnResizeDisabled||l.has(this)||this.hide()}destroy(){l.delete(this),E(this);let b=o.indexOf(this);b!==-1&&o.splice(b,1),this.hide(),this.el=null,this.lastTriggerEl=null,this.lastHoverTriggerEl=null}}n.view.Popup=N}var $M,UM,rw=z(()=>{Fr();Oe();ja();$M=[!1,"popup-hover","trigger-click"],UM=300});var iw,ow=z(()=>{iw={demo:{view:"section",header:'text:"I am section"',content:['text:"content"']}}});function sw(n){n.view.define("section",function(e,i,o,l){let{header:c,content:f=[],onInit:d,onChange:g}=i,m=y=>typeof d!="function"&&typeof g!="function"?y:this.composeConfig(y,{onInit:d,onChange:g});return n.view.render(e,[{view:"header",content:m(c)},m(f)],o,l)},{usage:iw})}var aw=z(()=>{ow()});function lw(n){n.view.define("toc-section",function(e,i,o,l){let{header:c,content:f}=i;return n.view.render(e,[{view:"block",className:"header",content:c},{view:"block",className:"content",content:f}],o,l)},{tag:"section"})}var uw=z(()=>{});var Li,cw=z(()=>{Li=(n,e)=>({demo:{view:n,data:'"Alert"'},examples:[{title:"Variations",demo:e.map(i=>`${i}:"${i}"`)},{title:"Complex content",demo:{view:n,content:['h3:"Some header"','text:"Hello world!"']}}]})});function fw(n){function e(i,o,l,c){let{content:f="text"}=o;return i.classList.add("view-alert"),n.view.render(i,f,l,c)}n.view.define("alert",e,{usage:Li}),n.view.define("alert-primary",e,{usage:Li}),n.view.define("alert-success",e,{usage:Li}),n.view.define("alert-danger",e,{usage:Li}),n.view.define("alert-warning",e,{usage:Li})}var dw=z(()=>{cw()});function Ko(n){return hw.decode(QM(n))}function QM(n){typeof n=="string"&&(n=VM.encode(n));let e=new Uint8Array(Math.ceil(n.length/3)*4),i=0,o=0,l=0;for(let c=0;c<n.length;c++)for(o=o<<8|n[c],l+=8;l>=6;){let f=o>>(l-=6);e[i++]=pw[f],o-=f<<l}for(l!==0&&(e[i++]=pw[o<<6-l]);i<e.length;)e[i++]=61;return e}function Zo(n){return hw.decode(KM(n))}function KM(n){let e=n.length;for(;e>0&&n[e-1]==="=";)e--;let i=new Uint8Array(3*Math.ceil(e/4)),o=0,l=0,c=0;for(let f=0;f<e;f++)if(l=l<<6|YM[n.charCodeAt(f)&255],c+=6,c>8){let d=l>>(c-=8);i[o++]=d,l-=d<<c}return c!==0&&(i[o++]=l),i.subarray(0,(e>>2)*3+(e%4*6>>3))}var VM,hw,pw,YM,kf=z(()=>{VM=new TextEncoder,hw=new TextDecoder,[pw,YM]=(()=>{let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=new Uint8Array(64),i=new Uint8Array(256);for(let o=0;o<n.length;o++){let l=n.charCodeAt(o);i[l]=o,e[o]=l}return[e,i]})()});function ZM(n){let e=$("div",{style:["position: fixed","overflow: hidden","font-size: 1px","width: 1px","height: 1px","top: 0","left: 0","white-space: pre"].join(";")});document.body.append(e);try{let i=window.getSelection(),o=document.createRange();e.append(n),o.selectNodeContents(e),i?.removeAllRanges(),i?.addRange(o),document.execCommand("copy")}finally{e.remove()}}async function Wt(n){try{if(navigator.clipboard)try{let e=await navigator.permissions.query({name:"clipboard-write"});if(e.state==="granted"||e.state==="prompt")return navigator.clipboard.writeText(n)}catch(e){if(e instanceof TypeError)return navigator.clipboard.writeText(n)}}catch{}ZM(n)}var Jo=z(()=>{Oe()});function mw(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function mn(n){return Array.isArray(n)||mw(n)}function sr(n){return pn(n)==="[object Set]"}function Xo(n){return pn(n)==="[object RegExp]"}var Ir=z(()=>{st()});function JM(n,e,i){let o=String(n),[l,c]=o.match(/^(?:\S+\s+)?(\S+)\(/)||[];if(l!=="function"&&l!=="function*"&&c===i.trim().slice(0,-1)&&(i=""),o.indexOf(`
`)===-1)return i+o;let f=o.split(/\n/),d=f[f.length-1].match(/^\s*/)?.[0].length||0,g=new RegExp("^\\s{0,"+d+"}");return i+f.map((m,y)=>y&&m.length?m.replace(g,e):m).join(`
`)}function XM(n,e,i){return typeof n=="function"?JM(n,e,i):n instanceof Date?`${i}new Date("${n.toISOString()}")`:i+String(n)}function ar(n,e,i=4){let o=[];return String(JSON.stringify(n,e||function(c,f){return typeof f=="string"&&pn(this[c])==="[object Date]"&&(f=this[c]),f!==null&&eL.has(pn(f))?(o.push(f),"{{{__placeholder__}}}"):f},i)).replace(/"((?:\\.|[^"])*)"(:?)/g,(c,f,d)=>d&&/^[a-z$_][a-z$_\d]*$/i.test(f)?f+d:`'${f.replace(/\\"/g,'"').replace(/'/g,"\\'")}'`+d).replace(/(^|\n)([ \t]*)(.*?)([a-zA-Z$_][a-zA-Z0-9$_]+:\s*)?'{{{__placeholder__}}}'/g,(c,f,d,g,m)=>f+d+g+XM(o.shift(),d,m))}var eL,es=z(()=>{st();wu();eL=new Set(["[object Function]","[object RegExp]","[object Date]"])});function Cf(n,e){let i=globalThis.location,o=[],l=({newURL:c,oldURL:f})=>{let d=new URL(c).hash||"#",g=new URL(f).hash||"#";d!==o.shift()&&(e?.debug("locationSync onChange:",g,"->",d),o.length=0,n(d,g))};return addEventListener("hashchange",l),{set(c,f){let d=c||"#";(i.hash||"#")!==d&&(e?.debug("locationSync set:",d,f),o.push(c),f?i.replace(c):i.hash=c)},dispose(){removeEventListener("hashchange",l)}}}var Df=z(()=>{});function tL(n,e,i=0){let o=i!==0?n.slice(i).search(e):n.search(e);return o!==-1?{offset:i+o,length:RegExp.lastMatch.length}:null}function nL(n,e,i){let o=n.indexOf(e,i);return o!==-1?{offset:o,length:e.length}:null}function lr(n,e,i,o,l=!1){if(!Xo(e)&&typeof e!="string"){i(n,!0);return}let c=String(n);l&&(typeof e=="string"?(c=c.toLowerCase(),e=e.toLowerCase()):e.ignoreCase||(e=new RegExp(e,e.flags+"i")));let f=0,d=!1;do{let g=d?null:typeof e=="string"?nL(c,e,f):tL(c,e,f);if(g===null||g.length===0&&g.offset===f){i(f>0?n.slice(f):n,!0);break}g.length!==0&&(g.offset!==f&&i(n.slice(f,g.offset),!1),d=o(n.substr(g.offset,g.length),yw)===yw),f=g.offset+g.length}while(f!==n.length)}var yw,ts=z(()=>{Ir();yw=Symbol("stop-match")});var Af=z(()=>{kf();Wo();cu();Jo();Yo();Oe();Ys();Qt();ea();Ir();es();Fr();wi();Df();_c();st();ts();au();ja();da();af();Na()});var vw,ww=z(()=>{vw={demo:{view:"app-header",name:"My app",version:"1.2.3",description:"The best of the best app"},examples:[{title:"Variations",demo:["app-header",'app-header{ name: "Only name" }','app-header{ name: "Name and version", version: "1.2.3" }','app-header{ name: "Name and description", description: "Some description" }','app-header{ name: "Everything set", version: "1.2.3", description: "Very useful description" }']}]}});function bw(n){n.view.define("app-header",function(e,i){let{name:o,icon:l,version:c,description:f}=i,d=$("h1",null,c?[o,$("span","version",c)]:[o]);l&&e.style.setProperty("--icon",/^(?:\.|\/|data:|https?:)/.test(l)?`url(${JSON.stringify(l)})`:l),e.append($("div","icon"),$("div","content",f?[d,$("div","description",f)]:[d]))},{props:iL,usage:vw})}var iL,xw=z(()=>{Af();ww();iL=`is not array? | {
    name: name or "Untitled app",
    icon,
    version,
    description
} | overrideProps() | {
    ...,
    icon is string and $ ~= /\\S/?,
    version is string and $ ~= /\\S/?,
    description is string and $ ~= /\\S/?
}`});function kw(n){n.view.define("auto-link",function(e,i,o,l){let{content:c,fallback:f,href:d}=i;if(!o)return;let g=n.resolveValueLinks(o),y=g?(typeof d=="function"?d:k=>k)(g[0].href,o,l):null;return y?n.view.render(e,{view:"link",content:c},{...g[0],href:y},l):n.view.render(e,f||c||"text",o,l)},{tag:!1})}var Cw=z(()=>{});var Sf,Dw=z(()=>{Sf=(n,e)=>({demo:{view:n,text:"hello world"},examples:[{title:"Variations",demo:e.map(i=>`${i}:"${i}"`)},{title:"Displaying content",beforeDemo:{view:"md",source:["There are several ways to specify the main content of a badge:","- `content` option \u2013 allows to specify any renderable content and has the highest precedence","- `text` option \u2013 used when `content` is omitted or falsy; it renders as plain text","- When both `content` and `text` options are omitted, the `data` is used for content:","  - If `data` is a string, a number, or a boolean value, it is used as the `text` value","  - If `data` is an object, the value of `text` property of `data` coerced to a string is used","  - Otherwise, render an undefined"].join(`
`)},demo:[{view:n,data:'"data"',text:"text",content:'text:"RENDER"'},{view:n,data:'"data"',text:"RENDER",content:"=undefined"},{view:n,data:'"data"',content:"=undefined"},{view:n,data:'"data"',text:"RENDER"},{view:n,data:'"data"',text:"=undefined"},{view:n,data:'"RENDER"'},{view:n,data:'{ text: "RENDER" }'},{view:n,data:"{}"},{view:n,data:[1,2,3]}]},{title:"Using data as source of options",beforeDemo:{view:"md",source:["The following properties are taken from the data when the appropriate options are not specified for a legacy reasons (is subject to remove in the future):","- `color`","- `textColor`","- `darkColor`","- `darkTextColor`","- `text`","- `href`","- `external`","- `prefix`","- `postfix`"].join(`
`)},highlightProps:["data"],demo:{view:n,data:{text:"demo",href:"#example"}}},{title:"Custom colors",beforeDemo:{view:"md",source:["Data properties to setup a custom colors:","* `color` \u2013 default background color","* `textColor` \u2013 default text color","* `darkColor` \u2013 background color in dark mode","* `darkTextColor` \u2013 text color in dark mode"].join(`
`)},demo:{view:n,text:"Colored badge",color:"rgba(237, 177, 9, 0.35)",textColor:"orange",darkColor:"#ffff00",darkTextColor:"black"}},{title:"As a link",highlightProps:["href","external"],demo:{view:n,text:"Link to something",href:"#",external:!0}},{title:"Using onClick handler",highlightProps:["onClick"],demo:{view:n,text:'Show "Hello world"',onClick:Function('return () => alert("Hello world!")')()}},{title:"Prefix and postfix",highlightProps:["prefix","postfix"],demo:{view:n,prefix:"prefix",text:"link",postfix:"postfix"}},{title:"Complex content",highlightProps:["content"],demo:{view:n,content:['text:"text "','link{ href: "#example" }']}}]})});function Sw(n,e,i){if(!i)return;let o=n.appendChild(document.createElement("span"));o.className=e,o.textContent=i}function Ew(n){function e(i,o,l,c){let{color:f,textColor:d,darkColor:g,darkTextColor:m,text:y,content:k,href:C,external:M,onClick:E,prefix:F,postfix:N}=o,A;return f&&i.style.setProperty("--discovery-view-badge-color",f),g&&i.style.setProperty("--discovery-view-badge-dark-color",g),d&&i.style.setProperty("--discovery-view-badge-text-color",d),m&&i.style.setProperty("--discovery-view-badge-dark-text-color",m),C&&(i.href=C),M&&i.setAttribute("target","_blank"),typeof E=="function"&&(i.classList.add("onclick"),i.addEventListener("click",b=>{b.preventDefault(),E(i,l,c)})),Sw(i,"prefix",F),k?A=this.render(i,k,l,c):i.append(document.createTextNode(y)),Sw(i,"postfix",N),A}n.view.define("badge",e,{tag:"a",props:Aw,usage:Sf}),n.view.define("pill-badge",e,{tag:"a",props:Aw,usage:Sf})}var Aw,Mw=z(()=>{Dw();Aw=`is not array? | {
    color,
    textColor,
    darkColor,
    darkTextColor,
    text: #.props has no 'content' ? is (string or number or boolean) ?: text,
    content: undefined,
    href,
    external,
    onClick: undefined,
    prefix,
    postfix
} | overrideProps()`});var Lw,Tw=z(()=>{Lw=/[\0-\x1F!-,\.\/:-@\[-\^`\{-\xA9\xAB-\xB4\xB6-\xB9\xBB-\xBF\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0378\u0379\u037E\u0380-\u0385\u0387\u038B\u038D\u03A2\u03F6\u0482\u0530\u0557\u0558\u055A-\u055F\u0589-\u0590\u05BE\u05C0\u05C3\u05C6\u05C8-\u05CF\u05EB-\u05EE\u05F3-\u060F\u061B-\u061F\u066A-\u066D\u06D4\u06DD\u06DE\u06E9\u06FD\u06FE\u0700-\u070F\u074B\u074C\u07B2-\u07BF\u07F6-\u07F9\u07FB\u07FC\u07FE\u07FF\u082E-\u083F\u085C-\u085F\u086B-\u089F\u08B5\u08C8-\u08D2\u08E2\u0964\u0965\u0970\u0984\u098D\u098E\u0991\u0992\u09A9\u09B1\u09B3-\u09B5\u09BA\u09BB\u09C5\u09C6\u09C9\u09CA\u09CF-\u09D6\u09D8-\u09DB\u09DE\u09E4\u09E5\u09F2-\u09FB\u09FD\u09FF\u0A00\u0A04\u0A0B-\u0A0E\u0A11\u0A12\u0A29\u0A31\u0A34\u0A37\u0A3A\u0A3B\u0A3D\u0A43-\u0A46\u0A49\u0A4A\u0A4E-\u0A50\u0A52-\u0A58\u0A5D\u0A5F-\u0A65\u0A76-\u0A80\u0A84\u0A8E\u0A92\u0AA9\u0AB1\u0AB4\u0ABA\u0ABB\u0AC6\u0ACA\u0ACE\u0ACF\u0AD1-\u0ADF\u0AE4\u0AE5\u0AF0-\u0AF8\u0B00\u0B04\u0B0D\u0B0E\u0B11\u0B12\u0B29\u0B31\u0B34\u0B3A\u0B3B\u0B45\u0B46\u0B49\u0B4A\u0B4E-\u0B54\u0B58-\u0B5B\u0B5E\u0B64\u0B65\u0B70\u0B72-\u0B81\u0B84\u0B8B-\u0B8D\u0B91\u0B96-\u0B98\u0B9B\u0B9D\u0BA0-\u0BA2\u0BA5-\u0BA7\u0BAB-\u0BAD\u0BBA-\u0BBD\u0BC3-\u0BC5\u0BC9\u0BCE\u0BCF\u0BD1-\u0BD6\u0BD8-\u0BE5\u0BF0-\u0BFF\u0C0D\u0C11\u0C29\u0C3A-\u0C3C\u0C45\u0C49\u0C4E-\u0C54\u0C57\u0C5B-\u0C5F\u0C64\u0C65\u0C70-\u0C7F\u0C84\u0C8D\u0C91\u0CA9\u0CB4\u0CBA\u0CBB\u0CC5\u0CC9\u0CCE-\u0CD4\u0CD7-\u0CDD\u0CDF\u0CE4\u0CE5\u0CF0\u0CF3-\u0CFF\u0D0D\u0D11\u0D45\u0D49\u0D4F-\u0D53\u0D58-\u0D5E\u0D64\u0D65\u0D70-\u0D79\u0D80\u0D84\u0D97-\u0D99\u0DB2\u0DBC\u0DBE\u0DBF\u0DC7-\u0DC9\u0DCB-\u0DCE\u0DD5\u0DD7\u0DE0-\u0DE5\u0DF0\u0DF1\u0DF4-\u0E00\u0E3B-\u0E3F\u0E4F\u0E5A-\u0E80\u0E83\u0E85\u0E8B\u0EA4\u0EA6\u0EBE\u0EBF\u0EC5\u0EC7\u0ECE\u0ECF\u0EDA\u0EDB\u0EE0-\u0EFF\u0F01-\u0F17\u0F1A-\u0F1F\u0F2A-\u0F34\u0F36\u0F38\u0F3A-\u0F3D\u0F48\u0F6D-\u0F70\u0F85\u0F98\u0FBD-\u0FC5\u0FC7-\u0FFF\u104A-\u104F\u109E\u109F\u10C6\u10C8-\u10CC\u10CE\u10CF\u10FB\u1249\u124E\u124F\u1257\u1259\u125E\u125F\u1289\u128E\u128F\u12B1\u12B6\u12B7\u12BF\u12C1\u12C6\u12C7\u12D7\u1311\u1316\u1317\u135B\u135C\u1360-\u137F\u1390-\u139F\u13F6\u13F7\u13FE-\u1400\u166D\u166E\u1680\u169B-\u169F\u16EB-\u16ED\u16F9-\u16FF\u170D\u1715-\u171F\u1735-\u173F\u1754-\u175F\u176D\u1771\u1774-\u177F\u17D4-\u17D6\u17D8-\u17DB\u17DE\u17DF\u17EA-\u180A\u180E\u180F\u181A-\u181F\u1879-\u187F\u18AB-\u18AF\u18F6-\u18FF\u191F\u192C-\u192F\u193C-\u1945\u196E\u196F\u1975-\u197F\u19AC-\u19AF\u19CA-\u19CF\u19DA-\u19FF\u1A1C-\u1A1F\u1A5F\u1A7D\u1A7E\u1A8A-\u1A8F\u1A9A-\u1AA6\u1AA8-\u1AAF\u1AC1-\u1AFF\u1B4C-\u1B4F\u1B5A-\u1B6A\u1B74-\u1B7F\u1BF4-\u1BFF\u1C38-\u1C3F\u1C4A-\u1C4C\u1C7E\u1C7F\u1C89-\u1C8F\u1CBB\u1CBC\u1CC0-\u1CCF\u1CD3\u1CFB-\u1CFF\u1DFA\u1F16\u1F17\u1F1E\u1F1F\u1F46\u1F47\u1F4E\u1F4F\u1F58\u1F5A\u1F5C\u1F5E\u1F7E\u1F7F\u1FB5\u1FBD\u1FBF-\u1FC1\u1FC5\u1FCD-\u1FCF\u1FD4\u1FD5\u1FDC-\u1FDF\u1FED-\u1FF1\u1FF5\u1FFD-\u203E\u2041-\u2053\u2055-\u2070\u2072-\u207E\u2080-\u208F\u209D-\u20CF\u20F1-\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F-\u215F\u2189-\u24B5\u24EA-\u2BFF\u2C2F\u2C5F\u2CE5-\u2CEA\u2CF4-\u2CFF\u2D26\u2D28-\u2D2C\u2D2E\u2D2F\u2D68-\u2D6E\u2D70-\u2D7E\u2D97-\u2D9F\u2DA7\u2DAF\u2DB7\u2DBF\u2DC7\u2DCF\u2DD7\u2DDF\u2E00-\u2E2E\u2E30-\u3004\u3008-\u3020\u3030\u3036\u3037\u303D-\u3040\u3097\u3098\u309B\u309C\u30A0\u30FB\u3100-\u3104\u3130\u318F-\u319F\u31C0-\u31EF\u3200-\u33FF\u4DC0-\u4DFF\u9FFD-\u9FFF\uA48D-\uA4CF\uA4FE\uA4FF\uA60D-\uA60F\uA62C-\uA63F\uA673\uA67E\uA6F2-\uA716\uA720\uA721\uA789\uA78A\uA7C0\uA7C1\uA7CB-\uA7F4\uA828-\uA82B\uA82D-\uA83F\uA874-\uA87F\uA8C6-\uA8CF\uA8DA-\uA8DF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA954-\uA95F\uA97D-\uA97F\uA9C1-\uA9CE\uA9DA-\uA9DF\uA9FF\uAA37-\uAA3F\uAA4E\uAA4F\uAA5A-\uAA5F\uAA77-\uAA79\uAAC3-\uAADA\uAADE\uAADF\uAAF0\uAAF1\uAAF7-\uAB00\uAB07\uAB08\uAB0F\uAB10\uAB17-\uAB1F\uAB27\uAB2F\uAB5B\uAB6A-\uAB6F\uABEB\uABEE\uABEF\uABFA-\uABFF\uD7A4-\uD7AF\uD7C7-\uD7CA\uD7FC-\uD7FF\uE000-\uF8FF\uFA6E\uFA6F\uFADA-\uFAFF\uFB07-\uFB12\uFB18-\uFB1C\uFB29\uFB37\uFB3D\uFB3F\uFB42\uFB45\uFBB2-\uFBD2\uFD3E-\uFD4F\uFD90\uFD91\uFDC8-\uFDEF\uFDFC-\uFDFF\uFE10-\uFE1F\uFE30-\uFE32\uFE35-\uFE4C\uFE50-\uFE6F\uFE75\uFEFD-\uFF0F\uFF1A-\uFF20\uFF3B-\uFF3E\uFF40\uFF5B-\uFF65\uFFBF-\uFFC1\uFFC8\uFFC9\uFFD0\uFFD1\uFFD8\uFFD9\uFFDD-\uFFFF]|\uD800[\uDC0C\uDC27\uDC3B\uDC3E\uDC4E\uDC4F\uDC5E-\uDC7F\uDCFB-\uDD3F\uDD75-\uDDFC\uDDFE-\uDE7F\uDE9D-\uDE9F\uDED1-\uDEDF\uDEE1-\uDEFF\uDF20-\uDF2C\uDF4B-\uDF4F\uDF7B-\uDF7F\uDF9E\uDF9F\uDFC4-\uDFC7\uDFD0\uDFD6-\uDFFF]|\uD801[\uDC9E\uDC9F\uDCAA-\uDCAF\uDCD4-\uDCD7\uDCFC-\uDCFF\uDD28-\uDD2F\uDD64-\uDDFF\uDF37-\uDF3F\uDF56-\uDF5F\uDF68-\uDFFF]|\uD802[\uDC06\uDC07\uDC09\uDC36\uDC39-\uDC3B\uDC3D\uDC3E\uDC56-\uDC5F\uDC77-\uDC7F\uDC9F-\uDCDF\uDCF3\uDCF6-\uDCFF\uDD16-\uDD1F\uDD3A-\uDD7F\uDDB8-\uDDBD\uDDC0-\uDDFF\uDE04\uDE07-\uDE0B\uDE14\uDE18\uDE36\uDE37\uDE3B-\uDE3E\uDE40-\uDE5F\uDE7D-\uDE7F\uDE9D-\uDEBF\uDEC8\uDEE7-\uDEFF\uDF36-\uDF3F\uDF56-\uDF5F\uDF73-\uDF7F\uDF92-\uDFFF]|\uD803[\uDC49-\uDC7F\uDCB3-\uDCBF\uDCF3-\uDCFF\uDD28-\uDD2F\uDD3A-\uDE7F\uDEAA\uDEAD-\uDEAF\uDEB2-\uDEFF\uDF1D-\uDF26\uDF28-\uDF2F\uDF51-\uDFAF\uDFC5-\uDFDF\uDFF7-\uDFFF]|\uD804[\uDC47-\uDC65\uDC70-\uDC7E\uDCBB-\uDCCF\uDCE9-\uDCEF\uDCFA-\uDCFF\uDD35\uDD40-\uDD43\uDD48-\uDD4F\uDD74\uDD75\uDD77-\uDD7F\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDFF\uDE12\uDE38-\uDE3D\uDE3F-\uDE7F\uDE87\uDE89\uDE8E\uDE9E\uDEA9-\uDEAF\uDEEB-\uDEEF\uDEFA-\uDEFF\uDF04\uDF0D\uDF0E\uDF11\uDF12\uDF29\uDF31\uDF34\uDF3A\uDF45\uDF46\uDF49\uDF4A\uDF4E\uDF4F\uDF51-\uDF56\uDF58-\uDF5C\uDF64\uDF65\uDF6D-\uDF6F\uDF75-\uDFFF]|\uD805[\uDC4B-\uDC4F\uDC5A-\uDC5D\uDC62-\uDC7F\uDCC6\uDCC8-\uDCCF\uDCDA-\uDD7F\uDDB6\uDDB7\uDDC1-\uDDD7\uDDDE-\uDDFF\uDE41-\uDE43\uDE45-\uDE4F\uDE5A-\uDE7F\uDEB9-\uDEBF\uDECA-\uDEFF\uDF1B\uDF1C\uDF2C-\uDF2F\uDF3A-\uDFFF]|\uD806[\uDC3B-\uDC9F\uDCEA-\uDCFE\uDD07\uDD08\uDD0A\uDD0B\uDD14\uDD17\uDD36\uDD39\uDD3A\uDD44-\uDD4F\uDD5A-\uDD9F\uDDA8\uDDA9\uDDD8\uDDD9\uDDE2\uDDE5-\uDDFF\uDE3F-\uDE46\uDE48-\uDE4F\uDE9A-\uDE9C\uDE9E-\uDEBF\uDEF9-\uDFFF]|\uD807[\uDC09\uDC37\uDC41-\uDC4F\uDC5A-\uDC71\uDC90\uDC91\uDCA8\uDCB7-\uDCFF\uDD07\uDD0A\uDD37-\uDD39\uDD3B\uDD3E\uDD48-\uDD4F\uDD5A-\uDD5F\uDD66\uDD69\uDD8F\uDD92\uDD99-\uDD9F\uDDAA-\uDEDF\uDEF7-\uDFAF\uDFB1-\uDFFF]|\uD808[\uDF9A-\uDFFF]|\uD809[\uDC6F-\uDC7F\uDD44-\uDFFF]|[\uD80A\uD80B\uD80E-\uD810\uD812-\uD819\uD824-\uD82B\uD82D\uD82E\uD830-\uD833\uD837\uD839\uD83D\uD83F\uD87B-\uD87D\uD87F\uD885-\uDB3F\uDB41-\uDBFF][\uDC00-\uDFFF]|\uD80D[\uDC2F-\uDFFF]|\uD811[\uDE47-\uDFFF]|\uD81A[\uDE39-\uDE3F\uDE5F\uDE6A-\uDECF\uDEEE\uDEEF\uDEF5-\uDEFF\uDF37-\uDF3F\uDF44-\uDF4F\uDF5A-\uDF62\uDF78-\uDF7C\uDF90-\uDFFF]|\uD81B[\uDC00-\uDE3F\uDE80-\uDEFF\uDF4B-\uDF4E\uDF88-\uDF8E\uDFA0-\uDFDF\uDFE2\uDFE5-\uDFEF\uDFF2-\uDFFF]|\uD821[\uDFF8-\uDFFF]|\uD823[\uDCD6-\uDCFF\uDD09-\uDFFF]|\uD82C[\uDD1F-\uDD4F\uDD53-\uDD63\uDD68-\uDD6F\uDEFC-\uDFFF]|\uD82F[\uDC6B-\uDC6F\uDC7D-\uDC7F\uDC89-\uDC8F\uDC9A-\uDC9C\uDC9F-\uDFFF]|\uD834[\uDC00-\uDD64\uDD6A-\uDD6C\uDD73-\uDD7A\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDE41\uDE45-\uDFFF]|\uD835[\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3\uDFCC\uDFCD]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85-\uDE9A\uDEA0\uDEB0-\uDFFF]|\uD838[\uDC07\uDC19\uDC1A\uDC22\uDC25\uDC2B-\uDCFF\uDD2D-\uDD2F\uDD3E\uDD3F\uDD4A-\uDD4D\uDD4F-\uDEBF\uDEFA-\uDFFF]|\uD83A[\uDCC5-\uDCCF\uDCD7-\uDCFF\uDD4C-\uDD4F\uDD5A-\uDFFF]|\uD83B[\uDC00-\uDDFF\uDE04\uDE20\uDE23\uDE25\uDE26\uDE28\uDE33\uDE38\uDE3A\uDE3C-\uDE41\uDE43-\uDE46\uDE48\uDE4A\uDE4C\uDE50\uDE53\uDE55\uDE56\uDE58\uDE5A\uDE5C\uDE5E\uDE60\uDE63\uDE65\uDE66\uDE6B\uDE73\uDE78\uDE7D\uDE7F\uDE8A\uDE9C-\uDEA0\uDEA4\uDEAA\uDEBC-\uDFFF]|\uD83C[\uDC00-\uDD2F\uDD4A-\uDD4F\uDD6A-\uDD6F\uDD8A-\uDFFF]|\uD83E[\uDC00-\uDFEF\uDFFA-\uDFFF]|\uD869[\uDEDE-\uDEFF]|\uD86D[\uDF35-\uDF3F]|\uD86E[\uDC1E\uDC1F]|\uD873[\uDEA2-\uDEAF]|\uD87A[\uDFE1-\uDFFF]|\uD87E[\uDE1E-\uDFFF]|\uD884[\uDF4B-\uDFFF]|\uDB40[\uDC00-\uDCFF\uDDF0-\uDFFF]/g});function Wa(n,e){return typeof n!="string"?"":(e||(n=n.toLowerCase()),n.replace(Lw,"").replace(/ /g,"-"))}var fP,Ef=z(()=>{Tw();fP=Object.hasOwnProperty});var Br,Fw=z(()=>{Br=(n,e)=>({demo:`${n}:"Header \\"${n}\\""`,examples:[{title:"Variations",view:e.map(i=>`${i}:"Header \\"${i}\\""`)},{title:"Complex content",demo:{view:n,content:['text:"Text "','link:{ text: "Link" }']}},{title:"Using anchor",demo:[{view:n,anchor:"foo",content:'text:"Explicit value for an anchor"'},{view:n,anchor:!0,content:'text:"Auto generated anchor based on text content of header"'}]}]})});function Nw(n){async function e(i,o,l,c){let{content:f,anchor:d=!1}=o;if(i.classList.add("view-header"),await n.view.render(i,f||"text",l,c),d){let g=Wa(d===!0?i.textContent:String(d)),m=n.encodePageHash(n.pageId,n.pageRef,n.pageParams,g);i.prepend($("a",{class:"view-header__anchor",id:`!anchor:${g}`,href:m}))}}n.view.define("header",e,{tag:"h4",usage:Br}),n.view.define("h1",e,{tag:"h1",usage:Br}),n.view.define("h2",e,{tag:"h2",usage:Br}),n.view.define("h3",e,{tag:"h3",usage:Br}),n.view.define("h4",e,{tag:"h4",usage:Br}),n.view.define("h5",e,{tag:"h5",usage:Br})}var Ow=z(()=>{Ef();Oe();Fw()});var Iw,Bw=z(()=>{Iw={demo:{view:"html",data:'"<h1>I am inner HTML</h1>"'}}});function Pw(n){let e=document.createElement("div");n.view.define("html",function(i,o,l){e.innerHTML=l,i.append(...e.childNodes)},{tag:null,usage:Iw})}var jw=z(()=>{Bw()});var Mf,zw,Lf=z(()=>{Mf="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij4KICAgIDxyZWN0IHg9IjY1LjYiIHk9IjI0LjYiIHRyYW5zZm9ybT0ibWF0cml4KDAuOTM5NyAtMC4zNDIgMC4zNDIgMC45Mzk3IC05Ljk0MjYgMzEuODI4KSIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjM5LjMiIGhlaWdodD0iMzkiPjwvcmVjdD4KICAgIDxyZWN0IHg9IjcwLjYiIHk9IjUyLjciIHRyYW5zZm9ybT0ibWF0cml4KC0wLjkzOTcgMC4zNDIgLTAuMzQyIC0wLjkzOTcgMTk0Ljc4NTIgODEuMTIwNCkiIGZpbGw9IiNDN0Q3RTIiIHdpZHRoPSIzOS4zIiBoZWlnaHQ9IjEwIj48L3JlY3Q+CiAgICA8cGF0aCBmaWxsPSIjOThCRUQ4IiBkPSJNMTExLjUsNTQuNmwtMS4xLDEuMUw5Ny4xLDE5LjFsMS41LDAuMmM4LDAuOSwxNC43LDYuMiwxNy40LDEzLjdsMCwwQzExOC44LDQwLjQsMTE3LDQ4LjgsMTExLjUsNTQuNnoiPjwvcGF0aD4KICAgIDxwYXRoIGZpbGw9IiM0NTRCNTQiIGQ9Ik03My41LDcyLjJjLTEuMiwwLTIuNC0wLjgtMi44LTJMNTcuMywzMy41Yy0wLjMtMC43LTAuMi0xLjYsMC4xLTIuM2MwLjMtMC43LDAuOS0xLjMsMS43LTEuNmwzNi45LTEzLjRjMS42LTAuNiwzLjMsMC4yLDMuOCwxLjhsMTMuMywzNi42YzAuMywwLjcsMC4yLDEuNi0wLjEsMi4zYy0wLjMsMC43LTAuOSwxLjMtMS43LDEuNkw3NC41LDcyQzc0LjIsNzIuMSw3My44LDcyLjIsNzMuNSw3Mi4yek02NCwzNC4zbDExLjMsMzFsMzEuMy0xMS40bC0xMS4zLTMxTDY0LDM0LjN6Ij48L3BhdGg+CiAgICA8cmVjdCB4PSIzNSIgeT0iNDYuNyIgdHJhbnNmb3JtPSJtYXRyaXgoMC45Mzk3IC0wLjM0MiAwLjM0MiAwLjkzOTcgLTE2LjIwMTEgMjAuOTg4KSIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjMyLjgiIGhlaWdodD0iMTkuNSI+PC9yZWN0PgogICAgPHJlY3QgeD0iMzcuMyIgeT0iNTkuOCIgdHJhbnNmb3JtPSJtYXRyaXgoLTAuOTM5NyAwLjM0MiAtMC4zNDIgLTAuOTM5NyAxMjUuNjc2MyAxMDMuMzk0NikiIGZpbGw9IiNDN0Q3RTIiIHdpZHRoPSIzMi44IiBoZWlnaHQ9IjYiPjwvcmVjdD4KICAgIDxwYXRoIGZpbGw9IiM0NTRCNTQiIGQ9Ik0zOS40LDc0LjJjLTAuNCwwLTAuOS0wLjEtMS4zLTAuM2MtMC43LTAuMy0xLjMtMC45LTEuNi0xLjdsLTYuNy0xOC4zYy0wLjMtMC43LTAuMi0xLjYsMC4xLTIuM2MwLjMtMC43LDAuOS0xLjMsMS43LTEuNmwzMC44LTExLjJjMC43LTAuMywxLjYtMC4yLDIuMywwLjFjMC43LDAuMywxLjMsMC45LDEuNiwxLjdMNzMsNTljMC42LDEuNi0wLjIsMy4zLTEuOCwzLjhMNDAuNCw3NEM0MCw3NC4xLDM5LjcsNzQuMiwzOS40LDc0LjJ6IE0zNi41LDU0LjdsNC42LDEyLjdsMjUuMi05LjJsLTQuNi0xMi43TDM2LjUsNTQuN3oiPjwvcGF0aD4KICAgIDxwYXRoIGZpbGw9IiM0NTRCNTQiIGQ9Ik03MCwxMTguOWMtMS4yLDAtMi40LTAuNy0yLjgtMS45bC0xNC0zNy4ybC04LjQsMy4xbC0xNy4yLDM0LjRjLTAuNywxLjUtMi41LDIuMS00LDEuM2MtMS41LTAuNy0yLjEtMi41LTEuMy00TDQwLDc5YzAuMy0wLjcsMC45LTEuMiwxLjctMS41TDU0LDczLjFjMS41LTAuNiwzLjMsMC4yLDMuOCwxLjhsMTUsNDBjMC42LDEuNi0wLjIsMy4zLTEuOCwzLjlDNzAuNywxMTguOCw3MC40LDExOC45LDcwLDExOC45eiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTEzLjYsODAuMWMtMS4yLDAtMi40LTAuOC0yLjgtMkw2LjMsNjUuOWMtMC42LTEuNiwwLjItMy4zLDEuOC0zLjhjMS42LTAuNiwzLjMsMC4yLDMuOCwxLjhsNC40LDEyLjJjMC42LDEuNi0wLjIsMy4zLTEuOCwzLjhDMTQuMyw4MC4xLDE0LDgwLjEsMTMuNiw4MC4xeiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTEzLjIsNzMuM2MtMS4yLDAtMi40LTAuOC0yLjgtMmMtMC42LTEuNiwwLjItMy4zLDEuOC0zLjhMMzUsNTkuMmMxLjYtMC42LDMuMywwLjIsMy44LDEuOGMwLjYsMS42LTAuMiwzLjMtMS44LDMuOGwtMjIuOCw4LjNDMTMuOSw3My4zLDEzLjYsNzMuMywxMy4yLDczLjN6Ij48L3BhdGg+Cjwvc3ZnPgo=",zw={demo:{view:"image",src:Mf,height:100},examples:[{title:"Src is not defined",demo:"image"},{title:"Bad url",demo:'image{ src: "<bad url>" }'}]}});function Rw(n){n.view.define("image",function(e,i){Object.assign(e,i),e.onerror=()=>e.classList.add("error"),e.onload=()=>e.classList.add("loaded")},{tag:"img",usage:zw})}var Hw=z(()=>{Lf()});var qw,_w=z(()=>{Lf();qw={beforeDemo:['md:"Similar to the `image` view but displays as a block with the image centered. The block has a checkered background to highlight image transparency."'],demo:{view:"image-preview",src:Mf,height:100},examples:[{title:"Src is not defined",demo:"image-preview"},{title:"Bad url",demo:'image-preview{ src: "<bad url>" }'}]}});function Ww(n){n.view.define("image-preview",function(e,i,o,l){this.render(e,{view:"image",...i},o,l)},{usage:qw})}var $w=z(()=>{_w()});var Uw,Gw=z(()=>{Uw={demo:{view:"indicator",data:{label:"Label",value:"1234"}},examples:[{title:"Indicator as link",demo:{view:"indicator",data:{label:"Label",value:"4321",href:"#"}}}]}});function Vw(n){n.view.define("indicator",function(e,i,o,l){let{value:c,label:f}=i,{href:d}=o||{},g=document.createElement("div"),m=document.createElement("div");return g.className="value",m.className="label",d&&(e.href=d),Promise.all([n.view.render(g,c||"text:value",o,l),n.view.render(m,f||"text:label",o,l)]).then(()=>e.append(g,m))},{tag:"a",usage:Uw})}var Yw=z(()=>{Gw()});var Qw,Kw=z(()=>{Qw={demo:{view:"link",text:"I am a link",href:"#example"},examples:[{title:"Link opened in new tab",highlightProps:["external"],demo:{view:"link",text:"Discovery github",href:"https://github.com/discoveryjs/discovery",external:!0}},{title:"Infering text \u21FF href",highlightProps:["text","href","data"],beforeDemo:'md:"When `text` is omitted but `href` is specified, or vice versa, the opposite component is inferred from the specified one"',demo:[{view:"link",text:"http://example1.com"},{view:"link",href:"http://example2.com"},{view:"link",data:'"http://example3.com"'}]},{title:"Using onClick handler",highlightProps:["onClick"],demo:{view:"link",text:'Show "Hello world"',onClick:Function('return () => alert("Hello world!")')()}},{title:"Using data as source of options",beforeDemo:{view:"md",source:["The following properties are taken from the data when the appropriate options are not specified for a legacy reasons (is subject to remove in the future):","- `text`","- `href`","- `external`"].join(`
`)},highlightProps:["data"],demo:{view:"link",data:{text:"demo",href:"#example"}}},{title:"Complex content",highlightProps:["content"],demo:{view:"link",href:"#example",content:['text:"text "','html:"<b>bold</b>"']}}]}});function Zw(n){n.view.define("link",function(e,i,o,l){let{text:c,content:f,href:d,external:g,onClick:m}=i;if(d&&(e.href=d),g&&e.setAttribute("target","_blank"),typeof m=="function"&&(e.classList.add("onclick"),e.addEventListener("click",y=>{y.preventDefault(),m(e,o,l)})),f)return n.view.render(e,f,o,l);e.textContent=c},{tag:"a",props:oL,usage:Qw})}var oL,Jw=z(()=>{Kw();oL=`is not array? | {
    text: #.props.content is undefined ? is string ?: text,
    content: undefined,
    href,
    external,
    onClick: undefined
} | overrideProps() | {
    $text; $href;
    ...,
    text: $text | is not undefined or no $href ?: $href,
    href: $href | is not undefined or no $text ?: $text
}`});function Ff(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}function ib(n){jr=n}function Kt(n,e){if(e){if(ob.test(n))return n.replace(sL,Xw)}else if(sb.test(n))return n.replace(aL,Xw);return n}function We(n,e){let i=typeof n=="string"?n:n.source;e=e||"";let o={replace:(l,c)=>{let f=typeof c=="string"?c:c.source;return f=f.replace(uL,"$1"),i=i.replace(l,f),o},getRegex:()=>new RegExp(i,e)};return o}function eb(n){try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}function tb(n,e){let i=n.replace(/\|/g,(c,f,d)=>{let g=!1,m=f;for(;--m>=0&&d[m]==="\\";)g=!g;return g?"|":" |"}),o=i.split(/ \|/),l=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),e)if(o.length>e)o.splice(e);else for(;o.length<e;)o.push("");for(;l<o.length;l++)o[l]=o[l].trim().replace(/\\\|/g,"|");return o}function ns(n,e,i){let o=n.length;if(o===0)return"";let l=0;for(;l<o;){let c=n.charAt(o-l-1);if(c===e&&!i)l++;else if(c!==e&&i)l++;else break}return n.slice(0,o-l)}function cL(n,e){if(n.indexOf(e[1])===-1)return-1;let i=0;for(let o=0;o<n.length;o++)if(n[o]==="\\")o++;else if(n[o]===e[0])i++;else if(n[o]===e[1]&&(i--,i<0))return o;return-1}function nb(n,e,i,o){let l=e.href,c=e.title?Kt(e.title):null,f=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){o.state.inLink=!0;let d={type:"link",raw:i,href:l,title:c,text:f,tokens:o.inlineTokens(f)};return o.state.inLink=!1,d}return{type:"image",raw:i,href:l,title:c,text:Kt(f)}}function fL(n,e){let i=n.match(/^(\s+)(?:```)/);if(i===null)return e;let o=i[1];return e.split(`
`).map(l=>{let c=l.match(/^\s+/);if(c===null)return l;let[f]=c;return f.length>=o.length?l.slice(o.length):l}).join(`
`)}function _e(n,e){return Pr.parse(n,e)}var jr,ob,sL,sb,aL,lL,Xw,uL,is,Fi,dL,pL,hL,as,gL,ab,lb,Nf,mL,Of,yL,vL,Ga,If,wL,ub,bL,Bf,rb,xL,kL,cb,CL,fb,DL,ls,AL,SL,EL,ML,LL,TL,FL,NL,OL,Ua,IL,db,pb,BL,Pf,PL,Tf,jL,$a,rs,yn,ur,os,vn,Ti,ss,Pr,IP,BP,PP,jP,zP,RP,HP,jf=z(()=>{jr=Ff();ob=/[&<>"']/,sL=new RegExp(ob.source,"g"),sb=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,aL=new RegExp(sb.source,"g"),lL={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Xw=n=>lL[n];uL=/(^|[^\[])\^/g;is={exec:()=>null};Fi=class{options;rules;lexer;constructor(e){this.options=e||jr}space(e){let i=this.rules.block.newline.exec(e);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(e){let i=this.rules.block.code.exec(e);if(i){let o=i[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?o:ns(o,`
`)}}}fences(e){let i=this.rules.block.fences.exec(e);if(i){let o=i[0],l=fL(o,i[3]||"");return{type:"code",raw:o,lang:i[2]?i[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):i[2],text:l}}}heading(e){let i=this.rules.block.heading.exec(e);if(i){let o=i[2].trim();if(/#$/.test(o)){let l=ns(o,"#");(this.options.pedantic||!l||/ $/.test(l))&&(o=l.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:o,tokens:this.lexer.inline(o)}}}hr(e){let i=this.rules.block.hr.exec(e);if(i)return{type:"hr",raw:ns(i[0],`
`)}}blockquote(e){let i=this.rules.block.blockquote.exec(e);if(i){let o=ns(i[0],`
`).split(`
`),l="",c="",f=[];for(;o.length>0;){let d=!1,g=[],m;for(m=0;m<o.length;m++)if(/^ {0,3}>/.test(o[m]))g.push(o[m]),d=!0;else if(!d)g.push(o[m]);else break;o=o.slice(m);let y=g.join(`
`),k=y.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");l=l?`${l}
${y}`:y,c=c?`${c}
${k}`:k;let C=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(k,f,!0),this.lexer.state.top=C,o.length===0)break;let M=f[f.length-1];if(M?.type==="code")break;if(M?.type==="blockquote"){let E=M,F=E.raw+`
`+o.join(`
`),N=this.blockquote(F);f[f.length-1]=N,l=l.substring(0,l.length-E.raw.length)+N.raw,c=c.substring(0,c.length-E.text.length)+N.text;break}else if(M?.type==="list"){let E=M,F=E.raw+`
`+o.join(`
`),N=this.list(F);f[f.length-1]=N,l=l.substring(0,l.length-M.raw.length)+N.raw,c=c.substring(0,c.length-E.raw.length)+N.raw,o=F.substring(f[f.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:f,text:c}}}list(e){let i=this.rules.block.list.exec(e);if(i){let o=i[1].trim(),l=o.length>1,c={type:"list",raw:"",ordered:l,start:l?+o.slice(0,-1):"",loose:!1,items:[]};o=l?`\\d{1,9}\\${o.slice(-1)}`:`\\${o}`,this.options.pedantic&&(o=l?o:"[*+-]");let f=new RegExp(`^( {0,3}${o})((?:[	 ][^\\n]*)?(?:\\n|$))`),d=!1;for(;e;){let g=!1,m="",y="";if(!(i=f.exec(e))||this.rules.block.hr.test(e))break;m=i[0],e=e.substring(m.length);let k=i[2].split(`
`,1)[0].replace(/^\t+/,A=>" ".repeat(3*A.length)),C=e.split(`
`,1)[0],M=!k.trim(),E=0;if(this.options.pedantic?(E=2,y=k.trimStart()):M?E=i[1].length+1:(E=i[2].search(/[^ ]/),E=E>4?1:E,y=k.slice(E),E+=i[1].length),M&&/^[ \t]*$/.test(C)&&(m+=C+`
`,e=e.substring(C.length+1),g=!0),!g){let A=new RegExp(`^ {0,${Math.min(3,E-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),b=new RegExp(`^ {0,${Math.min(3,E-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),L=new RegExp(`^ {0,${Math.min(3,E-1)}}(?:\`\`\`|~~~)`),T=new RegExp(`^ {0,${Math.min(3,E-1)}}#`),I=new RegExp(`^ {0,${Math.min(3,E-1)}}<(?:[a-z].*>|!--)`,"i");for(;e;){let B=e.split(`
`,1)[0],R;if(C=B,this.options.pedantic?(C=C.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),R=C):R=C.replace(/\t/g,"    "),L.test(C)||T.test(C)||I.test(C)||A.test(C)||b.test(C))break;if(R.search(/[^ ]/)>=E||!C.trim())y+=`
`+R.slice(E);else{if(M||k.replace(/\t/g,"    ").search(/[^ ]/)>=4||L.test(k)||T.test(k)||b.test(k))break;y+=`
`+C}!M&&!C.trim()&&(M=!0),m+=B+`
`,e=e.substring(B.length+1),k=R.slice(E)}}c.loose||(d?c.loose=!0:/\n[ \t]*\n[ \t]*$/.test(m)&&(d=!0));let F=null,N;this.options.gfm&&(F=/^\[[ xX]\] /.exec(y),F&&(N=F[0]!=="[ ] ",y=y.replace(/^\[[ xX]\] +/,""))),c.items.push({type:"list_item",raw:m,task:!!F,checked:N,loose:!1,text:y,tokens:[]}),c.raw+=m}c.items[c.items.length-1].raw=c.items[c.items.length-1].raw.trimEnd(),c.items[c.items.length-1].text=c.items[c.items.length-1].text.trimEnd(),c.raw=c.raw.trimEnd();for(let g=0;g<c.items.length;g++)if(this.lexer.state.top=!1,c.items[g].tokens=this.lexer.blockTokens(c.items[g].text,[]),!c.loose){let m=c.items[g].tokens.filter(k=>k.type==="space"),y=m.length>0&&m.some(k=>/\n.*\n/.test(k.raw));c.loose=y}if(c.loose)for(let g=0;g<c.items.length;g++)c.items[g].loose=!0;return c}}html(e){let i=this.rules.block.html.exec(e);if(i)return{type:"html",block:!0,raw:i[0],pre:i[1]==="pre"||i[1]==="script"||i[1]==="style",text:i[0]}}def(e){let i=this.rules.block.def.exec(e);if(i){let o=i[1].toLowerCase().replace(/\s+/g," "),l=i[2]?i[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",c=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):i[3];return{type:"def",tag:o,raw:i[0],href:l,title:c}}}table(e){let i=this.rules.block.table.exec(e);if(!i||!/[:|]/.test(i[2]))return;let o=tb(i[1]),l=i[2].replace(/^\||\| *$/g,"").split("|"),c=i[3]&&i[3].trim()?i[3].replace(/\n[ \t]*$/,"").split(`
`):[],f={type:"table",raw:i[0],header:[],align:[],rows:[]};if(o.length===l.length){for(let d of l)/^ *-+: *$/.test(d)?f.align.push("right"):/^ *:-+: *$/.test(d)?f.align.push("center"):/^ *:-+ *$/.test(d)?f.align.push("left"):f.align.push(null);for(let d=0;d<o.length;d++)f.header.push({text:o[d],tokens:this.lexer.inline(o[d]),header:!0,align:f.align[d]});for(let d of c)f.rows.push(tb(d,f.header.length).map((g,m)=>({text:g,tokens:this.lexer.inline(g),header:!1,align:f.align[m]})));return f}}lheading(e){let i=this.rules.block.lheading.exec(e);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(e){let i=this.rules.block.paragraph.exec(e);if(i){let o=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:o,tokens:this.lexer.inline(o)}}}text(e){let i=this.rules.block.text.exec(e);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(e){let i=this.rules.inline.escape.exec(e);if(i)return{type:"escape",raw:i[0],text:Kt(i[1])}}tag(e){let i=this.rules.inline.tag.exec(e);if(i)return!this.lexer.state.inLink&&/^<a /i.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:i[0]}}link(e){let i=this.rules.inline.link.exec(e);if(i){let o=i[2].trim();if(!this.options.pedantic&&/^</.test(o)){if(!/>$/.test(o))return;let f=ns(o.slice(0,-1),"\\");if((o.length-f.length)%2===0)return}else{let f=cL(i[2],"()");if(f>-1){let g=(i[0].indexOf("!")===0?5:4)+i[1].length+f;i[2]=i[2].substring(0,f),i[0]=i[0].substring(0,g).trim(),i[3]=""}}let l=i[2],c="";if(this.options.pedantic){let f=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(l);f&&(l=f[1],c=f[3])}else c=i[3]?i[3].slice(1,-1):"";return l=l.trim(),/^</.test(l)&&(this.options.pedantic&&!/>$/.test(o)?l=l.slice(1):l=l.slice(1,-1)),nb(i,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:c&&c.replace(this.rules.inline.anyPunctuation,"$1")},i[0],this.lexer)}}reflink(e,i){let o;if((o=this.rules.inline.reflink.exec(e))||(o=this.rules.inline.nolink.exec(e))){let l=(o[2]||o[1]).replace(/\s+/g," "),c=i[l.toLowerCase()];if(!c){let f=o[0].charAt(0);return{type:"text",raw:f,text:f}}return nb(o,c,o[0],this.lexer)}}emStrong(e,i,o=""){let l=this.rules.inline.emStrongLDelim.exec(e);if(!l||l[3]&&o.match(/[\p{L}\p{N}]/u))return;if(!(l[1]||l[2]||"")||!o||this.rules.inline.punctuation.exec(o)){let f=[...l[0]].length-1,d,g,m=f,y=0,k=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(k.lastIndex=0,i=i.slice(-1*e.length+f);(l=k.exec(i))!=null;){if(d=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!d)continue;if(g=[...d].length,l[3]||l[4]){m+=g;continue}else if((l[5]||l[6])&&f%3&&!((f+g)%3)){y+=g;continue}if(m-=g,m>0)continue;g=Math.min(g,g+m+y);let C=[...l[0]][0].length,M=e.slice(0,f+l.index+C+g);if(Math.min(f,g)%2){let F=M.slice(1,-1);return{type:"em",raw:M,text:F,tokens:this.lexer.inlineTokens(F)}}let E=M.slice(2,-2);return{type:"strong",raw:M,text:E,tokens:this.lexer.inlineTokens(E)}}}}codespan(e){let i=this.rules.inline.code.exec(e);if(i){let o=i[2].replace(/\n/g," "),l=/[^ ]/.test(o),c=/^ /.test(o)&&/ $/.test(o);return l&&c&&(o=o.substring(1,o.length-1)),o=Kt(o,!0),{type:"codespan",raw:i[0],text:o}}}br(e){let i=this.rules.inline.br.exec(e);if(i)return{type:"br",raw:i[0]}}del(e){let i=this.rules.inline.del.exec(e);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(e){let i=this.rules.inline.autolink.exec(e);if(i){let o,l;return i[2]==="@"?(o=Kt(i[1]),l="mailto:"+o):(o=Kt(i[1]),l=o),{type:"link",raw:i[0],text:o,href:l,tokens:[{type:"text",raw:o,text:o}]}}}url(e){let i;if(i=this.rules.inline.url.exec(e)){let o,l;if(i[2]==="@")o=Kt(i[0]),l="mailto:"+o;else{let c;do c=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])?.[0]??"";while(c!==i[0]);o=Kt(i[0]),i[1]==="www."?l="http://"+i[0]:l=i[0]}return{type:"link",raw:i[0],text:o,href:l,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e){let i=this.rules.inline.text.exec(e);if(i){let o;return this.lexer.state.inRawBlock?o=i[0]:o=Kt(i[0]),{type:"text",raw:i[0],text:o}}}},dL=/^(?:[ \t]*(?:\n|$))+/,pL=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,hL=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,as=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,gL=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ab=/(?:[*+-]|\d{1,9}[.)])/,lb=We(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,ab).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Nf=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,mL=/^[^\n]+/,Of=/(?!\s*\])(?:\\.|[^\[\]\\])+/,yL=We(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Of).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),vL=We(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ab).getRegex(),Ga="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",If=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,wL=We("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",If).replace("tag",Ga).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),ub=We(Nf).replace("hr",as).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ga).getRegex(),bL=We(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",ub).getRegex(),Bf={blockquote:bL,code:pL,def:yL,fences:hL,heading:gL,hr:as,html:wL,lheading:lb,list:vL,newline:dL,paragraph:ub,table:is,text:mL},rb=We("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",as).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ga).getRegex(),xL={...Bf,table:rb,paragraph:We(Nf).replace("hr",as).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",rb).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ga).getRegex()},kL={...Bf,html:We(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",If).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:is,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:We(Nf).replace("hr",as).replace("heading",` *#{1,6} *[^
]`).replace("lheading",lb).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},cb=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,CL=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,fb=/^( {2,}|\\)\n(?!\s*$)/,DL=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,ls="\\p{P}\\p{S}",AL=We(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,ls).getRegex(),SL=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,EL=We(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,ls).getRegex(),ML=We("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,ls).getRegex(),LL=We("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,ls).getRegex(),TL=We(/\\([punct])/,"gu").replace(/punct/g,ls).getRegex(),FL=We(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),NL=We(If).replace("(?:-->|$)","-->").getRegex(),OL=We("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",NL).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ua=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,IL=We(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ua).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),db=We(/^!?\[(label)\]\[(ref)\]/).replace("label",Ua).replace("ref",Of).getRegex(),pb=We(/^!?\[(ref)\](?:\[\])?/).replace("ref",Of).getRegex(),BL=We("reflink|nolink(?!\\()","g").replace("reflink",db).replace("nolink",pb).getRegex(),Pf={_backpedal:is,anyPunctuation:TL,autolink:FL,blockSkip:SL,br:fb,code:CL,del:is,emStrongLDelim:EL,emStrongRDelimAst:ML,emStrongRDelimUnd:LL,escape:cb,link:IL,nolink:pb,punctuation:AL,reflink:db,reflinkSearch:BL,tag:OL,text:DL,url:is},PL={...Pf,link:We(/^!?\[(label)\]\((.*?)\)/).replace("label",Ua).getRegex(),reflink:We(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ua).getRegex()},Tf={...Pf,escape:We(cb).replace("])","~|])").getRegex(),url:We(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},jL={...Tf,br:We(fb).replace("{2,}","*").getRegex(),text:We(Tf.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},$a={normal:Bf,gfm:xL,pedantic:kL},rs={normal:Pf,gfm:Tf,breaks:jL,pedantic:PL},yn=class n{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||jr,this.options.tokenizer=this.options.tokenizer||new Fi,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let i={block:$a.normal,inline:rs.normal};this.options.pedantic?(i.block=$a.pedantic,i.inline=rs.pedantic):this.options.gfm&&(i.block=$a.gfm,this.options.breaks?i.inline=rs.breaks:i.inline=rs.gfm),this.tokenizer.rules=i}static get rules(){return{block:$a,inline:rs}}static lex(e,i){return new n(i).lex(e)}static lexInline(e,i){return new n(i).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){let o=this.inlineQueue[i];this.inlineTokens(o.src,o.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,i=[],o=!1){this.options.pedantic&&(e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""));let l,c,f;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(d=>(l=d.call({lexer:this},e,i))?(e=e.substring(l.raw.length),i.push(l),!0):!1))){if(l=this.tokenizer.space(e)){e=e.substring(l.raw.length),l.raw.length===1&&i.length>0?i[i.length-1].raw+=`
`:i.push(l);continue}if(l=this.tokenizer.code(e)){e=e.substring(l.raw.length),c=i[i.length-1],c&&(c.type==="paragraph"||c.type==="text")?(c.raw+=`
`+l.raw,c.text+=`
`+l.text,this.inlineQueue[this.inlineQueue.length-1].src=c.text):i.push(l);continue}if(l=this.tokenizer.fences(e)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.heading(e)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.hr(e)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.blockquote(e)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.list(e)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.html(e)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.def(e)){e=e.substring(l.raw.length),c=i[i.length-1],c&&(c.type==="paragraph"||c.type==="text")?(c.raw+=`
`+l.raw,c.text+=`
`+l.raw,this.inlineQueue[this.inlineQueue.length-1].src=c.text):this.tokens.links[l.tag]||(this.tokens.links[l.tag]={href:l.href,title:l.title});continue}if(l=this.tokenizer.table(e)){e=e.substring(l.raw.length),i.push(l);continue}if(l=this.tokenizer.lheading(e)){e=e.substring(l.raw.length),i.push(l);continue}if(f=e,this.options.extensions&&this.options.extensions.startBlock){let d=1/0,g=e.slice(1),m;this.options.extensions.startBlock.forEach(y=>{m=y.call({lexer:this},g),typeof m=="number"&&m>=0&&(d=Math.min(d,m))}),d<1/0&&d>=0&&(f=e.substring(0,d+1))}if(this.state.top&&(l=this.tokenizer.paragraph(f))){c=i[i.length-1],o&&c?.type==="paragraph"?(c.raw+=`
`+l.raw,c.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=c.text):i.push(l),o=f.length!==e.length,e=e.substring(l.raw.length);continue}if(l=this.tokenizer.text(e)){e=e.substring(l.raw.length),c=i[i.length-1],c&&c.type==="text"?(c.raw+=`
`+l.raw,c.text+=`
`+l.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=c.text):i.push(l);continue}if(e){let d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return this.state.top=!0,i}inline(e,i=[]){return this.inlineQueue.push({src:e,tokens:i}),i}inlineTokens(e,i=[]){let o,l,c,f=e,d,g,m;if(this.tokens.links){let y=Object.keys(this.tokens.links);if(y.length>0)for(;(d=this.tokenizer.rules.inline.reflinkSearch.exec(f))!=null;)y.includes(d[0].slice(d[0].lastIndexOf("[")+1,-1))&&(f=f.slice(0,d.index)+"["+"a".repeat(d[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(d=this.tokenizer.rules.inline.blockSkip.exec(f))!=null;)f=f.slice(0,d.index)+"["+"a".repeat(d[0].length-2)+"]"+f.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(d=this.tokenizer.rules.inline.anyPunctuation.exec(f))!=null;)f=f.slice(0,d.index)+"++"+f.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(g||(m=""),g=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(y=>(o=y.call({lexer:this},e,i))?(e=e.substring(o.raw.length),i.push(o),!0):!1))){if(o=this.tokenizer.escape(e)){e=e.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.tag(e)){e=e.substring(o.raw.length),l=i[i.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):i.push(o);continue}if(o=this.tokenizer.link(e)){e=e.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(o.raw.length),l=i[i.length-1],l&&o.type==="text"&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):i.push(o);continue}if(o=this.tokenizer.emStrong(e,f,m)){e=e.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.codespan(e)){e=e.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.br(e)){e=e.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.del(e)){e=e.substring(o.raw.length),i.push(o);continue}if(o=this.tokenizer.autolink(e)){e=e.substring(o.raw.length),i.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(e))){e=e.substring(o.raw.length),i.push(o);continue}if(c=e,this.options.extensions&&this.options.extensions.startInline){let y=1/0,k=e.slice(1),C;this.options.extensions.startInline.forEach(M=>{C=M.call({lexer:this},k),typeof C=="number"&&C>=0&&(y=Math.min(y,C))}),y<1/0&&y>=0&&(c=e.substring(0,y+1))}if(o=this.tokenizer.inlineText(c)){e=e.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(m=o.raw.slice(-1)),g=!0,l=i[i.length-1],l&&l.type==="text"?(l.raw+=o.raw,l.text+=o.text):i.push(o);continue}if(e){let y="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(y);break}else throw new Error(y)}}return i}},ur=class{options;parser;constructor(e){this.options=e||jr}space(e){return""}code({text:e,lang:i,escaped:o}){let l=(i||"").match(/^\S*/)?.[0],c=e.replace(/\n$/,"")+`
`;return l?'<pre><code class="language-'+Kt(l)+'">'+(o?c:Kt(c,!0))+`</code></pre>
`:"<pre><code>"+(o?c:Kt(c,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:i}){return`<h${i}>${this.parser.parseInline(e)}</h${i}>
`}hr(e){return`<hr>
`}list(e){let i=e.ordered,o=e.start,l="";for(let d=0;d<e.items.length;d++){let g=e.items[d];l+=this.listitem(g)}let c=i?"ol":"ul",f=i&&o!==1?' start="'+o+'"':"";return"<"+c+f+`>
`+l+"</"+c+`>
`}listitem(e){let i="";if(e.task){let o=this.checkbox({checked:!!e.checked});e.loose?e.tokens.length>0&&e.tokens[0].type==="paragraph"?(e.tokens[0].text=o+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=o+" "+e.tokens[0].tokens[0].text)):e.tokens.unshift({type:"text",raw:o+" ",text:o+" "}):i+=o+" "}return i+=this.parser.parse(e.tokens,!!e.loose),`<li>${i}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let i="",o="";for(let c=0;c<e.header.length;c++)o+=this.tablecell(e.header[c]);i+=this.tablerow({text:o});let l="";for(let c=0;c<e.rows.length;c++){let f=e.rows[c];o="";for(let d=0;d<f.length;d++)o+=this.tablecell(f[d]);l+=this.tablerow({text:o})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+i+`</thead>
`+l+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let i=this.parser.parseInline(e.tokens),o=e.header?"th":"td";return(e.align?`<${o} align="${e.align}">`:`<${o}>`)+i+`</${o}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${e}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:i,tokens:o}){let l=this.parser.parseInline(o),c=eb(e);if(c===null)return l;e=c;let f='<a href="'+e+'"';return i&&(f+=' title="'+i+'"'),f+=">"+l+"</a>",f}image({href:e,title:i,text:o}){let l=eb(e);if(l===null)return o;e=l;let c=`<img src="${e}" alt="${o}"`;return i&&(c+=` title="${i}"`),c+=">",c}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):e.text}},os=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},vn=class n{options;renderer;textRenderer;constructor(e){this.options=e||jr,this.options.renderer=this.options.renderer||new ur,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new os}static parse(e,i){return new n(i).parse(e)}static parseInline(e,i){return new n(i).parseInline(e)}parse(e,i=!0){let o="";for(let l=0;l<e.length;l++){let c=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[c.type]){let d=c,g=this.options.extensions.renderers[d.type].call({parser:this},d);if(g!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)){o+=g||"";continue}}let f=c;switch(f.type){case"space":{o+=this.renderer.space(f);continue}case"hr":{o+=this.renderer.hr(f);continue}case"heading":{o+=this.renderer.heading(f);continue}case"code":{o+=this.renderer.code(f);continue}case"table":{o+=this.renderer.table(f);continue}case"blockquote":{o+=this.renderer.blockquote(f);continue}case"list":{o+=this.renderer.list(f);continue}case"html":{o+=this.renderer.html(f);continue}case"paragraph":{o+=this.renderer.paragraph(f);continue}case"text":{let d=f,g=this.renderer.text(d);for(;l+1<e.length&&e[l+1].type==="text";)d=e[++l],g+=`
`+this.renderer.text(d);i?o+=this.renderer.paragraph({type:"paragraph",raw:g,text:g,tokens:[{type:"text",raw:g,text:g}]}):o+=g;continue}default:{let d='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}parseInline(e,i){i=i||this.renderer;let o="";for(let l=0;l<e.length;l++){let c=e[l];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[c.type]){let d=this.options.extensions.renderers[c.type].call({parser:this},c);if(d!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(c.type)){o+=d||"";continue}}let f=c;switch(f.type){case"escape":{o+=i.text(f);break}case"html":{o+=i.html(f);break}case"link":{o+=i.link(f);break}case"image":{o+=i.image(f);break}case"strong":{o+=i.strong(f);break}case"em":{o+=i.em(f);break}case"codespan":{o+=i.codespan(f);break}case"br":{o+=i.br(f);break}case"del":{o+=i.del(f);break}case"text":{o+=i.text(f);break}default:{let d='Token with "'+f.type+'" type was not found.';if(this.options.silent)return console.error(d),"";throw new Error(d)}}}return o}},Ti=class{options;block;constructor(e){this.options=e||jr}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?yn.lex:yn.lexInline}provideParser(){return this.block?vn.parse:vn.parseInline}},ss=class{defaults=Ff();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=vn;Renderer=ur;TextRenderer=os;Lexer=yn;Tokenizer=Fi;Hooks=Ti;constructor(...e){this.use(...e)}walkTokens(e,i){let o=[];for(let l of e)switch(o=o.concat(i.call(this,l)),l.type){case"table":{let c=l;for(let f of c.header)o=o.concat(this.walkTokens(f.tokens,i));for(let f of c.rows)for(let d of f)o=o.concat(this.walkTokens(d.tokens,i));break}case"list":{let c=l;o=o.concat(this.walkTokens(c.items,i));break}default:{let c=l;this.defaults.extensions?.childTokens?.[c.type]?this.defaults.extensions.childTokens[c.type].forEach(f=>{let d=c[f].flat(1/0);o=o.concat(this.walkTokens(d,i))}):c.tokens&&(o=o.concat(this.walkTokens(c.tokens,i)))}}return o}use(...e){let i=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(o=>{let l={...o};if(l.async=this.defaults.async||l.async||!1,o.extensions&&(o.extensions.forEach(c=>{if(!c.name)throw new Error("extension name required");if("renderer"in c){let f=i.renderers[c.name];f?i.renderers[c.name]=function(...d){let g=c.renderer.apply(this,d);return g===!1&&(g=f.apply(this,d)),g}:i.renderers[c.name]=c.renderer}if("tokenizer"in c){if(!c.level||c.level!=="block"&&c.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let f=i[c.level];f?f.unshift(c.tokenizer):i[c.level]=[c.tokenizer],c.start&&(c.level==="block"?i.startBlock?i.startBlock.push(c.start):i.startBlock=[c.start]:c.level==="inline"&&(i.startInline?i.startInline.push(c.start):i.startInline=[c.start]))}"childTokens"in c&&c.childTokens&&(i.childTokens[c.name]=c.childTokens)}),l.extensions=i),o.renderer){let c=this.defaults.renderer||new ur(this.defaults);for(let f in o.renderer){if(!(f in c))throw new Error(`renderer '${f}' does not exist`);if(["options","parser"].includes(f))continue;let d=f,g=o.renderer[d],m=c[d];c[d]=(...y)=>{let k=g.apply(c,y);return k===!1&&(k=m.apply(c,y)),k||""}}l.renderer=c}if(o.tokenizer){let c=this.defaults.tokenizer||new Fi(this.defaults);for(let f in o.tokenizer){if(!(f in c))throw new Error(`tokenizer '${f}' does not exist`);if(["options","rules","lexer"].includes(f))continue;let d=f,g=o.tokenizer[d],m=c[d];c[d]=(...y)=>{let k=g.apply(c,y);return k===!1&&(k=m.apply(c,y)),k}}l.tokenizer=c}if(o.hooks){let c=this.defaults.hooks||new Ti;for(let f in o.hooks){if(!(f in c))throw new Error(`hook '${f}' does not exist`);if(["options","block"].includes(f))continue;let d=f,g=o.hooks[d],m=c[d];Ti.passThroughHooks.has(f)?c[d]=y=>{if(this.defaults.async)return Promise.resolve(g.call(c,y)).then(C=>m.call(c,C));let k=g.call(c,y);return m.call(c,k)}:c[d]=(...y)=>{let k=g.apply(c,y);return k===!1&&(k=m.apply(c,y)),k}}l.hooks=c}if(o.walkTokens){let c=this.defaults.walkTokens,f=o.walkTokens;l.walkTokens=function(d){let g=[];return g.push(f.call(this,d)),c&&(g=g.concat(c.call(this,d))),g}}this.defaults={...this.defaults,...l}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,i){return yn.lex(e,i??this.defaults)}parser(e,i){return vn.parse(e,i??this.defaults)}parseMarkdown(e){return(o,l)=>{let c={...l},f={...this.defaults,...c},d=this.onError(!!f.silent,!!f.async);if(this.defaults.async===!0&&c.async===!1)return d(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof o>"u"||o===null)return d(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return d(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));f.hooks&&(f.hooks.options=f,f.hooks.block=e);let g=f.hooks?f.hooks.provideLexer():e?yn.lex:yn.lexInline,m=f.hooks?f.hooks.provideParser():e?vn.parse:vn.parseInline;if(f.async)return Promise.resolve(f.hooks?f.hooks.preprocess(o):o).then(y=>g(y,f)).then(y=>f.hooks?f.hooks.processAllTokens(y):y).then(y=>f.walkTokens?Promise.all(this.walkTokens(y,f.walkTokens)).then(()=>y):y).then(y=>m(y,f)).then(y=>f.hooks?f.hooks.postprocess(y):y).catch(d);try{f.hooks&&(o=f.hooks.preprocess(o));let y=g(o,f);f.hooks&&(y=f.hooks.processAllTokens(y)),f.walkTokens&&this.walkTokens(y,f.walkTokens);let k=m(y,f);return f.hooks&&(k=f.hooks.postprocess(k)),k}catch(y){return d(y)}}}onError(e,i){return o=>{if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let l="<p>An error occurred:</p><pre>"+Kt(o.message+"",!0)+"</pre>";return i?Promise.resolve(l):l}if(i)return Promise.reject(o);throw o}}},Pr=new ss;_e.options=_e.setOptions=function(n){return Pr.setOptions(n),_e.defaults=Pr.defaults,ib(_e.defaults),_e};_e.getDefaults=Ff;_e.defaults=jr;_e.use=function(...n){return Pr.use(...n),_e.defaults=Pr.defaults,ib(_e.defaults),_e};_e.walkTokens=function(n,e){return Pr.walkTokens(n,e)};_e.parseInline=Pr.parseInline;_e.Parser=vn;_e.parser=vn.parse;_e.Renderer=ur;_e.TextRenderer=os;_e.Lexer=yn;_e.lexer=yn.lex;_e.Tokenizer=Fi;_e.Hooks=Ti;_e.parse=_e;IP=_e.options,BP=_e.setOptions,PP=_e.use,jP=_e.walkTokens,zP=_e.parseInline,RP=vn.parse,HP=yn.lex});var Va,hb=z(()=>{jf();Ef();Qt();Va=class extends ur{heading({tokens:e,depth:i,text:o}){let{discoveryjs:{host:l,useAnchors:c}}=this.options,f=Wa(o.replace(/<!--.*?-->/g,"")),d="";if(c){let g=l.encodePageHash(l.pageId,l.pageRef,l.pageParams,f);d=`<a class="view-header__anchor" id="!anchor:${Xe(f)}" href="${g}"></a>`}return`<h${i} class="view-header view-h${i}" data-slug="${f}">${d}${this.parser.parseInline(e)}</h${i}>
`}code({text:e,lang:i}){let{discoveryjs:{codes:o}}=this.options;return`<code class="discoveryjs-code" data-id="${o.push({syntax:i,source:e})-1}"></code>`}link({tokens:e,href:i,title:o}){let l=this.parser.parseInline(e);if(i===null)return l;let c='<a class="view-link md-rendered-link" href="'+Xe(i)+'"';return o&&(c+=' title="'+Xe(o)+'"'),c+=">"+l+"</a>",c}checkbox({checked:e}){return'<label class="view-checkbox"><input type="checkbox" disabled'+(e?" checked":"")+"/></label> "}list({items:e,ordered:i,start:o}){let l=i?"ol":"ul",c=i&&o!==1?` start="${o}"`:"";return`<${l} class="view-${l}"${c}>
`+e.map(this.listitem,this).join(`
`)+`
</${l}>
`}listitem(e){let i="";if(e.task){let o=this.checkbox({checked:!!e.checked});if(e.loose){let l=e.tokens[0];l?.type==="paragraph"?(l.text=o+l.text,Array.isArray(l.tokens)&&l.tokens[0]?.type==="text"&&(l.tokens[0].text=o+l.tokens[0].text)):e.tokens.unshift({type:"text",raw:o,text:o})}else i+=o}return`<li class="view-list-item${e.task?" check-list-item":""}">${i}${this.parser.parse(e.tokens,!!e.loose)}</li>
`}table({header:e,rows:i}){let o=i.map(l=>'<tr class="view-table-row">'+l.map(this.tablecell,this).join("")+"</tr>").join(`
`);return`<table class="view-table">
<thead>
`+e.map(this.tablecell,this).join("")+`
</thead>
`+(o?`<tbody>
`+o+`
</tbody>
`:"")+`</table>
`}tablecell({tokens:e,header:i,align:o}){let l=i?"th":"td";return`<${l} class="${i?"view-table-header-cell":"view-table-cell"}"${o?` align="${o}"`:""}>`+this.parser.parseInline(e)+`</${l}>
`}}});var zf,gb=z(()=>{zf={demo:{view:"markdown",source:`# Markdown example

> NOTE: The \`markdown\` view is based on [marked](https://github.com/markedjs/marked) package

Markdown is good because:
* You'll get **formatted** *text* with _no tags_
* It's much simpler than \`HTML\`

\`\`\`html
<b>bold</b><i>italic</i>
\`\`\`
[Read more](https://guides.github.com/features/mastering-markdown/)`},examples:[{title:"Inline config",demo:'markdown{ source: "**Hello** `world`!" }'},{title:"Shorthand syntax",beforeDemo:['md:"You can use `md` as an alias for `markdown` with a string as data. That\'s a **shortest** definition for a marked text"'],demo:'md:"**Hello** `world`!"'},{title:"Array of strings as a source",beforeDemo:['md:"Array of strings might be passed as a value for `source` property which is useful for a long sources\\n> NOTE: This doesn\'t work a source passed via data"'],demo:{view:"markdown",source:["Array","of","`strings`"]}},{title:"Interpolation",beforeDemo:['md:"Interpolation can be used almost anywhere in a markdown to embed the result of a jora query into resulting HTML. Just place a jora query between `{{`{{`}}` and `{{`}`+`}`}}`:"'],demo:{view:"md",source:["Simple evaluation: 2 + 2 = `{{ 2 + 2 }}`","","Markdown view has {{ #.options.usage.examples.size() }} examples"]}},{title:"Disable anchors for headers",highlightProps:["anchors"],beforeDemo:"Hover a header to see a chain icon on the left side of header when anchors are enabled:",demo:[{view:"markdown",source:"## header with default settings"},{view:"markdown",anchors:!1,source:"## header with disabled anchor"}]},{title:"Sections prelude and postlude",highlightProps:["sectionPrelude","sectionPostlude"],demo:{view:"markdown",sectionPrelude:"struct:#.section",sectionPostlude:{view:"link",href:"#top",text:"Scroll to top \u2191"},source:`Section without a header

## Header level 2

Section 1

### Header level 3

Section 2

## Header level 2

Section 3`}},{title:"Configuration for code blocks",highlightProps:["codeConfig"],beforeDemo:['md:"Use `codeConfig` to specify any settings for code blocks available for `source` view."'],demo:{view:"markdown",codeConfig:{prelude:{view:"block",content:["badge:syntax",'text:"Length: " + content.size()']},postlude:"struct:#.section",actionButtons:[{view:"button",text:'Say "Hello world"',onClick:Function('return () => alert("Hello world!")')()}]},source:`# Header 1

\`\`\`js
console.log("Hello world")
\`\`\`

## Header 2

text

## Header 3



\`\`\`jora
foo.bar.baz
\`\`\``}},{title:"Showcase",demo:{view:"markdown",source:`
# Header
## Header
### Header
#### Header
##### Header
* One
* Two
    * Three

4. Four
5. Five
    6. Six
- [{{ true }}] Task 1
- [x] Task 2

Interpolation in text: 2 + 2 = \`{{ 2 + 2 }}\`, or in attribute: [link](#dummy-link/{{"exam" + "ple"}} "{{ "example" + " title" }}")

Paragraph **bold** __bold__ *italic* _italic_ ~line-through~ \`code\` [link](#href)

>Blockquote
> > Line 2

\`\`\`js
var some = "code";
\`\`\`

foo | bar
----|-----
1 | A
2 | C
3 | E
`.trim().split(/\n/)}}]}});function mb(n,e){let{nodeValue:i}=n,o=i.replace(/{{(\d+)}}/gs,(l,c)=>e[c]);o!==i&&(n.nodeValue=o)}function vb(n,e){for(let i of n.childNodes)switch(i.nodeType){case document.ELEMENT_NODE:if(!i.classList.contains("view-source")){vb(i,e);for(let o of i.attributes)mb(o,e)}break;case document.TEXT_NODE:mb(i,e);break}}function zL(n){let e=new Map,i={after:n.prepend.bind(n)},o={next:null,data:{sectionIdx:0,slug:null,text:null,href:null}};e.set(i,o);for(let l of[...n.querySelectorAll(":scope > :is(h1, h2, h3, h4, h5, h6)")]){l===n.firstElementChild&&(e.delete(i),i=l,o=null);let c=l.querySelector(':scope > a[id^="!anchor:"]'),f={next:null,data:{sectionIdx:e.size,slug:l.dataset.slug,text:l.textContent.trim(),href:c?.hash}};e.set(l,f),o&&(o.next=l),o=f}return{sectionByHeaderEl:e,findSectionByEl(l){let c=e.get(i);for(;l!==null&&l!==n;){if(e.has(l)){c=e.get(l);break}l=l.previousSibling||l.parentNode}return c?.data||null}}}function wb(n){let e=new ss().setOptions({smartLists:!0,renderer:new Va});function i(o,l,c,f){let d=new Map,g=[],m=[],{anchors:y=!0,sectionPrelude:k,sectionPostlude:C}=l,{source:M,codeConfig:E}=l;if(Array.isArray(M)&&(M=M.join(`
`)),M=M.replace(/{{(.+?)}}/gs,(A,b)=>(b=b.trim(),d.has(b)||d.set(b,d.size),`{{${d.get(b)}}}`)),o.classList.add("view-markdown"),o.innerHTML=e.parse(M,{discoveryjs:{host:n,useAnchors:y,codes:g}}),d.size>0){let A=new Array(d.size);for(let[b,L]of d.entries())try{A[L]=n.query(b,c,f)}catch(T){n.logger.error("Interpolation query error in markdown:",T.message)}vb(o,A)}for(let A of o.querySelectorAll(".md-rendered-link"))A.getAttribute("href").startsWith("#")||A.setAttribute("target","_blank");let{sectionByHeaderEl:F,findSectionByEl:N}=g.length||k||C?zL(o):{sectionByHeaderEl:new Map,findSectionByEl:()=>null};{E=typeof E=="object"?{view:"source",...E}:E||"source";for(let A of[...o.querySelectorAll(".discoveryjs-code")]){let b=N(A),L=document.createDocumentFragment(),T=A.dataset.id,{syntax:I,source:B}=g[T];m.push(this.render(L,E,{syntax:I,source:B},{...f,section:b}).then(()=>A.replaceWith(L)))}}if(k||C){let A=(b,L,T)=>{let I=document.createDocumentFragment();m.push(this.render(I,b,c,{...f,section:L.data}).then(()=>T(I)))};for(let[b,L]of F)k&&A(k,L,T=>b.after(T)),C&&A(C,L,T=>L.next?L.next.before(T):o.append(T))}return Promise.all(m)}n.view.define("markdown",i,{props:yb,usage:zf}),n.view.define("md",i,{props:yb,usage:zf})}var yb,bb=z(()=>{jf();hb();gb();yb=`is not array? | {
    source: #.props has no 'source' ? is (string or array) ?,
    anchors: true,
    sectionPrelude: undefined,
    sectionPostlude: undefined,
    codeConfig: undefined
} | overrideProps()`});var Ya=Ct((ZP,xb)=>{function RL(n,e){switch(n.charCodeAt(e)){default:return 0;case 10:return 1;case 13:return e+1<n.length&&n.charCodeAt(e+1)===10?2:1}}xb.exports={newLineLength:RL}});var Cb=Ct((JP,kb)=>{var{newLineLength:HL}=Ya();kb.exports=(n,e)=>{let i=1,o=0;for(let l=0;l<n.length;l++){let c=HL(n,l);c!==0&&(e(o,l+c,i++),o=l+c,l+=c-1)}e(o,n.length,i++)}});var Ab=Ct((XP,Db)=>{var{newLineLength:qL}=Ya();Db.exports=(n,e)=>{let i=1,o=0;for(let l=0;l<n.length;l++){let c=qL(n,l);c!==0&&(e(o,l,i++),o=l+c,l+=c-1)}e(o,n.length,i++)}});var Eb=Ct((ej,Sb)=>{Sb.exports=function(n){if(n instanceof RegExp){let e=n.flags.indexOf("g")!==-1?n.flags:n.flags+"g",i=new RegExp(n,e);return function(o,l){let c;for(;c=i.exec(o);)l(c.index,c.index+c[0].length)}}return n=String(n),function(e,i){let o=-1;for(;o=e.indexOf(n,o+1),o!==-1;)i(o,o+n.length)}}});var Lb=Ct((tj,Mb)=>{var{newLineLength:_L}=Ya();Mb.exports=(n,e)=>{let i=1;for(let o=0;o<n.length;o++){let l=_L(n,o);l!==0&&(e(o,o+l,i++),o+=l-1)}}});var Fb=Ct((nj,Tb)=>{Tb.exports={lines:Cb(),lineContents:Ab(),matches:Eb(),newlines:Lb()}});var Qa=Ct((rj,Ib)=>{function Nb(n){return Rf.call(null,n)}function Rf(n){let e=this===globalThis?{}:this||{},i={};return Object.assign(i,e,n,{fork:Rf.bind(i),ranges:Object.assign({},e.ranges,n&&n.ranges)}),typeof i.createHook!="function"&&(i.createHook=o=>o()),i}function Ob(n){let e=Object.assign({},this);for(let i in n){let o=n[i];if(!(!o||typeof o!="object"))if(hasOwnProperty.call(e,i)){let l=e[i];e[i]=l&&typeof l.fork=="function"?l.fork(n[i]):l}else e[i]=Nb(n[i])}return e.fork=Ob.bind(e),e}Ib.exports={createPrinter:Nb,forkPrinter:Rf,forkPrinterSet:Ob}});var Hf=Ct((ij,Bb)=>{Bb.exports=Qa().createPrinter()});var jb=Ct((oj,Pb)=>{var{createPrinter:WL}=Qa();Pb.exports=WL({print:n=>n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")})});var Rb=Ct((sj,zb)=>{var{forkPrinterSet:$L}=Qa();zb.exports=$L.call({},{noop:Hf(),html:jb(),tty:Hf()})});var qb=Ct((aj,Hb)=>{Hb.exports=function(e,i){let o=[];return i.forEach(({generate:l,marker:c})=>l(e,(f,d,g)=>o.push({type:c,start:f,end:d,data:g}))),o}});var Wb=Ct((lj,_b)=>{var Ka=()=>"",UL=function(){};function zr(n,e){return typeof n=="function"?n:e||UL}_b.exports=function(e,i,o){let l=zr(o.print,L=>L),c=Object.assign(Object.defineProperties(Object.create(null),{offset:{get:()=>k},line:{get:()=>C},column:{get:()=>M},start:{get:()=>d.start},end:{get:()=>d.end},data:{get:()=>d.data}}),zr(o.createContext)()),f=[],d={start:0,end:e.length},g=o.ranges||{},m=[],y=1/0,k=0,C=1,M=1,E="";E+=zr(o.open,Ka)(c),g=[].concat(Object.getOwnPropertyNames(g),Object.getOwnPropertySymbols(g)).reduce((L,T)=>{let I=g[T];return typeof I=="function"&&(g[T]=I=o.createHook(I)),I&&(m.push(T),L[T]={open:zr(I.open,Ka),close:zr(I.close,Ka),print:zr(I.print,l)}),L},{}),i=i.slice().sort((L,T)=>L.start-T.start||T.end-L.end||m.indexOf(L.type)-m.indexOf(T.type));let F=L=>g[(d=f[L]).type].open(c)||"",N=L=>g[(d=f[L]).type].close(c)||"",A=L=>{if(k!==L){let T=e.substring(k,L),I=f.length?g[f[f.length-1].type].print:l;for(let B=k;B<L;B++){let R=e.charCodeAt(B);R===10||R===13&&(B>=e.length||e.charCodeAt(B+1)!==10)?(C++,M=1):M++}E+=I(T,c),k=L}},b=L=>{for(;y<=L;){A(y);for(let T=f.length-1;T>=0&&f[T].end===y;T--)E+=N(T),f.pop();y=1/0;for(let T=0;T<f.length;T++)f[T].end<y&&(y=f[T].end)}};for(let L=0;L<i.length;L++){let T=i[L],I=0;if(g.hasOwnProperty(T.type)!==!1&&!(T.start>T.end||!Number.isFinite(T.start)||!Number.isFinite(T.end))){for(b(T.start),A(T.start),I=0;I<f.length;I++)if(f[I].end<T.end){for(let B=f.length-1;B>=I;B--)E+=N(B);break}for(f.splice(I,0,T);I<f.length;I++)E+=F(I);T.end<y&&(y=T.end)}}b(e.length),A(e.length);for(let L=f.length-1;L>=0;L--)E+=N(L);return E+=zr(o.close,Ka)(c)||"",E}});var Gb=Ct((uj,Ub)=>{var GL=Fb(),Wf=Rb(),$b=qb(),VL=Wb();function YL(n,e){return{marker:n,generate:e}}function QL(n,e){let i={};for(let o in e)i[o]={ranges:{[n]:e[o]}};return i}function _f(n,e,i){let o=(l,c)=>{let f=e[c||i]||Wf.noop,d=$b(l,n);return VL(l,d,f)};return Object.assign(o,{print:o,generateRanges(l){return $b(l,n)},use(l,c){let f=Symbol(l.name),d=l.ranges||l,g=Array.isArray(d)?(m,y)=>d.forEach(k=>y(...k)):d;return typeof g!="function"||(c||(c=l.printer),!c)?o:_f(n.concat(YL(f,g)),e.fork(QL(f,c)),i)},printer(l){return _f(n,e,l)}})}function qf(n,e,i){let o=_f([],i||Wf,e);return Array.isArray(n)&&(o=n.reduce((l,c)=>Array.isArray(c)?l.use(...c):l.use(c),o)),o}Ub.exports=Object.assign(qf,{gen:GL,printer:Object.assign((...n)=>qf().printer(...n),Wf),use(...n){return qf().use(...n)}})});var Qb=Ct((Vb,Yb)=>{(function(n){typeof Vb=="object"&&typeof Yb=="object"?n(An()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("css",function(U,W){var ne=W.inline;W.propertyKeywords||(W=n.resolveMode("text/css"));var q=U.indentUnit,Z=W.tokenHooks,S=W.documentTypes||{},X=W.mediaTypes||{},ee=W.mediaFeatures||{},pe=W.mediaValueKeywords||{},De=W.propertyKeywords||{},Pe=W.nonStandardPropertyKeywords||{},et=W.fontProperties||{},nt=W.counterDescriptors||{},Ye=W.colorKeywords||{},yt=W.valueKeywords||{},je=W.allowNested,xe=W.lineComment,we=W.supportsAtComponent===!0,V=U.highlightNonStandardPropertyKeywords!==!1,le,re;function ie(G,ae){return le=ae,G}function Ee(G,ae){var K=G.next();if(Z[K]){var Ne=Z[K](G,ae);if(Ne!==!1)return Ne}if(K=="@")return G.eatWhile(/[\w\\\-]/),ie("def",G.current());if(K=="="||(K=="~"||K=="|")&&G.eat("="))return ie(null,"compare");if(K=='"'||K=="'")return ae.tokenize=Ce(K),ae.tokenize(G,ae);if(K=="#")return G.eatWhile(/[\w\\\-]/),ie("atom","hash");if(K=="!")return G.match(/^\s*\w*/),ie("keyword","important");if(/\d/.test(K)||K=="."&&G.eat(/\d/))return G.eatWhile(/[\w.%]/),ie("number","unit");if(K==="-"){if(/[\d.]/.test(G.peek()))return G.eatWhile(/[\w.%]/),ie("number","unit");if(G.match(/^-[\w\\\-]*/))return G.eatWhile(/[\w\\\-]/),G.match(/^\s*:/,!1)?ie("variable-2","variable-definition"):ie("variable-2","variable");if(G.match(/^\w+-/))return ie("meta","meta")}else return/[,+>*\/]/.test(K)?ie(null,"select-op"):K=="."&&G.match(/^-?[_a-z][_a-z0-9-]*/i)?ie("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(K)?ie(null,K):G.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(G.current())&&(ae.tokenize=be),ie("variable callee","variable")):/[\w\\\-]/.test(K)?(G.eatWhile(/[\w\\\-]/),ie("property","word")):ie(null,null)}function Ce(G){return function(ae,K){for(var Ne=!1,vt;(vt=ae.next())!=null;){if(vt==G&&!Ne){G==")"&&ae.backUp(1);break}Ne=!Ne&&vt=="\\"}return(vt==G||!Ne&&G!=")")&&(K.tokenize=null),ie("string","string")}}function be(G,ae){return G.next(),G.match(/^\s*[\"\')]/,!1)?ae.tokenize=null:ae.tokenize=Ce(")"),ie(null,"(")}function $e(G,ae,K){this.type=G,this.indent=ae,this.prev=K}function Me(G,ae,K,Ne){return G.context=new $e(K,ae.indentation()+(Ne===!1?0:q),G.context),K}function Ue(G){return G.context.prev&&(G.context=G.context.prev),G.context.type}function ut(G,ae,K){return He[K.context.type](G,ae,K)}function at(G,ae,K,Ne){for(var vt=Ne||1;vt>0;vt--)K.context=K.context.prev;return ut(G,ae,K)}function Te(G){var ae=G.current().toLowerCase();yt.hasOwnProperty(ae)?re="atom":Ye.hasOwnProperty(ae)?re="keyword":re="variable"}var He={};return He.top=function(G,ae,K){if(G=="{")return Me(K,ae,"block");if(G=="}"&&K.context.prev)return Ue(K);if(we&&/@component/i.test(G))return Me(K,ae,"atComponentBlock");if(/^@(-moz-)?document$/i.test(G))return Me(K,ae,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(G))return Me(K,ae,"atBlock");if(/^@(font-face|counter-style)/i.test(G))return K.stateArg=G,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(G))return"keyframes";if(G&&G.charAt(0)=="@")return Me(K,ae,"at");if(G=="hash")re="builtin";else if(G=="word")re="tag";else{if(G=="variable-definition")return"maybeprop";if(G=="interpolation")return Me(K,ae,"interpolation");if(G==":")return"pseudo";if(je&&G=="(")return Me(K,ae,"parens")}return K.context.type},He.block=function(G,ae,K){if(G=="word"){var Ne=ae.current().toLowerCase();return De.hasOwnProperty(Ne)?(re="property","maybeprop"):Pe.hasOwnProperty(Ne)?(re=V?"string-2":"property","maybeprop"):je?(re=ae.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(re+=" error","maybeprop")}else return G=="meta"?"block":!je&&(G=="hash"||G=="qualifier")?(re="error","block"):He.top(G,ae,K)},He.maybeprop=function(G,ae,K){return G==":"?Me(K,ae,"prop"):ut(G,ae,K)},He.prop=function(G,ae,K){if(G==";")return Ue(K);if(G=="{"&&je)return Me(K,ae,"propBlock");if(G=="}"||G=="{")return at(G,ae,K);if(G=="(")return Me(K,ae,"parens");if(G=="hash"&&!/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(ae.current()))re+=" error";else if(G=="word")Te(ae);else if(G=="interpolation")return Me(K,ae,"interpolation");return"prop"},He.propBlock=function(G,ae,K){return G=="}"?Ue(K):G=="word"?(re="property","maybeprop"):K.context.type},He.parens=function(G,ae,K){return G=="{"||G=="}"?at(G,ae,K):G==")"?Ue(K):G=="("?Me(K,ae,"parens"):G=="interpolation"?Me(K,ae,"interpolation"):(G=="word"&&Te(ae),"parens")},He.pseudo=function(G,ae,K){return G=="meta"?"pseudo":G=="word"?(re="variable-3",K.context.type):ut(G,ae,K)},He.documentTypes=function(G,ae,K){return G=="word"&&S.hasOwnProperty(ae.current())?(re="tag",K.context.type):He.atBlock(G,ae,K)},He.atBlock=function(G,ae,K){if(G=="(")return Me(K,ae,"atBlock_parens");if(G=="}"||G==";")return at(G,ae,K);if(G=="{")return Ue(K)&&Me(K,ae,je?"block":"top");if(G=="interpolation")return Me(K,ae,"interpolation");if(G=="word"){var Ne=ae.current().toLowerCase();Ne=="only"||Ne=="not"||Ne=="and"||Ne=="or"?re="keyword":X.hasOwnProperty(Ne)?re="attribute":ee.hasOwnProperty(Ne)?re="property":pe.hasOwnProperty(Ne)?re="keyword":De.hasOwnProperty(Ne)?re="property":Pe.hasOwnProperty(Ne)?re=V?"string-2":"property":yt.hasOwnProperty(Ne)?re="atom":Ye.hasOwnProperty(Ne)?re="keyword":re="error"}return K.context.type},He.atComponentBlock=function(G,ae,K){return G=="}"?at(G,ae,K):G=="{"?Ue(K)&&Me(K,ae,je?"block":"top",!1):(G=="word"&&(re="error"),K.context.type)},He.atBlock_parens=function(G,ae,K){return G==")"?Ue(K):G=="{"||G=="}"?at(G,ae,K,2):He.atBlock(G,ae,K)},He.restricted_atBlock_before=function(G,ae,K){return G=="{"?Me(K,ae,"restricted_atBlock"):G=="word"&&K.stateArg=="@counter-style"?(re="variable","restricted_atBlock_before"):ut(G,ae,K)},He.restricted_atBlock=function(G,ae,K){return G=="}"?(K.stateArg=null,Ue(K)):G=="word"?(K.stateArg=="@font-face"&&!et.hasOwnProperty(ae.current().toLowerCase())||K.stateArg=="@counter-style"&&!nt.hasOwnProperty(ae.current().toLowerCase())?re="error":re="property","maybeprop"):"restricted_atBlock"},He.keyframes=function(G,ae,K){return G=="word"?(re="variable","keyframes"):G=="{"?Me(K,ae,"top"):ut(G,ae,K)},He.at=function(G,ae,K){return G==";"?Ue(K):G=="{"||G=="}"?at(G,ae,K):(G=="word"?re="tag":G=="hash"&&(re="builtin"),"at")},He.interpolation=function(G,ae,K){return G=="}"?Ue(K):G=="{"||G==";"?at(G,ae,K):(G=="word"?re="variable":G!="variable"&&G!="("&&G!=")"&&(re="error"),"interpolation")},{startState:function(G){return{tokenize:null,state:ne?"block":"top",stateArg:null,context:new $e(ne?"block":"top",G||0,null)}},token:function(G,ae){if(!ae.tokenize&&G.eatSpace())return null;var K=(ae.tokenize||Ee)(G,ae);return K&&typeof K=="object"&&(le=K[1],K=K[0]),re=K,le!="comment"&&(ae.state=He[ae.state](le,G,ae)),re},indent:function(G,ae){var K=G.context,Ne=ae&&ae.charAt(0),vt=K.indent;return K.type=="prop"&&(Ne=="}"||Ne==")")&&(K=K.prev),K.prev&&(Ne=="}"&&(K.type=="block"||K.type=="top"||K.type=="interpolation"||K.type=="restricted_atBlock")?(K=K.prev,vt=K.indent):(Ne==")"&&(K.type=="parens"||K.type=="atBlock_parens")||Ne=="{"&&(K.type=="at"||K.type=="atBlock"))&&(vt=Math.max(0,K.indent-q))),vt},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:xe,fold:"brace"}});function e(U){for(var W={},ne=0;ne<U.length;++ne)W[U[ne].toLowerCase()]=!0;return W}var i=["domain","regexp","url","url-prefix"],o=e(i),l=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],c=e(l),f=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],d=e(f),g=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],m=e(g),y=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],k=e(y),C=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],M=e(C),E=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],F=e(E),N=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],A=e(N),b=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],L=e(b),T=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],I=e(T),B=i.concat(l).concat(f).concat(g).concat(y).concat(C).concat(b).concat(T);n.registerHelper("hintWords","css",B);function R(U,W){for(var ne=!1,q;(q=U.next())!=null;){if(ne&&q=="/"){W.tokenize=null;break}ne=q=="*"}return["comment","comment"]}n.defineMIME("text/css",{documentTypes:o,mediaTypes:c,mediaFeatures:d,mediaValueKeywords:m,propertyKeywords:k,nonStandardPropertyKeywords:M,fontProperties:F,counterDescriptors:A,colorKeywords:L,valueKeywords:I,tokenHooks:{"/":function(U,W){return U.eat("*")?(W.tokenize=R,R(U,W)):!1}},name:"css"}),n.defineMIME("text/x-scss",{mediaTypes:c,mediaFeatures:d,mediaValueKeywords:m,propertyKeywords:k,nonStandardPropertyKeywords:M,colorKeywords:L,valueKeywords:I,fontProperties:F,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(U,W){return U.eat("/")?(U.skipToEnd(),["comment","comment"]):U.eat("*")?(W.tokenize=R,R(U,W)):["operator","operator"]},":":function(U){return U.match(/^\s*\{/,!1)?[null,null]:!1},$:function(U){return U.match(/^[\w-]+/),U.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(U){return U.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),n.defineMIME("text/x-less",{mediaTypes:c,mediaFeatures:d,mediaValueKeywords:m,propertyKeywords:k,nonStandardPropertyKeywords:M,colorKeywords:L,valueKeywords:I,fontProperties:F,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(U,W){return U.eat("/")?(U.skipToEnd(),["comment","comment"]):U.eat("*")?(W.tokenize=R,R(U,W)):["operator","operator"]},"@":function(U){return U.eat("{")?[null,"interpolation"]:U.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(U.eatWhile(/[\w\\\-]/),U.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),n.defineMIME("text/x-gss",{documentTypes:o,mediaTypes:c,mediaFeatures:d,propertyKeywords:k,nonStandardPropertyKeywords:M,fontProperties:F,counterDescriptors:A,colorKeywords:L,valueKeywords:I,supportsAtComponent:!0,tokenHooks:{"/":function(U,W){return U.eat("*")?(W.tokenize=R,R(U,W)):!1}},name:"css",helperType:"gss"})})});var Jb=Ct((Kb,Zb)=>{(function(n){typeof Kb=="object"&&typeof Zb=="object"?n(An()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],n):n(CodeMirror)})(function(n){"use strict";var e={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};n.defineMode("xml",function(o,l){var c=o.indentUnit,f={},d=l.htmlMode?e:i;for(var g in d)f[g]=d[g];for(var g in l)f[g]=l[g];var m,y;function k(S,X){function ee(Pe){return X.tokenize=Pe,Pe(S,X)}var pe=S.next();if(pe=="<")return S.eat("!")?S.eat("[")?S.match("CDATA[")?ee(E("atom","]]>")):null:S.match("--")?ee(E("comment","-->")):S.match("DOCTYPE",!0,!0)?(S.eatWhile(/[\w\._\-]/),ee(F(1))):null:S.eat("?")?(S.eatWhile(/[\w\._\-]/),X.tokenize=E("meta","?>"),"meta"):(m=S.eat("/")?"closeTag":"openTag",X.tokenize=C,"tag bracket");if(pe=="&"){var De;return S.eat("#")?S.eat("x")?De=S.eatWhile(/[a-fA-F\d]/)&&S.eat(";"):De=S.eatWhile(/[\d]/)&&S.eat(";"):De=S.eatWhile(/[\w\.\-:]/)&&S.eat(";"),De?"atom":"error"}else return S.eatWhile(/[^&<]/),null}k.isInText=!0;function C(S,X){var ee=S.next();if(ee==">"||ee=="/"&&S.eat(">"))return X.tokenize=k,m=ee==">"?"endTag":"selfcloseTag","tag bracket";if(ee=="=")return m="equals",null;if(ee=="<"){X.tokenize=k,X.state=T,X.tagName=X.tagStart=null;var pe=X.tokenize(S,X);return pe?pe+" tag error":"tag error"}else return/[\'\"]/.test(ee)?(X.tokenize=M(ee),X.stringStartCol=S.column(),X.tokenize(S,X)):(S.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function M(S){var X=function(ee,pe){for(;!ee.eol();)if(ee.next()==S){pe.tokenize=C;break}return"string"};return X.isInAttribute=!0,X}function E(S,X){return function(ee,pe){for(;!ee.eol();){if(ee.match(X)){pe.tokenize=k;break}ee.next()}return S}}function F(S){return function(X,ee){for(var pe;(pe=X.next())!=null;){if(pe=="<")return ee.tokenize=F(S+1),ee.tokenize(X,ee);if(pe==">")if(S==1){ee.tokenize=k;break}else return ee.tokenize=F(S-1),ee.tokenize(X,ee)}return"meta"}}function N(S){return S&&S.toLowerCase()}function A(S,X,ee){this.prev=S.context,this.tagName=X||"",this.indent=S.indented,this.startOfLine=ee,(f.doNotIndent.hasOwnProperty(X)||S.context&&S.context.noIndent)&&(this.noIndent=!0)}function b(S){S.context&&(S.context=S.context.prev)}function L(S,X){for(var ee;;){if(!S.context||(ee=S.context.tagName,!f.contextGrabbers.hasOwnProperty(N(ee))||!f.contextGrabbers[N(ee)].hasOwnProperty(N(X))))return;b(S)}}function T(S,X,ee){return S=="openTag"?(ee.tagStart=X.column(),I):S=="closeTag"?B:T}function I(S,X,ee){return S=="word"?(ee.tagName=X.current(),y="tag",W):f.allowMissingTagName&&S=="endTag"?(y="tag bracket",W(S,X,ee)):(y="error",I)}function B(S,X,ee){if(S=="word"){var pe=X.current();return ee.context&&ee.context.tagName!=pe&&f.implicitlyClosed.hasOwnProperty(N(ee.context.tagName))&&b(ee),ee.context&&ee.context.tagName==pe||f.matchClosing===!1?(y="tag",R):(y="tag error",U)}else return f.allowMissingTagName&&S=="endTag"?(y="tag bracket",R(S,X,ee)):(y="error",U)}function R(S,X,ee){return S!="endTag"?(y="error",R):(b(ee),T)}function U(S,X,ee){return y="error",R(S,X,ee)}function W(S,X,ee){if(S=="word")return y="attribute",ne;if(S=="endTag"||S=="selfcloseTag"){var pe=ee.tagName,De=ee.tagStart;return ee.tagName=ee.tagStart=null,S=="selfcloseTag"||f.autoSelfClosers.hasOwnProperty(N(pe))?L(ee,pe):(L(ee,pe),ee.context=new A(ee,pe,De==ee.indented)),T}return y="error",W}function ne(S,X,ee){return S=="equals"?q:(f.allowMissing||(y="error"),W(S,X,ee))}function q(S,X,ee){return S=="string"?Z:S=="word"&&f.allowUnquoted?(y="string",W):(y="error",W(S,X,ee))}function Z(S,X,ee){return S=="string"?Z:W(S,X,ee)}return{startState:function(S){var X={tokenize:k,state:T,indented:S||0,tagName:null,tagStart:null,context:null};return S!=null&&(X.baseIndent=S),X},token:function(S,X){if(!X.tagName&&S.sol()&&(X.indented=S.indentation()),S.eatSpace())return null;m=null;var ee=X.tokenize(S,X);return(ee||m)&&ee!="comment"&&(y=null,X.state=X.state(m||ee,S,X),y&&(ee=y=="error"?ee+" error":y)),ee},indent:function(S,X,ee){var pe=S.context;if(S.tokenize.isInAttribute)return S.tagStart==S.indented?S.stringStartCol+1:S.indented+c;if(pe&&pe.noIndent)return n.Pass;if(S.tokenize!=C&&S.tokenize!=k)return ee?ee.match(/^(\s*)/)[0].length:0;if(S.tagName)return f.multilineTagIndentPastTag!==!1?S.tagStart+S.tagName.length+2:S.tagStart+c*(f.multilineTagIndentFactor||1);if(f.alignCDATA&&/<!\[CDATA\[/.test(X))return 0;var De=X&&/^<(\/)?([\w_:\.-]*)/.exec(X);if(De&&De[1])for(;pe;)if(pe.tagName==De[2]){pe=pe.prev;break}else if(f.implicitlyClosed.hasOwnProperty(N(pe.tagName)))pe=pe.prev;else break;else if(De)for(;pe;){var Pe=f.contextGrabbers[N(pe.tagName)];if(Pe&&Pe.hasOwnProperty(N(De[2])))pe=pe.prev;else break}for(;pe&&pe.prev&&!pe.startOfLine;)pe=pe.prev;return pe?pe.indent+c:S.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:f.htmlMode?"html":"xml",helperType:f.htmlMode?"html":"xml",skipAttribute:function(S){S.state==q&&(S.state=W)},xmlCurrentTag:function(S){return S.tagName?{name:S.tagName,close:S.type=="closeTag"}:null},xmlCurrentContext:function(S){for(var X=[],ee=S.context;ee;ee=ee.prev)X.push(ee.tagName);return X.reverse()}}}),n.defineMIME("text/xml","xml"),n.defineMIME("application/xml","xml"),n.mimeModes.hasOwnProperty("text/html")||n.defineMIME("text/html",{name:"xml",htmlMode:!0})})});function JL(){let n=new Set,e=new Map,i=o=>{let l=Ni.default.resolveMode(o),c=[...e.keys()].find(f=>Ei(f,l));return c||(e.set(l,{name:new Set,mime:new Set}),l)};for(let[o,l]of Object.entries(Ni.default.modeToMime)){let c=e.get(i(l));c.mime.add(l),c.name.add(o),n.add(o)}for(let[o,l]of Object.entries(Ni.default.mimeModes)){let c=e.get(i(o));c.mime.add(o),typeof l=="string"&&(c.name.add(l),n.add(l))}for(let[o]of Object.entries(Ni.default.modes))if(!n.has(o)){let l=Ni.default.modes[o];e.has(l)||e.set(l,{name:new Set,mime:[]}),e.get(l).name.add(o)}return[...e.values()].map(o=>({name:[...o.name],mime:[...o.mime]}))}var Ni,cr,KL,ZL,Xb,e0=z(()=>{Ni=dn(An(),1);Wo();cr='let name = "world";\n\nconsole.log(`Hello, ${name}!`);',KL=Function("return num => num + 5")(),ZL=Function('return () => alert("Hello world!")')();Xb={demo:{view:"source",syntax:"js",source:cr},examples:[{title:"Supported syntaxes",beforeDemo:['md:"Following values (for both `name` and `mime`) are supported for `syntax` option:"','html:"<br>"',{view:"table",data:JL,cols:{name:{content:"comma-list:name"},mime:{content:"comma-list:mime"}}},'html:"<br>"',"md:\"More syntaxes may be added via `import 'codemirror/mode/[name]/[name]';`\""],source:!1},{title:"Custom line numbers",highlightProps:["lineNum"],demo:[{view:"source",source:cr,syntax:"js",lineNum:KL},{view:"source",source:cr,syntax:"js",lineNum:"==> $ + 12345"}]},{title:"Hide line numbers",highlightProps:["lineNum"],beforeDemo:['md:"Pass falsy value to `lineNum` option to hide line numbers:"'],demo:{view:"source",source:cr,syntax:"js",lineNum:!1}},{title:"Customise copy source button",beforeDemo:['md:"By default, the `source` view includes a \\"copy to clipboard\\" button. To customize its behavior use the `actionCopySource` option, which accepts the following values:\\n- `true` (default) \u2013 displays a button that copies the entire source to the clipboard;\\n- A function `({ source, syntax, lineNum, refs, ... }) => string` \u2013 displays a button that calls the provided function on click to determine the text to copy;\\n- Anything else \u2013 hides the copy button, i.e. the button is not rendered."'],highlightProps:["actionCopySource"],demo:[{view:"source",actionCopySource:"==> source[0:10]",source:"// In this example, the copy button copies only the first 10 characters of the source"},{view:"source",actionCopySource:!1,source:"// This example demonstrates how to disable the default copy button"}]},{title:"Additional action buttons",highlightProps:["actionButtons"],demo:{view:"source",actionButtons:[{view:"button",content:'text:"Say \\"Hello world\\""',onClick:ZL}],source:cr,syntax:"js"}},{title:"Prelude and postlude slots",highlightProps:["prelude","postlude"],demo:{view:"source",prelude:['text:"Prelude:"',"struct:{ data: $, context: # }"],postlude:['text:"Postlude:"',"struct:{ data: $, context: # }"],source:cr,syntax:"js"}},{title:"Highlight ranges",highlightProps:["refs"],demo:{view:"source",source:cr,syntax:"js",refs:[{range:[4,8]},{range:[21,28],type:"link",href:"#example",tooltip:{position:"trigger",content:['text:"Link to "',"text:href"]}}]}},{title:"Max content size for syntax highlight",highlightProps:["maxSourceSizeToHighlight"],beforeDemo:['md:"By default a syntax highlighing is not appling to a source longer than 250Kb. Option `maxSourceSizeToHighlight` is using to change max size of source to be syntax highlighted."'],demo:{view:"source",source:cr,syntax:"js",maxSourceSizeToHighlight:4}}]}});function XL(n,e){let i=Rr.default.getMode(Rr.default.defaults,{name:Rr.default.modeToMime[n]||n,isDiscoveryViewDefined:o=>e.view.isDefined(o)});return(o,l)=>{let c=Rr.default.startState(i),f=o.split(/(\n|\r\n?)/),d=0;for(let g=0;g<f.length;g++){if(g%2===0){let m=new Rr.default.StringStream(f[g],4,{lookAhead:y=>f[g+y],baseToken:function(){}});for(;!m.eol();){let y=i.token(m,c);y&&l(d+m.start,d+m.pos,y),m.start=m.pos}}d+=f[g].length}}}function eT(n,e){let i=n&&n.className,o=[e,Array.isArray(i)?i.join(" "):typeof i=="string"?i:!1].filter(Boolean).join(" ");return o?` class="${o}"`:""}function t0(n){return`${eT(n,"spotlight")}${n.marker?` data-marker="${n.marker}"`:""}${typeof n.tooltipId=="number"?` data-tooltip-id="${n.tooltipId}"`:""}`}function r0(n){n.view.define("source",async function(e,i,o,l){let c=e.appendChild($("div","view-source__prelude")),f=e.appendChild($("div","view-source__content")),d=e.appendChild($("div","view-source__postlude")),g=new Map,m=[],{source:y,syntax:k,lineNum:C=!0,refs:M,maxSourceSizeToHighlight:E,actionButtons:F,actionCopySource:N,prelude:A,postlude:b}=i,L=typeof o=="string"?{source:o}:o,T={...l,sourceViewProps:{source:y,syntax:k,lineNum:C,refs:M,maxSourceSizeToHighlight:E}};if(typeof y!="string")return;y.length<E&&m.push([XL(k,n),{html:{open({data:ne}){return'<span class="token '+ne+'">'},close(){return"</span>"}}}]),Array.isArray(M)&&m.push([(ne,q)=>M.forEach(Z=>{if(Z.range){let S;Z.tooltip&&g.set(S=g.size,Z),q(Z.range[0],Z.range[1],{type:"spotlight",...Z,tooltipId:S})}}),tT]);let I=typeof C=="function"?C:ne=>ne+1,B=C?'<div class="view-source__lines">'+y.split(/\r\n?|\n/g).map((ne,q)=>"<span>"+I(q)+"</span>").join("")+"</div>":"";f.innerHTML=B+`<div class="view-source__source">${(0,n0.default)(m,"html")(y)}</div>`;let R=$("div","view-source__action-buttons"),U=N!==!0?typeof N=="function"?N:null:(ne,{sourceViewProps:{source:q}})=>q,W=typeof U=="function"?{view:"button",className:"copy",content:[],async onClick(ne){clearTimeout(ne.copiedTimer),await Wt(String(U(T.sourceViewProps))),ne.classList.add("copied"),ne.copiedTimer=setTimeout(()=>ne.classList.remove("copied"),1250)}}:null;f.prepend(R),await n.view.render(R,[F,W],L,T);for(let ne of f.querySelectorAll(":scope [data-tooltip-id]")){let q=g.get(Number(ne.dataset.tooltipId));delete ne.dataset.tooltipId,this.tooltip(ne,q.tooltip,q,l)}A&&await n.view.render(c,A,L,T),b&&await n.view.render(d,b,L,T)},{props:nT,usage:Xb,tag:"pre"})}var n0,Rr,dj,pj,hj,tT,nT,i0=z(()=>{n0=dn(Gb(),1),Rr=dn(An(),1),dj=dn(hf(),1),pj=dn(Qb(),1),hj=dn(Jb(),1);Oe();Jo();e0();Rr.default.modeToMime={js:"application/javascript",ts:"application/typescript",typescript:"application/typescript",json:"application/json",html:"text/html",css:"text/css",scss:"text/x-scss",less:"text/x-less"};tT={html:{open({data:n}){switch(n.type){case"link":return`<a href="${n.href}"${t0(n)}>`;case"spotlight":return`<span${t0(n)}>`}},close({data:n}){switch(n.type){case"link":return"</a>";case"spotlight":return"</span>"}}}},nT=`is not array? | {
    source: #.props has no 'source' ? is string ?: content is string ? content : source,
    syntax,
    lineNum is function ?: is not undefined ? bool() : true,
    refs is array ?: null,
    maxSourceSizeToHighlight is number ?: 250 * 1024, // 250Kb
    actionButtons: undefined,
    actionCopySource is undefined ? true,
    prelude: undefined,
    postlude: undefined
} | overrideProps()`});var o0,s0=z(()=>{o0={demo:{view:"text",data:'"Hello world!"'},examples:[{title:"Shorthand usage",view:'text:"Hello world!"'}]}});function a0(n){n.view.define("text",function(e,{text:i}){e.appendChild(document.createTextNode(String(i)))},{tag:!1,props:(...e)=>n.query(rT,...e),usage:o0})}var rT,l0=z(()=>{s0();rT=`{
    text: #.props has no 'text'?
} | overrideProps()`});var u0,c0=z(()=>{u0={demo:{view:"text-match",data:{text:"I am matched text or a text with matches!",match:/match/}},examples:[{title:"Raw string as match",demo:{view:"text-match",data:{text:"I am matched text or a text with matches!",match:"match"}}},{title:"Using with a link",demo:{view:"link",data:{href:"#"},content:'text-match:{ text: "Test link", match: /\\w+/i }'}},{title:"Various configurations",demo:{view:"table",cols:[{header:"text-match",content:"text-match"},{header:"Config",content:"struct"}],data:[null,{},{},{match:"test"},{match:"Test"},{match:"test",ignoreCase:!0},{match:"Test",ignoreCase:!0},{match:/test/},{match:/test/g},{match:/test/i},{match:/test/,ignoreCase:!0},{match:/test/g,ignoreCase:!0}].map((n,e)=>e>1?{text:"test Test",...n}:n)}}]}});function f0(n){n.view.define("text-match",function(e,i){let{text:o,match:l,ignoreCase:c}=i;lr(String(o),l,f=>e.append(f),f=>e.appendChild(iT.cloneNode()).append(f),c)},{tag:!1,props:oT,usage:u0})}var iT,oT,d0=z(()=>{Oe();ts();c0();iT=$("span","view-text-match"),oT=`is not array? | {
    text: #.props has no 'text' ? text,
    match,
    ignoreCase: ignoreCase or false
} | overrideProps()`});var p0,h0=z(()=>{p0={demo:{view:"text-numeric",data:'"Like a `text` view but adds a thousands separator to integer part of numbers, e.g. 12345678 or 12345.67890"'},examples:[{title:"Shorthand usage",view:"text-numeric:1234567"}]}});function g0(n){n.view.define("text-numeric",function(e,{text:i}){e.innerHTML=Dt(i)},{tag:"span",props:sT,usage:p0})}var sT,m0=z(()=>{Qt();h0();sT=`{
    text: #.props has no 'text'?
} | overrideProps()`});var y0,v0=z(()=>{y0={demo:{view:"context",data:{name:"text",demo:123},content:["text:name","table"]},examples:[{title:"Using with modifiers",demo:{view:"context",modifiers:['h2:"Modifiers"',{view:"input",name:"inputValue"},{view:"select",name:"selectValue",data:["foo","bar","baz"]}],content:['h2:"Values"',"struct:#"]}}]}});function w0(n){n.view.define("context",async function(e,i,o,l){let{modifiers:c=[],content:f=[],proxy:d,onInit:g,onChange:m}=i,y=l,k=null,C=!1;await this.render(e,this.composeConfig(c,{onInit:N,onChange:N}),o,l);let M=e.appendChild(document.createComment('{ view: "context" } content start')),E=e.appendChild(document.createComment('{ view: "context" } content end'));d&&(g||m)&&(f=this.composeConfig(f,{onInit:g,onChange:m})),C=!0,await F();async function F(){let A=E.previousSibling;for(;A&&A!==M;)A=A.previousSibling,A.nextSibling.remove();let b=k=document.createDocumentFragment();await n.view.render(b,f,o,y),b===k&&(n.view.adoptFragment(b,M),M.after(b),k=null)}function N(A,b){b&&(!Ae(y,b)||y[b]!==A)&&(y={...y,[b]:A},C?(F(),d&&typeof m=="function"&&m(A,b)):typeof g=="function"&&g(A,b))}},{tag:!1,props:aT,usage:y0})}var aT,b0=z(()=>{st();v0();aT=`#.props | {
    modifiers is array ?: is truthy ? [$] : [],
    content,
    proxy.bool(),
    onInit,
    onChange
}`});var x0,k0=z(()=>{x0={demo:{view:"switch",data:{enabled:!0},content:[{when:"not enabled",content:'text:"I am disabled"'},{when:"enabled",content:'text:"I am enabled"'}]},examples:[{title:"Using with tabs",demo:{view:"context",modifiers:{view:"tabs",tabs:["foo","bar","baz"],name:"section"},content:{view:"switch",content:[{when:'#.section="foo"',content:'text:"FOO!"'},{when:'#.section="bar"',content:'text:"BAR!!"'},{content:'text:"When no other conditions are met"'}]}}}]}});function C0(n){n.view.define("switch",function(e,i,o,l){let{content:c}=i,f='alert-warning:"No case choosen"';if(Array.isArray(c))for(let d=0;d<c.length;d++){let g=c[d];if(g&&n.queryBool(g.when||!0,o,l)){f="data"in g?{view:"context",data:g.data,content:g.content}:g.content;break}}return n.view.render(e,f,o,l)},{tag:!1,usage:x0})}var D0=z(()=>{k0()});function $f(n,e,i){for(let o in n){if(!Ae(n,o))continue;let l;i.dictMode?(l=i.dictMode,l.count++,l.keys.add(o)):i.properties.has(o)?(l=i.properties.get(o),l.count++):(l={count:1,map:Object.create(null)},i.properties.set(o,l)),Oi(n[o],e-1,l.map)}}function Oi(n,e,i=Object.create(null)){let o=n===null?"null":mn(n)?"array":sr(n)?"set":typeof n;switch(o){default:o in i||(i[o]=new Map),i[o].set(n,(i[o].get(n)||0)+1);break;case"object":"object"in i||(i.object=new Map,i.object.count=0,i.object.properties=e?new Map:null,i.object.dictMode=null,i.object.sortKeys=!1),i.object.count++,i.object.has(n)?i.object.set(n,i.object.get(n)+1):(i.object.set(n,1),e&&$f(n,e,i.object));break;case"array":"array"in i||(i.array=new Map,i.array.count=0,i.array.map=Object.create(null)),i.array.count++,i.array.set(n,(i.array.get(n)||0)+1);for(let l=0;l<n.length;l++)Oi(n[l],e,i.array.map);break;case"set":"set"in i||(i.set=new Map,i.set.count++,i.set.map=Object.create(null)),i.set.count++,i.set.set(n,(i.set.get(n)||0)+1);for(let l of n)Oi(l,e,i.set.map);break}return i}var A0=z(()=>{Ir();st()});var Za,us,Uf=z(()=>{Za=["rgba(83,211,75,0.75)","rgba(241,235,44,0.75)","rgba(244,152,99,0.75)","rgba(148,99,244,0.75)","rgba(44,132,241,0.75)","rgba(233,117,117,0.75)","rgba(85,187,155,0.75)","rgba(151,147,99,0.75)","rgba(216,107,196,0.75)","rgba(108,204,227,0.75)","rgba(164,164,164,0.75)"],us=["null","undefined","string","number","bigint","boolean","symbol","function","array","set","object"]});function Ii(n,e,i,o,l=[],c="",f=null){Object.keys(e).sort((d,g)=>us.indexOf(d)-us.indexOf(g)).forEach((d,g,m)=>{switch(g>0&&n.append(" | "),d){default:{let y=n.appendChild($("span","type",d));i.set(y,{type:"type",context:o,path:l,stat:e,name:d});break}case"object":{let y=e[d],{properties:k,dictMode:C,sortKeys:M}=y;if(k===null){i.set(n.appendChild($("span","expand","{\u2026}")),{type:"expand",context:o,path:l,stat:e,map:e[d],offset:c});break}if(k.size===0){n.appendChild($("span","object","{}"));break}let E=y.size,F=C?[["[key]",C]]:[...k.entries()],N=c+"    ",A=n.appendChild($("span","object",["{",$("span",{"data-action":"collapse"})])),b=$("div",{class:"object-entries",style:`--object-entries-offset: ${c.length}`});k.size>1&&(A.appendChild($("span",{title:"Toggle dictionary mode (collapse all the values in a single signature)","data-action":"dict-mode","data-enabled":C!==null})),F.some(([L],T)=>T!==0&&L<F[T-1][0])&&A.appendChild($("span",{title:"Toggle keys sorting","data-action":"sort-keys","data-enabled":M})),M&&F.sort(([L],[T])=>L<T?-1:L>T?1:0)),i.set(A,{type:"shape",context:o,path:l,map:e[d],offset:c}),(E>1||m.length>1||f!==null&&Object.keys(f).length>1)&&(A.appendChild($("span","count")).dataset.value=String(E));for(let[L,{count:T,map:I}]of F){let B=$("span","property",[L]);i.set(B,{type:"property",context:o,path:l,stat:e,name:L,map:I}),b.append(N),b.append(B),T!==E&&C===null&&B.append($("span","optional","?")),b.append(": "),Ii(b,I,i,o,l.concat(C?"*":L),N),b.append(`;
`)}A.append(b),A.append(c,"}");break}case"array":n.append("["),Ii(n,e[d].map,i,o,l,c),n.append("]");break;case"set":n.append("Set("),Ii(n,e[d].map,i,o,l,c),n.append(")");break}})}var S0=z(()=>{Oe();Uf()});function Bi(n,e){return n.toFixed(e).replace(/\.?0+$/,"")}function E0(n){let e=Math.cos(2*Math.PI*n),i=Math.sin(2*Math.PI*n);return[e,i]}function M0(n){let e=0;return['<svg viewBox="-1 -1 2 2" class="pie">',...n.map(i=>{let[o,l]=E0(e),[c,f]=E0(e+=i.percent),d=i.percent>.5?1:0;return`<path d="${[`M ${o} ${l}`,`A 1 1 0 ${d} 1 ${c} ${f}`,"L 0 0"].join(" ")}" fill="${i.color}" stroke="black" stroke-width=".0025"/>`}),"</svg>"].join(`
`)}function lT(n){let e=0;for(let i in n)n[i].forEach(o=>e+=o);return e}function uT(n){let e=Object.create(null);for(let i in n)e[i]=0,n[i].forEach(o=>e[i]+=o);return e}function L0(n,e,i){let{context:o,path:l,stat:c,name:f}=e,d=c.object,{map:g,count:m}=d.dictMode||d.properties.get(f),y=d.dictMode?d.dictMode.count:d.size,k={name:f,path:i.pathToQuery(l),total:y,count:m,percent:Bi(100*m/y,1)+"%"};i.view.render(n,[{view:"block",when:"path",className:"path",content:"text:path"},{view:"h1",className:"property",content:["text:name",{view:"html",when:"count != total",data:`"<span class=\\"usage-stat optional\\">" + (
                        "(in <span class=\\"num\\">" + count + "</span> of <span class=\\"num\\">" + total + "</span> objects, <span class=\\"num\\">" + percent + "</span>)"
                    ) + "</span>"`}]}],k,o),T0(n,{context:o,map:g,count:m},i)}function T0(n,{context:e,map:i,count:o},l){let c=uT(i),f=[],d=us.filter(g=>g in i);Object.entries(c).sort(([,g],[,m])=>m-g).forEach(([g,m],y)=>{f.push({name:Xe(g),count:m,percent:m/o,percent100:Bi(100*m/o,1),color:Za[y]})}),l.view.render(n,{view:"block",when:"typeStat.size() > 1",data:"typeStat",className:"pie-stat",content:[{view:"block",content:{view:"html",data:M0}},{view:"block",content:['html:"<span class=\\"list-header\\">Types usage:</span>"',{view:"list",item:`html:
                            "<span class=\\"dot\\" style=\\"--size: 10px; background-color: " + color + "\\"></span> " +
                            "<span class=\\"caption\\">" + name + "</span>" +
                            "<span class=\\"times\\"> \xD7 " + count + " (" + percent100 + "%)</span>"
                        `}]}]},f,e),d.forEach(g=>Gf(n,{context:e,name:g,stat:i},l))}function Gf(n,e,i){let o=e.context,l=e.stat[e.name],c=lT(e.stat),f=[],d=[],g;switch(e.name){case"number":{let m=[],y=0,k=0,C=0,M=1/0,E=-1/0;l.forEach((F,N)=>{m.push({count:F,value:N}),y+=N*F,k+=F,F>1&&C++,N<M&&(M=N),N>E&&(E=N)}),g={type:e.name,count:k,distinct:l.size,duplicated:C,min:M,max:E,sum:y,avg:Bi(y/k,3),values:m.sort((F,N)=>N.count-F.count||F.value-N.value)},g.distinct>1&&f.push({view:"block",className:"overview-stat",content:`html:
                        "range: (min) <span class=\\"num\\">" + min + "</span> ... " +
                        "<span class=\\"num\\">" + max + "</span> (max), " +
                        "avg: <span class=\\"num\\">" + avg + "</span>"
                    `});break}default:{let m=[],y=0,k=0;l.forEach((C,M)=>{m.push({count:C,value:M}),y+=C,C>1&&k++}),g={type:e.name,count:y,distinct:l.size,duplicated:k,values:e.name==="object"||e.name==="array"||e.name==="set"?m.sort((C,M)=>M.count-C.count):m.sort((C,M)=>M.count-C.count||C.value>M.value||-(C.value<M.value))};break}}if(e.name!=="undefined"&&e.name!=="null"){if(f.unshift({view:"block",className:"overview-stat",content:['html:"<span class=\\"num\\">" + count + "</span> " + (count > 1 ? "values, " : "value")',{view:"switch",when:"count > 1",content:[{when:"distinct = 1",content:'text:"a single unique value:"'},{when:"distinct = count",content:'text:"all unique, no duplicates"'},{content:['html:"<span class=\\"num\\">" + distinct + "</span> unique, "','html:duplicated = distinct ? "all occur more than once" : "<span class=\\"num\\">" + duplicated + "</span> occur more than once"']}]}]}),g.values.length>1&&g.duplicated&&e.name!=="object"&&e.name!=="set"&&e.name!=="array"){let m=[],y=g.values.length===10?10:Math.min(9,g.values.length),k=0;for(let C=0;C<y;C++){let{count:M,value:E}=g.values[C];k+=M,m.push({name:Xe(String(E)),count:M,percent:M/g.count,percent100:Bi(100*M/g.count,1),color:Za[C]})}if(m.length){let C=g.count-k;C>0&&m.push({name:"...",count:C,percent:C/g.count,percent100:Bi(100*C/g.count,1),color:Za[m.length]}),d.push({view:"button",className:"group",when:"#.actions | queryAcceptChanges and querySubquery",onClick(M,E,F){let N=E.path?[...E.path]:[],A=N.pop(),b=i.pathToQuery(N),L=F.rootData;F.actions.queryAcceptChanges(L)&&F.actions.querySubquery(`${b}${b?".group(":"group("}=>${i.pathToQuery([A])}).sort(value.size() desc)`,L)}}),f.push({view:"block",className:"pie-stat",data:m,content:[{view:"block",content:{view:"html",data:M0}},{view:"block",content:['html:"<span class=\\"list-header\\">Dominators:</span>"',{view:"list",item:`html:
                                        "<span class=\\"dot\\" style=\\"--size: 10px; background-color: " + color + "\\"></span> " +
                                        "<span class=\\"caption\\" title=\\"" + name + "\\">" + name + "</span>" +
                                        "<span class=\\"times\\"> \xD7 " + count + " (" + percent100 + "%)</span>"
                                    `}]}]})}}g.values.length>1?(e.name==="number"||e.name==="string")&&f.push({view:"content-filter",name:"filter",data:"values.sort(value ascN)",content:{view:e.name==="string"?"list":"menu",className:"struct-list",data:".[no #.filter or value~=#.filter]",emptyText:"Nothing matched",item:[e.name==="string"?{view:"struct",data:"value",match:"=#.filter"}:{view:"block",className:"caption",content:"text-match:{ text: value, match: #.filter }"},{view:"block",when:"count > 1",className:"count",content:'text:" \xD7 " + count'}]}}):(e.name==="number"||e.name==="string"||e.name==="boolean")&&f.push({view:"struct",data:"values[].value"}),e.name==="object"&&f.push({view:"list",className:"struct-list",data:"values",item:["struct:value",{view:"block",when:"count > 1",className:"count",content:'text:" \xD7 " + count'}]}),(e.name==="array"||e.name==="set")&&Object.keys(l.map).length&&f.push({view:"block",className:e.name==="array"?"array-types":"set-types",postRender(m){T0(m,{...l,context:o},i)}})}i.view.render(n,[{view:"block",when:"path",className:"path",data:m=>i.pathToQuery(m.path),content:"text"},{view:"block",className:"signature-action-buttons",content:d},{view:"h1",className:"type",content:["text:name",`html:"<span class=\\"usage-stat\\">" + (
                    count = total
                        ? "only this type is used"
                        : "used in <span class=\\"num\\">" + count + "</span> of <span class=\\"num\\">" + total + "</span> cases (<span class=\\"num\\">" + percent + "</span>)"
                ) + "</span>"`]},...f],{...g,name:e.name,path:e.path,total:c,percent:Bi(100*g.count/c,1)+"%"},o)}var F0=z(()=>{Qt();Uf()});var N0,O0=z(()=>{N0={beforeDemo:['md:"The `signature` view is used to output a type definition for current data using TypeScript like style:"'],demo:{view:"signature",expanded:!0}}});function I0(n){let e=new WeakMap,i=({target:o})=>{let l="expand",c=o.closest(`
            .view-signature .expand,
            .view-signature [data-action]
        `);if(!c)return;c.dataset.action&&(l=c.dataset.action,c=c.parentNode);let f=e.get(c);if(f){let{context:d,path:g,stat:m,map:y,offset:k}=f,C=document.createDocumentFragment();switch(l){case"sort-keys":y.sortKeys=!y.sortKeys;break;case"dict-mode":if(y.dictMode)y.dictMode=null;else{let M=y.dictMode={keys:new Set,count:0,map:Object.create(null)};y.forEach((E,F)=>{for(let N in F)Ae(F,N)&&(M.keys.add(N),M.count++,Oi(F[N],1,M.map))})}break;default:y.properties===null?(y.properties=new Map,y.forEach((M,E)=>$f(E,1,y))):y.properties=null}Ii(C,{object:y},e,d,g,k,m),c.replaceWith(C)}};n.addHostElEventListener("click",i,!1),new n.view.Popup({className:"signature-details",hoverPin:"trigger-click",hoverTriggers:`
            .view-signature .property,
            .view-signature .type
        `,render(o,l){let c=e.get(l);switch(c.type){case"property":return L0(o,c,n);case"type":return Gf(o,c,n)}}}),n.view.define("signature",function(o,l,c,f){let{expanded:d,path:g}=l,m=Oi(c,d),y=Array.isArray(g)?g:void 0,k="rootData"in l?l.rootData:!y||y.length===0?c:void 0;Ii(o,m,e,{...f,rootData:k},y)},{usage:N0})}var B0=z(()=>{st();A0();S0();F0();O0()});function $t(n,e){return`<span class="${n}">${e}</span>`}function Vf(n){return $t("more",`\u2026 ${Dt(n)} more`)}function Pi(n){return Xe(ji(n))}function ji(n){return/[^\x20\x21\x23-\x5B\x5D-\uD799]/.test(n)?JSON.stringify(n).slice(1,-1):n}function Hr(n,e,i){switch(typeof n){case"boolean":case"undefined":return $t("keyword",String(n));case"number":case"bigint":return $t("number",Dt(n));case"symbol":return $t("symbol",String(n));case"function":return"\u0192n";case"string":{let o=n.length,l=e?i.maxCompactStringLength:i.maxStringLength,c=o>l+i.allowedExcessStringLength,f="",d="",g="";if(c){if(i.match){let m=[],y=l>30?10:5,k=l-y,C=0,M=-1;if(lr(n,i.match,E=>{C+=E.length},(E,F)=>{if(M===-1&&(M=C+k),C<M&&m.push({start:C,end:C+E.length}),C+=E.length,C>M)return F}),m.length>0){let E=m[0].start,F=l;if(E!==0){let N=ji(n.slice(0,E));if(E>y){let b=y-2;d=$t("more prefix",""),f=N.slice(-b),F-=y}else f=N}for(let N=0;N<m.length&&F>0;N++){let{start:A,end:b}=m[N],L=Math.min(b-A,F);if(f+=$t("match",Pi(n.slice(A,A+L))),F-=L,F>0){let T=N+1>=m.length,I=T?n.length:m[N+1].start,B=Math.min(I-b,F);if(T){let R=n.length-(b+B);R>0&&(g=$t("more suffix",Dt(R)))}B>0&&(f+=Pi(n.slice(b,b+B)),F-=B)}}}}f===""&&(f=Pi(n.slice(0,l)),g=$t("more suffix",Dt(o-l)))}else i.match?lr(n,i.match,m=>{f+=Pi(m)},m=>{f+=$t("match",Pi(m))}):f=Pi(n);return $t("string",!e&&(n[0]==="h"||n[0]==="/")&&cT.test(n)?`"${d}<a href="${Xe(n)}" target="_blank">${f}</a>${g}"`:`"${d}${f}${g}"`)}case"object":{if(n===null)return $t("keyword","null");if(mn(n)){let f=n.length,d=i.limitCollapsed===!1||i.limitCollapsed>f?f:i.limitCollapsed,g=Array.from({length:d},(m,y)=>Hr(n[y],!0,i));return f>d&&g.push(`${Vf(f-d)} `),`[${g.join(", ")}]`}switch(pn(n)){case"[object Set]":{let f=n.size,d=i.limitCollapsed===!1||i.limitCollapsed>f?f:i.limitCollapsed,g=n.values(),m=Array.from({length:d},()=>Hr(g.next().value,!0,i));return f>d&&m.push(`${Vf(f-d)} `),`[${m.join(", ")}]`}case"[object Date]":return $t("date",String(n));case"[object RegExp]":return $t("regexp",String(n))}if(e&&i.limitCompactObjectEntries===0){for(let f in n)if(Ae(n,f))return"{\u2026}";return"{}"}let o=e?i.limitCompactObjectEntries===!1?1/0:i.limitCompactObjectEntries:i.limitCollapsed===!1?1/0:i.limitCollapsed,l=[],c=0;for(let f in n)if(Ae(n,f)){if(c<o){let d=Xe(f.length>i.maxCompactPropertyLength?f.slice(0,i.maxCompactPropertyLength)+"\u2026":f);l.push(`${$t("property",d)}: ${Hr(n[f],!0,i)}`)}c++}return c>o&&l.push(Vf(c-o)),l.length?`{ ${l.join(", ")} }`:"{}"}default:return`unknown type "${typeof n}"`}}var cT,Yf=z(()=>{Qt();st();Ir();ts();cT=/^(?:https?:)?\/\/(?:[a-z0-9\-]+(?:\.[a-z0-9\-]+)+|\d+(?:\.\d+){3})(?:\:\d+)?(?:\/\S*?)?$/i});var P0,j0=z(()=>{Yf();P0=(n,e,i,o,l,c,f)=>({target:d})=>{let g="expand",m=d.closest(`
        .view-struct.struct-expand,
        .view-struct .struct-expand-value,
        .view-struct .struct-action-button
    `);if(m)switch(m.dataset.action&&(g=m.dataset.action),g){case"expand":m.classList.contains("struct-expand")&&(m=m.lastChild),n(m,0),i(),m.parentNode.classList.add("struct-expanded-value"),l.has(m.parentNode)&&m.parentNode.classList.remove("struct-expand");break;case"collapse":m=m.parentNode,e(m),i(),m.parentNode.classList.remove("struct-expanded-value"),m.classList.remove("view-as-table"),l.has(m.parentNode)&&m.parentNode.classList.add("struct-expand");break;case"show-signature":f.show(m);break;case"value-actions":c.show(m);break;case"toggle-sort-keys":n(m.parentNode,0,m.parentNode.classList.toggle("sort-keys")),i();break;case"toggle-string-mode":{m=m.parentNode;let y=m.classList.toggle("string-value-as-text");for(let k=m.querySelector(".string-text").firstChild;k!==null;k=k.nextSibling){let C=k.nodeType===3?k:k.firstChild,M=C.nodeValue;if(y)M.indexOf("\\")!==-1&&(C.nodeValue=JSON.parse(`"${M}"`));else{let E=ji(M);E!==M&&(C.nodeValue=E)}}break}case"toggle-view-as-table":m=m.parentNode,m.classList.toggle("view-as-table")?o(m):m.querySelector(":scope > .view-table")?.remove();break}}});function z0(n){return n?", "+Dt(n)+" bytes":""}function fT(n){for(;n.parent!==null;)n=n.parent;return n.host[""]}function R0(n,e,i,o){return new n.view.Popup({className:"view-struct-actions-popup",render(l,c,f){let d=c.parentNode,g=e.get(d),m=[];if(typeof g=="string")m=[{text:"Copy as quoted string",action:()=>Wt(JSON.stringify(g))},{text:"Copy as unquoted string",action:()=>Wt(JSON.stringify(g).slice(1,-1))},{text:"Copy a value (unescaped)",action:()=>Wt(g)}];else{let y=n.pathToQuery(o(d)),k=1024*1024*1024,C=!1,M=!1,E=0,F=0;try{let{bytes:N,spaceBytes:A,circular:b}=Ao(g,{space:4});b.length?(C="Converting circular structure to JSON",M="Converting circular structure to JSON"):(E=N-A,F=N+2,E>k&&(M="Resulting JSON is over 1 Gb"),F>k&&(C="Resulting JSON is over 1 Gb"))}catch(N){M=C=/Maximum call stack size|too much recursion/i.test(N.message)?"Too much nested structure":N.message}if(M&&(M="Can't be copied: "+M),C&&(C="Can't be copied: "+C),y){m.push({text:"Copy path:",notes:Xe(y),action:()=>Wt(y)});let N=i.get(d),A=fT(N);n.action.has("queryAcceptChanges")&&n.action.call("queryAcceptChanges",A)&&(n.action.has("querySubquery")&&m.push({groupStart:!0,text:"Create a subquery from the path",action:()=>n.action.call("querySubquery",y,A)}),n.action.has("queryAppend")&&m.push({text:"Append path to current query",action:()=>n.action.call("queryAppend",y,A)}))}m.push({groupStart:!0,text:"Copy as JSON",notes:`(formatted${z0(F)})`,error:C,disabled:!!C,action:()=>Wt(JSON.stringify(g,null,4))}),m.push({text:"Copy as JSON",notes:`(compact${z0(E)})`,error:M,disabled:!!M,action:()=>Wt(JSON.stringify(g))})}n.view.render(l,{view:"menu",onClick(y){f(),y.action()},itemConfig:{className:'=groupStart ? "group-start" : null'},item:["html:text",{view:"block",when:"notes",className:"notes",content:"html:notes"},{view:"block",when:"error",className:"error",content:"text:error"}]},m)}})}var H0=z(()=>{Qt();es();Jo()});function Qf(n,e){return Array.isArray(n)?Array.isArray(e)?n.concat(e):n:e}function Ja(n){return Array.isArray(n)&&n.length>0?n.map(e=>typeof e=="string"||typeof e=="function"?{query:e}:e):!1}function _0(n){return Ja([...n.objectMarkers.values].map(({name:e,lookup:i})=>(o,l)=>{let c=i(o,!0);if(c!==null&&c.object!==l.host)return{place:"before",style:"badge",text:e,href:c.href}}))}function W0(n,e){return Qf(e,Ja(n))}function pT(n){return dT.includes(n)}function $0(n){let e=Date.now()+8,i=0;for(;i<n.length&&!(Date.now()>e);i++){let{el:o,config:l,renderer:c,data:f,context:d}=n[i],{place:g="after",className:m,text:y,icon:k,href:C,external:M,tooltip:E}=l,F=pT(l.style)?l.style:g==="before"?"none":"default",N=y===void 0?typeof l!="object"?String(l):"":String(y),A=N!=="",b=["value-annotation","style-"+F,g==="before"?"before":"after",A?"has-text":"",m||""].join(" "),L=$(C?"a":"span",{class:b,href:typeof C=="string"?C:void 0,target:M?"_blank":void 0});if(A&&(/\d{4}/.test(N)?L.innerHTML=Dt(N):L.append(N)),typeof k=="string"&&(L.classList.add("icon"),/^[a-z_$][a-z0-9_$-]*$/i.test(k)?L.classList.add("icon-"+k):L.style.setProperty("--annotation-image",`url("${k}")`)),E&&c.tooltip(L,E,f,{...d,config:l}),g==="before")o.before(L);else{let T=o.parentNode,I=q0.get(o);I===void 0&&(q0.set(o,I=$("span","value-annotations")),T.classList.contains("struct-expanded-value")?o.querySelector(":scope > .value-size, :scope > .string-length")?.after(I):T.append(I)),I.append(L)}}n.splice(0,i)}var dT,q0,U0=z(()=>{Oe();Qt();dT=["none","default","badge"],q0=new WeakMap});var G0,V0,Y0=z(()=>{G0={level_1:{level_2_1:{level_3_1:{level_4_1:{}},level_3_2:2,level_3_3:3,level_3_4:4,level_3_5:5,level_3_6:6},level_2_2:[{foo:1,bar:2},{foo:3}],level_2_3:3,level_2_4:4,level_2_5:5,level_2_6:6},level_1_2:2,level_1_3:3,level_1_4:4,level_1_5:5,level_1_6:6,level_1_7:7},V0={beforeDemo:['md:"View to display the structure of any value. This is the simplest yet powerful way to enable data exploration."'],demo:{view:"struct",data:{foo:"bar",baz:[1,2,3]}},examples:[{title:"Default expanded depth",highlightProps:["expanded"],beforeDemo:['md:"By default `struct` view is collapsed in one line. The `expanded` option is using to specify an initial expanded depth. A value for the option can be a boolean (`false` \u2192 `0`, `true` \u2192 `1`) or a positive number."'],demoData:G0,demo:['badge:"Default (expanded option is not used)"',{view:"struct"},'badge:"expanded = true"',{view:"struct",expanded:!0},'badge:"expanded = 2"',{view:"struct",expanded:2}]},{title:"Annotations",highlightProps:["annotations"],beforeDemo:[{view:"md",source:["Clarity of data can be improved by adding annotations. An annotation is special marker before or after a value which displaying for expanded objects and arrays only.","Any number of annotations can be applied to a single value.","","Annotations are adding with `annotations` option which should contain an array of strings (jora queries) and functions to compute an annotation config. An annotation config is an object with following fields:","```ts","type AnnotationConfig = {",'   place?: "before" | "after"; // the placement of an annotation, "after" is by default','   style?: "none" | "badge" | "default"; // appereance of annotation, "default" is by default',"   className?: string;         // a class to add to an annotation element","   text?: any;                 // text content of an annotation element","   icon?: string;              // name of icon or url to an image","   href?: string;              // annotation is a link and that's an URL","   external?: boolean;         // open a link in new tab, make sence when `href` is specified only","   tooltip?: TooltipConfig;    // configuration for a tooltip, the same as for any view","}","```","",'An annotation is not displayed (not rendered) when computed annotation config is a falsy value. Any other value (truthy, but not an object) is used as value for `text` option, i.e. `"example"` is the same as `{ text: "example" }`.',"","In addition to a string or function, an object can be used as an element of `annotations` array","* `query` \u2013 a string (jora query) or a function to compute an annotation config","* `debug` (optional) - when truthy a debug information is output to the console; when value is a string, it's used in debug message"]}],demoData:{items:[{id:1,value:"example"},{id:2,value:"bar"},{id:3,value:"baz"}],"annotation styles":["none","default","badge"]},demo:{view:"struct",expanded:3,annotations:['#.key = "items" ? { place: "before", style: "badge", text: "view as table", tooltip: "table" } : null',`$ ~= /az/ and "Value has 'az' substring!"`,'$ in ["none", "default", "badge"] and { style: $, place: "before", text: $ + " before" }','$ in ["none", "default", "badge"] and { style: $, text: $ + " after" }']}},{title:"Limit number of array elements and object entries",beforeDemo:{view:"md",source:["The following options define the maximum number of elements in array or entries in object:","* `limit` (default: `50`) \u2013 max number of elements/entries for expanded array/object","* `limitCollapsed` (default: `4`) \u2013 max of elements/entries for collapsed array/object","* `limitCompactObjectEntries` (default: `0`) \u2013 max number of entries in a object which appears in a collapsed array or object","","> Use `false` for any of these options to disable a limitation"]},highlightProps:["limit","limitCollapsed","limitCompactObjectEntries"],demoData:G0,demo:{view:"struct",limit:4,limitCollapsed:1,expanded:2}},{title:"Maximum length for strings",beforeDemo:{view:"md",source:["The following options define the maximum string length in various cases:","* `maxStringLength` (default: `150`) \u2013 max string length when a host value is expanded","* `maxCompactStringLength` (default: `40`) \u2013 max of string length when a host value is collapsed",'* `allowedExcessStringLength` (default: `10`) \u2013 allowed excess in length before a string will be cut and \\"N more\\" label will be added',"* `maxPropertyLength` (default: `Infinity`) \u2013 max of property name length","* `maxCompactPropertyLength` (default: `35`) \u2013 max of property name length in collapsed objects","","> Expand and collapse `level2` branch to see difference in a value presentation"]},highlightProps:["maxStringLength","maxCompactStringLength","allowedExcessStringLength","maxPropertyLength","maxCompactPropertyLength"],demo:{view:"struct",maxStringLength:30,maxCompactStringLength:10,allowedExcessStringLength:5,maxPropertyLength:30,maxCompactPropertyLength:15,expanded:1},demoData:{stringsInExpandedObject:"Quite a long string value Quite a long string value",string_34_chars:"String with 34 chars length demo x",string_35_chars:"String with 35 chars length demo xx",string_36_chars:"String with 36 chars length demo xxx",very_very_very_very_very_very_very_very_very_very_long_property_name:"a property name should be truncated due to settings, but will not be by default",level2:{stringsInCollapsedObject:"Quite a long string value Quite a long string value",string_14_chars:"Short string x",string_15_chars:"Short string xx",string_16_chars:"Short string xxx"}}}]}});var tn,Q0,K0,Z0,J0,X0,ex,tx,nx=z(()=>{Oe();tn={get collapse(){return $("span",{class:"struct-action-button struct-collapse-value","data-action":"collapse"})},get signature(){return $("span",{class:"struct-action-button show-signature","data-action":"show-signature"})},get actions(){return $("span",{class:"struct-action-button",title:"Value actions","data-action":"value-actions"})},get stringMode(){return $("span",{class:"struct-action-button",title:"Toggle string show mode","data-action":"toggle-string-mode"})},get viewAsTable(){return $("span",{class:"struct-action-button",title:"Toggle view as table","data-action":"toggle-view-as-table"})},get sortKeys(){return $("span",{class:"struct-action-button",title:"Toggle key sorting","data-action":"toggle-sort-keys"})}},Q0=Dr('"',tn.collapse,tn.actions,tn.stringMode,$("span","string-length"),$("span","string-text-wrapper",[$("span","string-text")]),'"'),K0=Dr("[",tn.collapse,tn.signature,tn.actions,tn.viewAsTable,$("span","value-size"),"]"),Z0=Dr("{",tn.collapse,tn.signature,tn.actions,tn.viewAsTable,tn.sortKeys,$("span","value-size"),"}"),J0=$("div","entry-line"),X0=$("span","value"),ex=$("span","match"),tx=$("span","label",["\xA0\xA0\xA0\xA0",$("span","property"),":\xA0"])});function hT(n){for(;n.parent!==null;)n=n.parent;return n.host[""]}function rx(n,e,i,o,l){return new n.view.Popup({className:"view-struct-signature-popup",hoverPin:"popup-hover",hoverTriggers:".view-struct .show-signature",showDelay:50,render(c,f){let d=f.parentNode,g=e.get(d),m=i.get(d),y=o.get(d)||{};c.classList.add("computing"),setTimeout(()=>{n.view.render(c,{view:"signature",expanded:2,rootData:hT(m),path:l(d)},g,y.context).then(()=>c.classList.remove("computing"))},16)}})}var ix=z(()=>{});function cs(n,e){return typeof n=="number"&&isFinite(n)&&n>=1?parseInt(n,10):e}function sx(n,e){if(typeof n=="string")return n.length>e.maxStringLength||/[\r\n\f\t]/.test(n);if(mn(n))return n.length>0;if(typeof n=="object"&&n!==null)switch(pn(n)){case"[object Set]":return n.size>0;case"[object Object]":for(let i in n)if(Ae(n,i))return!0}return!1}function Kf(n,e){n.appendChild(document.createTextNode(e))}function ax(n,e,i){e>1&&(n.lastElementChild.innerHTML=Dt(e)+" "+i)}function kT(n,e,i){e.length<2||e.every(([l],c)=>c===0||l>e[c-1][0])?n.querySelector('[data-action="toggle-sort-keys"]').remove():i&&e.sort(([l],[c])=>l<c?-1:l>c?1:0)}function CT(n,e,i){let o=tx.cloneNode(!0),l=e.length>i?e.slice(0,i)+"\u2026":e;Kf(o.firstElementChild,l),n.appendChild(o)}function lx(n){function e(I){let B=C.get(I),R=y.get(I);I.classList.add("struct-expand-value"),I.innerHTML=Hr(R,!1,B),I.annotationsEl&&I.parentNode.append(I.annotationsEl)}function i(I,B,R){let U=y.get(I);if(I.classList.remove("struct-expand-value"),typeof U=="string"){let W=C.get(I),ne=Q0.cloneNode(!0),q=ne.lastChild.previousSibling,Z=q.firstChild,S=q.previousSibling,X=ji(U);S.innerHTML=`length: ${Dt(X.length)} chars`,W.match?lr(U,W.match,ee=>Z.append(JSON.stringify(ee).slice(1,-1)),ee=>Z.appendChild(ex.cloneNode()).append(JSON.stringify(ee).slice(1,-1))):Kf(Z,X),I.replaceChildren(ne),d(I,S)}else if(mn(U)||sr(U)){let W=k.get(I),ne=C.get(I),q=typeof U.size=="number"?U.size:U.length;I.replaceChildren(K0.cloneNode(!0)),ax(I,q,"elements"),d(I,I.lastElementChild),l(I,I.lastChild,U.values(),q,(Z,S,X)=>{X>0&&X%10===9&&(Z.dataset.index=X+1),o(Z,S,B,ne,Object.freeze({parent:W,host:U,key:X,index:X}))},0,ne.limit)}else{let W=k.get(I),ne=C.get(I),q=Object.entries(U);I.replaceChildren(Z0.cloneNode(!0)),ax(I,q.length,"entries"),d(I,I.lastElementChild),kT(I,q,R),l(I,I.lastChild,q.values(),q.length,(Z,[S,X],ee)=>{ee>0&&ee%10===9&&(Z.dataset.index=ee+1),CT(Z,S,ne.maxPropertyLength),o(Z,X,B,ne,Object.freeze({parent:W,host:U,key:S,index:ee}))},0,ne.limit)}}function o(I,B,R,U,W){let ne=sx(B,U),q=X0.cloneNode(!0);y.set(q,B),k.set(q,W),C.set(q,U),ne&&typeof B!="string"&&R?(I.classList.add("struct-expanded-value"),i(q,R-1)):(ne&&q.classList.add("struct-expand-value"),q.innerHTML=Hr(B,!1,U)),g(q,B,U,W),I.appendChild(q)}function l(I,B,R,U,W,ne=0,q=ox){q===!1&&(q=1/0);let Z=document.createDocumentFragment(),S=U-1,X=0;for(;X<q;X++,ne++){let{done:ee,value:pe}=R.next();if(ee)break;let De=J0.cloneNode(!0);W(De,pe,ne),ne!==S&&Kf(De,","),Z.appendChild(De)}I.insertBefore(Z,B),n.view.maybeMoreButtons(I,B,U,ne,q,(ee,pe)=>l(I,B,R,U,W,ee,pe))}function c(I){let B=C.get(I),R=y.get(I);!mn(R)&&!sr(R)&&(R=Object.entries(R).map(([U,W])=>({"[key]":U,"[value]":W}))),n.view.render(I,"table",R,B.context),I.append(I.lastChild.previousSibling)}function f(I){let B=[],R=k.get(I);for(;R!==null&&R.parent!==null;)B.unshift(R.key),R=R.parent;return B}function d(I,B){I.annotationsEl&&B.after(I.annotationsEl)}function g(I,B,R,U){if(R.annotations.length){for(let W of R.annotations)try{let{query:ne,debug:q}=W,Z={...U,context:R.context},S=n.query(ne,B,Z);q&&n.logger.info(`Compute struct view annotation${typeof q=="string"?` "${q}"`:""}:`,{data:B,context:Z,query:ne,queryResult:S}),S&&E.push(S.tooltip?{el:I,config:S,renderer:R.renderer,data:B,context:Z}:{el:I,config:S})}catch(ne){n.logger.error(ne.message)}m()}}function m(){A===null&&E.length&&(A=Promise.resolve().then(()=>{A=null,$0(E),E.length&&m()}))}let y=new WeakMap,k=new WeakMap,C=new WeakMap,M=new WeakSet,E=[],F=_0(n),N=F,A=null,b=R0(n,y,k,f),L=rx(n,y,k,C,f),T=P0(i,e,m,c,M,b,L);return n.addHostElEventListener("click",T,!1),n.legacyPrepare||n.action.define("setStructViewAnnotations",I=>{N=Qf(F,Ja(I))}),n.view.define("struct",function(I,B,R,U){let{annotations:W,match:ne,expanded:q,limit:Z,limitCollapsed:S,limitCompactObjectEntries:X,maxStringLength:ee,maxCompactStringLength:pe,allowedExcessStringLength:De,maxPropertyLength:Pe,maxCompactPropertyLength:et}=B,nt=W0(W,n.legacyPrepare?n.annotations:N),Ye={renderer:this,context:U,annotations:nt||[],match:Xo(ne)||typeof ne=="string"?ne:null,limit:n.view.listLimit(Z,ox),limitCollapsed:n.view.listLimit(S,gT),limitCompactObjectEntries:n.view.listLimit(X,mT),maxStringLength:cs(ee,yT),maxCompactStringLength:cs(pe,vT),allowedExcessStringLength:cs(De,wT),maxPropertyLength:cs(Pe,bT),maxCompactPropertyLength:cs(et,xT)};M.add(I),o(I,R,q,Ye,{parent:null,host:{"":R},key:"",index:0}),m(),(!q||typeof R=="string")&&sx(R,Ye)&&I.classList.add("struct-expand")},{usage:V0}),()=>{document.removeEventListener("click",T,!1)}}var ox,gT,mT,yT,vT,wT,bT,xT,ux=z(()=>{Qt();Ir();st();j0();H0();Yf();U0();Y0();nx();ix();ts();ox=50,gT=4,mT=0,yT=150,vT=40,wT=10,bT=1/0,xT=35});var zi,cx,fx=z(()=>{zi=[{name:"Alice",age:34,occupation:"Engineer"},{name:"Bob",age:42,occupation:"Doctor"},{name:"Charlie",age:9,occupation:"Student"},{name:"David",age:50,occupation:"Doctor"},{name:"Eve",age:15,occupation:"Engineer"}],cx={beforeDemo:['md:"A view to display tabular data, usually an array of objects. When no column setup is provided, it infers columns from all keys of objects in the input data and auto-detects sorting for scalar values."'],demo:{view:"table"},demoData:[{foo:1,bar:"bar",baz:"zab"},{foo:2,baz:"xyz"},{foo:3,bar:"qux",baz:"baz"},{foo:4,bar:"aaa",baz:"abc"}],examples:[{title:"Columns setup",beforeDemo:{view:"md",source:["To set up columns, the `cols` property is used. When an array of objects is used for `cols`, it specifies the exact set of columns. Each object contains a configuration for the `table-cell` view with additional properties that apply at the table level:\n","- `header` \u2013 a text for the column header\n","- `headerClassName` - specifies className for a header cell, works as `className` for any view (i.e. can be a string, an array, a function, etc.)\n","- `sorting` \u2013 a sorting function or query for the column\n"]},highlightProps:["cols","header","headerClassName","sorting"],demo:{view:"table",cols:[{header:"Name",sorting:"name asc",data:"name"},{header:"Age",headerClassName:"age",className:"number",content:'text:age + " y.o."'}]},demoData:zi},{title:"Adjastments of infered columns",beforeDemo:{view:"md",source:["In cases where adjustments are needed for inferred columns, an object can be used for the `cols` option, where each key is the name of a property from the objects:","- If a key is missing from the inferred columns, a new column is added with the specified configuration.","- If a key matches one of the inferred columns:","  - If the specified configuration is falsy (i.e., `null`, `undefined`, or `false`), then the column is omitted.","  - Otherwise, options from the specified configuration override properties of the inferred configuration.","","> When specified configuration is a string, it expands into object `{ content: value }`.","The default inferred configuration:","```js","{","    header: key,","    sorting: `$[${JSON.stringify(key)}] ascN`,",'    view: "table-cell",',"    data: value => value?.[key]","}","```",'[test]({{"table".pageLink("views-showcase")}})'].join(`
`)},afterDemo:["struct:#.id.pageLink(#.page, #.params)"],highlightProps:["cols"],demo:{view:"table",cols:{age:'text:age + " y.o."',occupation:!1,extraColumn:{header:"Extra column",content:'text:age >= 21 ? "Adult" : "Child"'}}},demoData:zi},{title:"Sorting",beforeDemo:{view:"md",source:['To specify a sorting function, use the `sorting` property in the column options. When a value for `sorting` is set, the column becomes sortable, allowing users to toggle sorting by clicking the column header. The value can be a function `(a, b) => number` or a string representing a jora query that returns a [comparator function](https://discoveryjs.github.io/jora/#article:jora-syntax-functions&!anchor=comparator-functions) (e.g., "name asc, complex.expression desc"), otherwise the value ignores. The function should take two rows\' data (`a` and `b`) and return a negative number if `a` is less than `b`, a positive number if `a` is greater than `b`, or zero otherwise.',"","> The `table` view automatically displays a sorting direction indicator (icon) on a column when a comparator function returns `<= 0` or `>= 0` for each pair of consecutive rows.","","> Note: A sorting (comparator) function has no access to the table's context, so any attempt to access context (`#`) values within a comparator function produced by a query will return `undefined`.","","The `table` view attempts to infer a sorting function for a column when the `sorting` option is not explicitly specified, by executing the following steps:","- Use `data` if it is a string or function to extract column values from row data; otherwise, use the row's data.",'- If `content` is a string formatted as `"view-name:query"`, use the `query` to extract a value from the previous step.','  > To prevent sorting inference from the `content` value, specify content in another format, often by wrapping it in an array, e.g., `{ content: "text:name" }` \u2192 `{ content: ["text:name"] }`.',"- If any condition is met, construct a sorting (comparator) function.","  > If neither `data` nor `content` options meet the conditions, a sorting function cannot be inferred, and the column becomes non-sortable.","","> Note: When inferring a comparator function, the when, whenData, and contentWhen options are not considered for now. If these options are needed to affect sorting, an explicit sorting function should be specified."].join(`
`)},highlightProps:["sorting","data","content"],demo:{view:"table",cols:[{header:"Sorting from data",data:"name"},{header:"Sorting from content",content:"text:age"},{header:"Sorting from data&content",data:"{ name, age }",content:"text:`${age} ${name}`"},{header:"Explicit sorting",sorting:"name asc, age desc",content:["text:`${name} ${age}`"]}]},demoData:zi},{title:"Displaying non-object values",beforeDemo:['md:"When input data (an array) contains non-object values, such values are display using `struct` view in a single cell spanning all the columns"'],highlightProps:["data","valueCol"],demo:['h3:"Table with non-object values"',{view:"table",data:[123,"string",null,{foo:1,bar:2},[1,2,3]]},'h3:"Enforce displaying of a [value] column"',{view:"table",valueCol:!0}],demoData:zi},{title:"Setup cell display",beforeDemo:{view:"md",source:["To manage cell display, the following options are available in the `cols` setting:","- `colWhen` (similar to `when` and `whenData` options) allows disabling column rendering based on the table's data.","- `when` and `whenData` apply to `table-cell` and behave the same way as they do for any view, to disabling rendering of the cell itself.","- `contentWhen` (similar to `when` and `whenData` options) allows disabling cell content rendering based on the cell's data.","- `colSpan` allows setting a relevant attribute for a table cell. (Note: subsequent cells should be disabled using `when` or `whenData`)."].join(`
`)},highlightProps:["contentWhen","colWhen","colSpan","when"],demo:{view:"table",data:'.({ name, age, fare: age > 21 ? "Full" : age > 12 ? "Half" })',cols:{name:{contentWhen:'$ != "Bob"'},age:{colWhen:"size() > 10"},fare:{colSpan:"=fare ? 1 : 2",content:{data:"fare",view:"switch",content:[{when:"$",content:"text"},{content:'text:"Not applicable"'}]}},price:{when:"fare",data:'fare = "Full" ? 50 : 25',content:'text:"$" + $'}}},demoData:zi},{title:"Cell details",beforeDemo:{view:"md",source:["Table cells can display an additional detail view of their content when clicked. Clicking the same cell again, or a different cell with details, will hide the view. To enable and customize the detail view, use the `details` option.","","By default, if the `details` option is not explicitly defined, it will automatically activate for cells containing an object or a non-empty array, as long as no custom `content` is specified. In this case, a default `struct` view will be used to display the data.","","You can control the visibility of detail views using the `detailsWhen` option. This option accepts a function that checks the cell's data and disables the details view if the function returns a falsy value."]},highlightProps:["details","detailsWhen"],demo:{view:"table",cols:[{header:"Group",data:"group"},{header:"Default",data:"peoples"},{header:"Custom details",data:"peoples",details:['h2:"Custom detail views"',"table"]},{header:"Disable default details",data:"peoples",details:!1},{header:"Conditional details",data:"peoples",detailsWhen:"size() > 2"}]},demoData:[{group:"Kids",max:21},{group:"Adults",min:21},{group:"All"}].map(({group:n,min:e=0,max:i=100})=>({group:n,peoples:zi.filter(o=>o.age>e&&o.age<i)}))}]}});function Zf(n,e){return{header:n,sorting:`${e} ascN`,view:"table-cell",data:e}}function DT(n,e,i){let o="",l="";if("data"in n&&n.data!==void 0)switch(typeof n.data){case"string":l=`(${n.data||"$"})`;break;case"function":o="$dataQuery;",l="$dataQuery(#)";break;default:o="$dataQuery;",l="$dataQuery"}if(typeof n.content=="string"){let c=n.content.indexOf(":"),f=n.content.slice(0,c);if(c===-1||!e.view.has(f))return;let d=n.content.slice(c+1);d&&(l=l?`(${l} | ${d})`:`(${d})`)}return l?e.query(`${o} ${l} ascN`,{dataQuery:n.data},i):!1}function AT(n,e,i){return typeof e=="string"&&(e={content:e}),Ae(e,"content")||Ae(e,"data")?{header:n,view:"table-cell",...e}:{...Zf(n,i),...e}}function dx(n){return Array.isArray(n)?n.length:n}function px(n,e,i){if(typeof i!="function")return!1;let o=0;try{for(let l=1,c=dx(e[0]);l<e.length;l++){let f=dx(e[l]),d=Math.sign(i(c,f));if(d){if(o&&d!==o)return!1;o=d}c=f}}catch(l){return n.logger.error("Error on column order detection in table view",l),0}return-o}function hx(n){let e=n.queryFn("is not object");n.view.define("table",function(i,o,l,c){let{rows:f,cols:d,rowConfig:g,limit:m,valueCol:y=!1}=o,k;"rows"in o||(f=l),sr(f)&&(f=[...f]),mn(f)||(f=f?[f]:[]);let C=i.appendChild($("thead")).appendChild($("tr")),M=[],E=i.appendChild($("tbody")),F=i.appendChild($("tbody")),N=F.appendChild($("tr")).appendChild($("td")),A=b=>{E.innerHTML="",N.innerHTML="";for(let L of M){let T=px(n,b,L.sorting);L.el.classList.toggle("asc",T===1),L.el.classList.toggle("desc",T===-1)}return n.view.renderList(E,k,b,{...c,cols:d},0,n.view.listLimit(m,25),N).then(()=>F.hidden=!N.firstChild)};if(Array.isArray(d))d=d.map((b,L)=>typeof b=="string"?Zf(b,n.pathToQuery([b])):{header:"col"+L,view:"table-cell",...b});else{let b=new Set,L=d&&typeof d=="object"?d:{};d=[];for(let T of f)if(e(T))y=!0;else for(let I of Object.keys(T))b.add(I);for(let T of Object.keys(L))L[T]?b.add(T):b.delete(T);for(let T of b)d.push(Ae(L,T)?AT(T,L[T],n.pathToQuery([T])):Zf(T,n.pathToQuery([T])))}y&&d.unshift({header:"[value]",view:"table-cell",sorting:"$ ascN",colSpan:"=is not object ? #.cols.size() : 1",content:'=is not object ? "struct"',details:!1}),d=d.filter(b=>!Ae(b,"colWhen")||n.queryBool(b.colWhen,l,c));for(let b of d){let L=Ae(b,"sorting")?n.query(b.sorting,null,c):DT(b,n,c),T=typeof L=="function"?px(n,f,L):0,I=C.appendChild($("th","view-table-header-cell")),B={el:I};M.push(B),I.textContent=b.header,this.applyComputedClassName(I,b.headerClassName,l,c),T!==0?(B.sorting=L,I.classList.add("sortable"),I.addEventListener("click",()=>{I.classList.contains("asc")?A(f.slice().sort(L).reverse()):I.classList.contains("desc")&&!T?A(f):A(f.slice().sort(L))})):b.sorting=!1}return N.colSpan=d.length,k=this.composeConfig({view:"table-row",cols:y?"=is not object ? [#.cols[]] : #.cols":"=#.cols"},g),A(f)},{tag:"table",usage:cx})}var gx=z(()=>{fx();Ir();Oe();st()});function mx(n){n.view.define("table-row",function(e,i,o,l){let{cols:c}=i;if(Array.isArray(c))return Promise.all(c.map((f,d)=>n.view.render(e,f,o,{...l,colIndex:d})))},{tag:"tr"})}var yx=z(()=>{});function ET(n,e,i){if(Array.isArray(e)||ArrayBuffer.isView(e)){n.classList.add("number"),n.textContent=e.length||"";return}if(i){n.classList.add("complex");for(let o in e)if(Ae(e,o)){n.textContent="{\u2026}";return}n.textContent="{}";return}if(e!==void 0){if(typeof e=="number"){let o=String(e);if(n.classList.add("number"),!Number.isFinite(e)){n.classList.add("keyword"),n.textContent=o;return}o.length>3?n.innerHTML=Dt(o,!1):n.textContent=o;return}(e===null||e===!1||e===!0)&&n.classList.add("keyword"),n.textContent=String(e)}}function vx(n){n.view.define("table-cell",function(e,i,o,l){let{content:c,contentWhen:f=!0,details:d,detailsWhen:g=!0,colSpan:m}=i,y=!c&&o!==null&&(Array.isArray(o)?o.length>0:typeof o=="object")&&!(o instanceof RegExp);if(typeof m=="number"&&m>1&&(e.colSpan=m),!!n.queryBool(f,o,l)){if((d||d===void 0&&y)&&n.queryBool(g,o,l)&&(e.classList.add("details"),e.addEventListener("click",()=>{let k=e.parentNode,C=k.parentNode,M=Array.from(C.querySelectorAll(".view-table-cell.details-expanded")).find(F=>F.parentNode.parentNode===C),E=null;if(M){let F=M.parentNode;if(M.classList.remove("details-expanded"),M===e){k.nextSibling.remove();return}F!==k?F.nextSibling.remove():(E=k.nextSibling.firstChild,E.innerHTML="")}E===null&&(E=k.parentNode.insertBefore(document.createElement("tr"),k.nextSibling).appendChild(document.createElement("td")),E.parentNode.className="view-table-cell-details-row",E.className="view-cell-details-content",E.colSpan=1e3),e.classList.add("details-expanded"),n.view.render(E,d||ST,o,l)})),c)return n.view.render(e,c,o,l);ET(e,o,y)}},{tag:"td"})}var ST,wx=z(()=>{Qt();st();ST={view:"struct",expanded:1}});var MT,bx,xx,kx=z(()=>{MT=()=>alert("toggled!"),bx=([n,...e],i="")=>{let o=[];for(let l=0;l<n;l++){let c=i+"."+(l+1);o.push({title:c,children:e.length?bx(e,c):null})}return o},xx={demo:{view:"tree",item:"text:text",data:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}},examples:[{title:"Expanded tree",highlightProps:["expanded"],demo:{view:"tree",item:"text:text",expanded:999},demoData:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}},{title:"With empty text",highlightProps:["emptyText"],demo:{view:"tree",emptyText:"This tree is empty",data:null}},{title:"With toggle handler",highlightProps:["onToggle"],demo:{view:"tree",item:"text:text",onToggle:MT},demoData:{text:"Root",children:[{text:"Child"},{text:"Another child",children:[{text:"Lvl 2 child"},{text:"Lvl 2 child"}]}]}},{title:"limitLines",highlightProps:["limitLines"],demoData:bx([5,3,3]),demo:{view:"tree",item:"text:title",limitLines:7}}]}});function Cx(n){function e(o,l,c,f,d,g){return g===!1&&(g=c.length),o.classList.add("incomplete"),c.slice(d,d+g).reduce((m,y)=>m.then(()=>{let{container:k,itemConfig:C}=l;return n.view.render(k,n.view.composeConfig(C,{expanded:y.expanded,last:y.last,hasChildren:y.hasChildren,children:y.children}),y.data,f).then(()=>{if(y.expanded&&y.hasChildren){let M=k.lastChild.querySelector(".view-tree-leaf-children");M.classList.add("incomplete"),l={container:M,itemConfig:n.view.composeConfig(C,C.itemConfig),prev:l}}else for(;y.shift--;)l.container.classList.remove("incomplete"),l=l.prev})}),Promise.resolve()).then(()=>n.view.maybeMoreButtons(o,null,c.length,d+g,g,(m,y)=>e(o,l,c,f,m,y))||o.classList.remove("incomplete"))}function i(o,l,c,f){function d(y,k,C,M=0){y.forEach((E,F,N)=>{let A=n.query(C.children,E,l),b=Array.isArray(A)&&A.length>0,L=F===N.length-1,T=m.has(E)?0:typeof k=="function"?k(E,l):k;m.add(E),g.push({data:E,expanded:T,last:L,hasChildren:b,children:T?null:C.children,shift:L&&(!T||!b)?M+1:0}),b&&T&&d(A,typeof k=="number"?k-1:k,n.view.composeConfig(C,C.itemConfig),L?M+1:0)})}let g=[],m=new Set;return d(o,f,c),g}n.view.define("tree",function(l,c,f,d){let{children:g="children",item:m="text",itemConfig:y,collapsible:k,emptyText:C,onToggle:M}=c,{expanded:E,limit:F,limitLines:N=!0}=c;if(C!==!1&&C!==""&&l.setAttribute("emptyText",C||"Empty tree"),!Array.isArray(f)&&f&&(f=[f]),Array.isArray(f)){if(F=n.view.listLimit(F,25),N=n.view.listLimit(N,25),E=typeof E=="function"?E:n.view.listLimit(E,1),N){let A=i(f,d,this.composeConfig({children:g},y),E),b={container:l,itemConfig:this.composeConfig({view:"tree-leaf",itemConfig:y,content:m,collapsible:k,onToggle:M},y)};return e(l,b,A,d,0,N)}return this.renderList(l,this.composeConfig({view:"tree-leaf",itemConfig:y,content:m,collapsible:k,expanded:E,children:g,limit:F,onToggle:M},y),f,d,0,F)}},{tag:"ul",usage:xx})}var Dx=z(()=>{kx()});function Ax(n){let e=new WeakMap,i=({target:o})=>{let l=o.closest(".view-tree-leaf-toggle");if(l){let c=e.get(l),f=!l.parentNode.classList.toggle("collapsed");typeof c.render=="function"&&c.render(),typeof c.onToggle=="function"&&c.onToggle(f,l.parentNode,c.data,c.context)}};n.addHostElEventListener("click",i,!1),n.view.define("tree-leaf",async function(o,l,c,f){let{expanded:d,hasChildren:g,children:m,items:y,content:k,itemConfig:C,collapsible:M,last:E,limit:F,onToggle:N}=l,A=o.appendChild($("span","view-tree-leaf-toggle")),b=o.appendChild($("span","view-tree-leaf-content"));if(E&&o.classList.add("last"),M||o.classList.add("non-collapsible"),await this.render(b,k,c,f),g){let L=o.appendChild($("ul","view-tree-leaf-children")),T={data:c,context:f,onToggle:N,render:null},I=(B,R)=>(typeof R=="number"&&R--,this.renderList(L,this.composeConfig({view:"tree-leaf",expanded:R,itemConfig:C,content:k,collapsible:M,children:m,limit:F,onToggle:N},C),B,f,0,this.listLimit(F,25)));o.classList.add("has-children"),e.set(A,T),(typeof d=="function"?d(c,f):d)?y&&await I(y,d):(o.classList.add("collapsed"),y&&(T.render=()=>{T.render=null,I(y,d||1)}))}},{tag:"li",props:LT})}var LT,Sx=z(()=>{Oe();LT=`#.props | {
    $items: children.query(@, #.context) | is array?;

    itemConfig,
    content is not undefined ?: 'text',
    collapsible is not undefined ?: true,
    onToggle,
    expanded,
    last,
    hasChildren: hasChildren or $items.size() > 0,
    children,
    $items,
    limit: limit | $ = false or is int ?: 25
}`});var Xa={};Fe(Xa,{alerts:()=>fw,appHeader:()=>bw,autoLink:()=>kw,badges:()=>Ew,block:()=>Tv,button:()=>yy,checkbox:()=>Ay,checkboxList:()=>xy,column:()=>Nv,columns:()=>Iv,contentFilter:()=>Ly,context:()=>w0,dropdown:()=>Oy,editors:()=>Sv,expand:()=>zv,headers:()=>Nw,hstack:()=>_v,html:()=>Pw,image:()=>Rw,imagePreview:()=>Ww,indicator:()=>Vw,input:()=>zy,link:()=>Zw,listItem:()=>$v,lists:()=>Vv,markdown:()=>wb,menu:()=>_y,menuItem:()=>Gy,navButton:()=>Ky,pageHeader:()=>Zv,popup:()=>nw,progressbar:()=>ev,section:()=>sw,select:()=>iv,signature:()=>I0,source:()=>r0,struct:()=>lx,switchView:()=>C0,tab:()=>dv,table:()=>hx,tableCell:()=>vx,tableRow:()=>mx,tabs:()=>lv,text:()=>a0,textMatch:()=>f0,textNumeric:()=>g0,tocSection:()=>lw,toggle:()=>hv,toggleGroup:()=>mv,tree:()=>Cx,treeItem:()=>Ax});var Jf=z(()=>{vy();ky();Sy();Ty();Iy();Ry();Wy();Vy();Zy();tv();ov();uv();pv();gv();yv();Ev();Fv();Ov();Bv();Rv();Wv();Uv();Yv();Jv();rw();aw();uw();dw();xw();Cw();Mw();Ow();jw();Hw();$w();Yw();Jw();bb();i0();l0();d0();m0();b0();D0();B0();ux();gx();yx();wx();Dx();Sx()});function Ex(n){n.page.define("default",{view:"switch",content:[{when:"no #.datasets",content:"preset/welcome-block"},{content:['page-header{ content: "h1:#.name" }',{view:"struct",expanded:1}]}]}),n.preset.define("welcome-block",{view:"block",className:"welcome-block",data:"#.model",content:["app-header",{view:"block",className:"upload-data",when:"#.actions.uploadFile",content:["preset/upload",{view:"block",className:"upload-notes",content:'html:name + " is a server-less application that securely opens and analyzes your data directly on your device,<br>ensuring all processing is done locally without transmitting your data elsewhere."'}]}]})}var Mx=z(()=>{});function Lx(n){n.page.define("not-found",['alert-warning:"Page `" + name + "` not found"'])}var Tx=z(()=>{});function el(n,e=""){return typeof n=="string"?n:e}function Nx(n){let e=typeof n=="string"?{query:n}:n,{query:i,graph:o,view:l,viewEditorHidden:c,title:f,dzen:d,noedit:g,...m}=e,y=[];d&&y.push(["dzen"]),g&&y.push(["noedit"]),f&&y.push(["title",f]),i&&y.push(["q",Ko(i)]),o&&y.push(["graph",Ko(JSON.stringify(o))]),typeof l=="string"&&y.push(l?["v",Ko(l)]:["v"]),c&&y.push(["vh"]);for(let[k,C]of Object.keys(m||{}).sort())Fx.includes(k)||y.push([k,k.endsWith("-b64")&&typeof C=="string"?Ko(C):C]);return y}function Ox(n){let e=Object.fromEntries(n),i={title:el(e.title),query:Zo(el(e.q)),graph:JSON.parse(Zo(el(e.graph))||"null"),view:"v"in e?Zo(el(e.v)):void 0,viewEditorHidden:"vh"in e,dzen:"dzen"in e,noedit:"noedit"in e};for(let[o,l]of Object.entries(e))TT.includes(o)||(i[o]=o.endsWith("-b64")&&typeof l=="string"?Zo(l):e[o]);return i}function FT(n){return Object.fromEntries(Object.entries(n).filter(([e])=>!Fx.includes(e)))}function Xf(n,e,...i){for(let o of Object.keys(n))if(n[o]!==e[o]&&!i.includes(o))return!1;for(let o of Object.keys(e))if(n[o]!==e[o]&&!i.includes(o))return!1;return!0}function tl(n,e={}){let i={...n,params:FT(n.params)};return!Xf(e,i,"params","actions")||!Xf(e.params,i.params)||!Xf(e.actions,i.actions)?i:e}function Ri(n){return n&&typeof n=="object"&&"params"in n?n.params:{}}var Fx,TT,fs=z(()=>{kf();Fx=["query","graph","view","viewEditorHidden","title","dzen","noedit"],TT=["q","graph","v","vh","title","dzen","noedit"]});function NT(n){return n.replace(/\\/g,"\\\\").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")}function OT(n){let{title:e,query:i,view:o}=n,l={title:e,query:i,view:o};return`{
${Object.keys(l).reduce((c,f)=>typeof l[f]=="string"?c.concat(`    ${f}: '${NT(l[f])}'`):c,[]).join(`,
`)}
}`}function IT(n){if(n&&(typeof n=="number"||typeof n=="string")){let e=new Date(n);return isNaN(Number(e))?null:e}return n instanceof Date?n:null}function Ix(n){let e=IT(n);return e?e.toISOString().replace(/^(\d{4})-(\d{2})-(\d{2})T([\d:]+).*/,"$3/$2/$1 $4 UTC"):null}function Bx(n,e){let i,o,l,c,f=new n.view.Popup({render:(y,k,C)=>n.view.render(y,{view:"menu",data:()=>[{text:"Copy page permalink",disabled:!n.action.has("permalink"),action:async()=>Wt(await n.action.call("permalink",n.pageHash))},{text:"Copy page hash",action:()=>Wt(n.pageHash)},{text:"Copy page as JSON",action:()=>Wt(OT(n.pageParams))}],onClick(M){C(),M.action()}})}),d=$("div","discovery-actions",[c=$("button",{class:"edit-mode discovery-hidden-in-dzen",title:"Toggle edit mode",onclick(){this.blur(),e({noedit:!n.pageParams.noedit})}}),$("button",{class:"share",title:"Sharing",onclick(){this.blur(),f.show(this)}}),$("button",{class:"toggle-fullscreen",title:"Toggle full page mode",onclick(){this.blur(),e({dzen:!n.pageParams.dzen})}})]),g=y=>{y.parentNode.dataset.title=y.value||y.placeholder},m=$("div","discovery-header",[$("div",{class:"discovery-header-text","data-title":"\xA0"},[i=$("input",{class:"discovery-hidden-in-dzen",placeholder:"Untitled discovery",oninput(){g(this)},onchange(){g(this),e({title:this.value},!0)},onkeypress(y){y.key==="Enter"&&this.blur()}}),$("span","timestamp",[o=$("span",null,"&nbsp;"),l=$("span")])])]);return{el:[d,m],render(y,k){let{title:C,noedit:M}=Ri(k),E=Ix(k?.datasets?.[0]?.resource?.createdAt);i.value=C||"",g(i),c.classList.toggle("disabled",M),o.innerText=E?"Data collected at "+E+" | ":"",l.innerText="Rendered at "+Ix(new Date)}}}var Px=z(()=>{Oe();Jo();fs()});function jx(n,e,i){return n.length?`${n.length} ${n.length===1?e:i}`:"empty"}function ed(n){return Array.isArray(n)?`Array (${jx(n,"element","elements")})`:n&&typeof n=="object"?`Object (${jx(Object.keys(n),"entry","entries")})`:`Scalar (${n===null?"null":typeof n})`}function td(n,e){let i=document.createElementNS("http://www.w3.org/2000/svg",n);if(e)for(let[o,l]of Object.entries(e))i.setAttribute(o,String(l));return i}function BT(n,e,i){function o(){return n.appendChild($("div","query-graph-box"))}function l(f,d,g,m){Array.isArray(m)||(m=[]),f||(f=o());let y=m.length===1,k=m.length>1,C=f.appendChild($("div",{"data-path":g.join(" "),tabindex:-1,class:`query-graph-node${y?" target":k?" current":""}`}));if(i.view.attachTooltip(C,{className:"query-graph-tooltip",content:y?'badge:"Current query"':{view:"source",syntax:'=query ? "jora" : false',source:'=query or "<empty query>"',actionCopySource:!1,lineNumber:!1}},{query:d.query}),Array.isArray(d.children))for(let M=0;M<d.children.length;M++){let E=l(f.nextSibling,d.children[M],g.concat(M),m[1]===M?m.slice(1):[]);c.push([C,E])}return C}let c=[];for(let f=0;f<e.children.length;f++)l(n.firstChild,e.children[f],[f],e.current[0]===f?e.current:[]);requestAnimationFrame(()=>{let f=n.appendChild(td("svg"));for(let[d,g]of c){let m=qt(d,f),y=qt(g,f),k=m.right-2,C=m.top+m.height/2,M=y.left+2,E=y.top+y.height/2,F=(M-k)/3;f.append(C===E?td("line",{stroke:"#888",x1:k,y1:C,x2:M,y2:E}):td("path",{stroke:"#888",fill:"none",d:`M ${k} ${C} C ${k+2*F} ${C} ${M-2*F} ${E} ${M} ${E}`}))}})}function zx(n){let e={current:Array.isArray(n.current)?n.current:[],children:Array.isArray(n.children)?n.children:[]};return e.current.length===0&&e.current.push(0),e.children.length===0&&e.children.push({}),e}function nl(n,e){let i=[n],o=n;for(let l=0;l<e.length;l++)o=o.children?.[e[l]],i.push(o);return i}function Rx(n,e){let i=n.view.QueryEditor,o={},l,c=NaN,f=!1,d=NaN,g,m,y=zx({}),k,C=null,M=null,E=[],F,N,A=(V,le,re,ie)=>F.checked?n.querySuggestions(V,le,re,ie):null,b=new i(A).on("change",V=>N.checked&&e({query:V},!0)),L=n.getQueryEngineInfo(),T=$("div","query-graph-actions"),I=$("div","buttons"),B=$("div","query-input"),R=$("div","query-input-details"),U=$("div","data-query-result"),W=$("div","data-query-result-details"),ne=$("div","query-graph"),q=$("div","query-path"),Z=$("div","form query-editor-form",[ne,q,$("div","query-editor",[b.el])]);b.inputPanelEl.append(T,B,R,$("a",{class:"view-link query-engine",href:L.link,target:"_blank"},[`${L.name} ${L.version||""}`])),b.outputPanelEl.append(U,I,W);let S=V=>({position:"trigger",className:"hint-tooltip",showDelay:!0,content:{view:"context",data:typeof V=="function"?V:()=>V,content:"md"}});function X(V=""){pe(({nextGraph:le,last:re})=>(Array.isArray(re.children)||(re.children=[]),re.query=g,re.view=m,le.current.push(re.children.push({})-1),{query:V,view:void 0,graph:le}))}n.view.render(T,[{view:"button",className:"subquery",tooltip:S("Create a new query for a result of current one"),onClick:X},{view:"button",className:"stash",tooltip:S(()=>y.current.length<2?"Stash current query and create a new empty query":"Stash current query and create a new empty query for current parent"),onClick(){pe(({nextGraph:V,last:le,preLast:re})=>{let ie=re.children||[];return le.query=g,le.view=m,V.current[V.current.length-1]=ie.push({})-1,{query:"",view:void 0,graph:V}})}},{view:"button",className:"clone",tooltip:S("Clone current query"),onClick(){pe(({nextGraph:V,last:le,preLast:re})=>{let ie=re.children||[];return le.query=g,le.view=m,V.current[V.current.length-1]=ie.push({})-1,{graph:V}})}},{view:"button",className:"delete",tooltip:S("Delete current query and all the descendants"),onClick(){pe(({nextGraph:V,last:le,preLast:re})=>{let ie=re.children?.indexOf(le)??-1,Ee=re.query;if(re.children?.splice(ie,1),re.children?.length||(re.children=void 0),V.current.pop(),V.current.length===0){let Ce=Math.max(0,Math.min(ie-1,(V.children?.length||0)-1));V.current.push(Ce),Ee=V.children?.[Ce]?.query}return{query:Ee,graph:V}})}}]),I.append($("label",{class:"view-checkbox suggestions",tabindex:0},[F=$("input",{class:"live-update",type:"checkbox",checked:!0,onchange(){b.focus(),b.cm.showHint()}}),$("span","view-checkbox__label","suggestions")]),$("label",{class:"view-checkbox live-update",tabindex:0},[N=$("input",{class:"live-update",type:"checkbox",checked:!0,onchange({target:V}){b.focus(),V.checked&&e({query:b.getValue()},!0)}}),$("span","view-checkbox__label","process on input")])),n.view.attachTooltip(F.parentNode,S(()=>F.checked?"Query suggestions enabled<br>(click to disable)":"Query suggestions disabled<br>(click to enable)")),n.view.attachTooltip(N.parentNode,S(()=>N.checked?"Auto-perform query enabled<br>(click to disable)":"Auto-perform query disabled<br>(click to enable)")),n.view.render(I,{view:"button-primary",content:'text:"Process"',onClick:()=>{E=E.slice(0,y.current.length-1),e({query:b.getValue()},!0),n.scheduleRender("page")}}),q.addEventListener("click",({target:V})=>{let le=V.closest(".query-path > *"),re=[...q.children].indexOf(le);re!==-1&&pe(({nextGraph:ie,currentPath:Ee,last:Ce})=>(Ce.query=g,ie.current=ie.current.slice(0,re+1),{query:Ee[re+1].query,graph:ie}))}),ne.addEventListener("click",({target:V})=>{let le=V.dataset.path;typeof le=="string"&&le!==y.current.join(" ")&&pe(({nextGraph:re,last:ie})=>{let Ee=le.split(" ").map(Number),Ce=nl(re,Ee),be=Ce[Ce.length-1],$e=be.query,Me=be.view;return be.query=void 0,be.view=void 0,ie.query=g,ie.view=m,re.current=Ee,{query:$e,view:Me,graph:re}})});function ee(V,le=!0,re=!1){e(V,re),le&&setTimeout(()=>{b.focus(),b.cm.setCursor(b.cm.lineCount(),0)},0)}function pe(V){let le=JSON.parse(JSON.stringify(y)),re=nl(le,le.current),ie=re[re.length-1],Ee=re[re.length-2],Ce=V({nextGraph:le,currentPath:re,last:ie,preLast:Ee});ee(Ce,!0)}function De(V){let le=setTimeout(V,16);return()=>clearTimeout(le)}function Pe(V){B.innerHTML="",B.append($("div",{class:"query-input-data",tabindex:-1,onclick(){l=l==="data"?void 0:"data",et(V)}},[$("span",{class:"query-input-variable","data-name":"input"},["@"]),V.state==="awaiting"?"Computing...":V.state==="canceled"?"Not available (undefined)":ed(V.data)]),$("div",{class:"query-input-context",tabindex:-1,onclick(){l=l==="context"?void 0:"context",et(V)}},[$("span",{class:"query-input-variable","data-name":"context"},["#"]),V.state==="awaiting"?"Computing...":V.state==="canceled"?"Not available (undefined)":ed(V.context)])),et(V)}function et(V){if(b.inputPanelEl.classList.toggle("details-expanded",l!==void 0),B.dataset.details=l,l){let le=V.state!=="awaiting"&&V.state!=="canceled"?V[l]:NaN;le!==c&&(c=le,V.state==="awaiting"?R.textContent="Computing...":V.state==="canceled"?R.textContent="Not available because one of ancestor queries failed":(R.innerHTML="",n.view.render(R,[{view:"struct",expanded:1}],c)))}else c=NaN,R.innerHTML=""}function nt(V,le,re){let ie=[$("span","query-output-message",Array.isArray(re)?re:[re])];le&&ie.unshift($("span","query-output-prelude",[le])),U.replaceChildren($("div",{class:"query-result-data"+(V.state==="failed"?" error":""),tabindex:-1,onclick(){f=!f,yt(V)}},ie))}function Ye(V){switch(C&&(C.clear(),C=null),V.state){case"canceled":{b.setValue(V.query),nt(V,"Result","Not available");break}case"awaiting":{b.setValue(V.query),nt(V,null,"Avaiting...");break}case"computing":{b.setValue(V.query,V.data,V.context),nt(V,null,"Computing...");break}case"successful":{b.setValue(V.query,V.data,V.context),nt(V,"Result",[ed(V.computed),` in ${parseInt(V.duration,10)}ms`]);break}case"failed":{let{error:le}=V,re=le?.details?.loc?.range,ie=b.cm.doc;if(Array.isArray(re)&&re.length===2){let[Ee,Ce]=re;C=le.details?.token==="EOF"||Ee===Ce||V.query[Ee]===`
`?ie.setBookmark(ie.posFromIndex(Ee),{widget:$("span","discovery-editor-error"," ")}):ie.markText(ie.posFromIndex(Ee),ie.posFromIndex(Ce),{className:"discovery-editor-error"})}b.setValue(V.query,V.data,V.context),nt(V,"Error",[le.message.split(/\n/)[0].replace(/^(Parse error|Bad input).+/s,"Parse error")]);break}}yt(V)}function yt(V){if(b.outputPanelEl.classList.toggle("details-expanded",f),f){let le=V.state!=="awaiting"&&V.state!=="canceled"&&V.state!=="computing"?V.error||V.computed:NaN;if(le!==d)switch(d=le,V.state){case"awaiting":W.innerHTML='<div class="state-message">Awaiting for all of ancestor queries done<div>';break;case"canceled":W.innerHTML='<div class="state-message">Not available because one of ancestor queries failed<div>';break;case"failed":W.innerHTML='<div class="discovery-error query-error">'+Xe(V.error?.message||"")+"</div>";break;case"successful":W.innerHTML="",n.view.render(W,{view:"struct",expanded:1},d);break}}else d=NaN,W.innerHTML=""}function je(V){let le=V.path.join(" "),re=ne.querySelector(`[data-path="${le}"]`);re&&(re.dataset.state=V.state),E[y.current.length-1]===V&&(Pe(V),Ye(V))}function xe(V,le,re,ie=!1){M&&(M.cancel(),M.computation.state="canceled",M=null);let Ee=!1;if(ie)for(let Ce=V;Ce<y.current.length;Ce++){let be=E[Ce];be.state!=="computing"&&je(be)}for(let Ce=V;Ce<y.current.length;Ce++){let be=E[Ce],$e=Ce===y.current.length-1;if(be.state==="awaiting"&&(be.state="computing"),be.state==="failed"?Ee=!0:Ee&&(be.state="canceled"),be.state!=="computing"){if(le=be.computed,re=be.context,je(be),$e)return Promise.resolve(be);continue}return new Promise((Me,Ue)=>{be.data=le,be.context=re,je(be),M={computation:be,cancel:De(()=>{let ut=Date.now();M=null;try{be.computed=n.query(be.query,be.data,be.context),be.state="successful"}catch(at){be.error=at,be.state="failed"}be.duration=Date.now()-ut,xe(Ce,le,re).then(Me,Ue)})}})}return Promise.reject("No computation found")}function we(V,le){let re=nl(y,y.current).slice(1),ie=-1,Ee=null;for(let Ce=0;Ce<y.current.length;Ce++){let be=re[Ce],$e=E[Ce]||{},Ue=Ce===y.current.length-1?g:be.query,ut=y.current.slice(0,Ce+1);if(ie===-1&&$e.query===Ue&&$e.data===V&&$e.context===le&&String($e.path)===String(ut)){V=$e.computed,Ee=$e.error;continue}let at=E[Ce]={state:"awaiting",path:y.current.slice(0,Ce+1),query:Ue||"",data:void 0,context:void 0,computed:void 0,error:null,duration:0};if(Ee){at.state="canceled";continue}if(ie===-1){ie=Ce,at.state="computing",at.data=V,at.context=le;continue}}return ie!==-1?E.slice(ie,y.current.length):[]}return{el:Z,createSubquery:X,appendToQuery(V){let le=typeof g=="string"&&g.trimRight()!==""?g.replace(/(\n[ \t]*)*$/,()=>`
| `+V):V;ee({query:le},!0,!0)},perform(V,le){let re=tl(le,k),ie=Ri(le),Ee=ie.query,Ce=ie.view,be=zx({...ie.graph||o});T.classList.toggle("root",be.current.length<2),ne.innerHTML="",BT(ne,be,n),q.innerHTML="";for(let $e of nl(be,be.current).slice(1,-1))q.append($("div","query",$e.query||""));return y=be,k=re,g=Ee,m=Ce,we(V,re),xe(0,V,re,!0)}}}var Hx=z(()=>{Oe();Qt();Fr();fs()});function rl(n){return!!(n&&n.nodeType===Node.TEXT_NODE)}function nd(n,e=`
`){let i="";for(let o of n.childNodes)!rl(o)&&o.previousSibling&&!rl(o.previousSibling)&&(i+=e),i+=PT(o,e);return i}function PT(n,e=`
`){switch(n.nodeType){case Node.ELEMENT_NODE:let[i,o=""]=n.cloneNode().outerHTML.split(/(?=<\/[^>]+>$)/);return i+(n.firstChild&&!rl(n.firstChild)?e+"  ":"")+nd(n,e+"  ")+(n.lastChild&&!rl(n.lastChild)?e:"")+o;case Node.TEXT_NODE:return n.nodeValue;case Node.COMMENT_NODE:return"<!--"+n.nodeValue+"-->";case Node.DOCUMENT_FRAGMENT_NODE:return nd(n,e)}return""}function qx(n,e){let i=[],o=[...Array.isArray(n.highlight)?n.highlight:n.highlight?[n.highlight]:[]];Array.isArray(n.highlightProps)&&o.push(`(")?(?:${n.highlightProps.join("|")})\\1(?=:)`);for(let l of o){let c=new RegExp(l,"gm"),f;for(;f=c.exec(e);)i.push({range:[f.index,f.index+f[0].length]})}return i}function il(n){let e={view:"context",modifiers:[{view:"switch",when:"beforeDemo",content:[{when:({beforeDemo:i})=>typeof i=="string",content:'html:"<p>" + beforeDemo + "</p>"'},{content:{view:"render",config:"beforeDemo",context:"{ __demoContext: true, ...(viewDef | { name, group, options }) }"}}]},{view:"block",when:"demo or view",className:"usage-render",postRender:(i,{onInit:o},{demoFixed:l})=>{l&&(i.classList.add("demo-fixed"),i.style.height=l+"px"),o(i,"root")},content:{view:"render",config:"demo or view",data:"demoData",context:"{ __demoContext: true, ...(viewDef | { name, group, options }) }"}},{view:"switch",when:"afterDemo",content:[{when:({afterDemo:i})=>typeof i=="string",content:'html:"<p>" + afterDemo + "</p>"'},{content:{view:"render",config:"afterDemo",context:"{ __demoContext: true, ...(viewDef | { name, group, options }) }"}}]}],content:{view:"tabs",when:"source != false",className:"usage-sources",name:"code",tabs:[{value:"config",text:"Config (JS)"},{value:"config-json",text:"Config (JSON)"},{value:"html",text:"Rendered HTML"}],content:{view:"switch",content:[{when:'#.code="config"',content:[{view:"expand",when:'"demoData" in $',header:'text:"Input data"',content:{view:"struct",expanded:2,data:"demoData"}},{view:"source",className:"first-tab",data:i=>{let o=ar(i.demo||i.view);return{syntax:"discovery-view",content:o,refs:qx(i,o)}}}]},{when:'#.code="config-json"',content:[{view:"expand",when:'"demoData" in $',header:'text:"Input data"',content:{view:"struct",expanded:2,data:"demoData"}},{view:"source",data:i=>{let o=JSON.stringify(i.demo||i.view,null,4);return{syntax:"json",content:o,refs:qx(i,o)}}}]},{when:'#.code="html"',content:{view:"source",data:(i,o)=>({syntax:"html",content:nd(o.root)})}}]}}};return{view:"block",className:"discovery-view-usage",data({name:i,options:o},l){let c=[...n.view.values].filter(f=>f.options.usage===o.usage).map(f=>f.name);return c.includes(i)||c.unshift(i),l.viewDef={demo:{view:i,data:'"'+i+'"'},...typeof o.usage=="function"?o.usage(i,c):Array.isArray(o.usage)?{examples:o.usage}:o.usage,name:i,group:c,options:o}},content:["h1:name",e,{view:"list",data:"examples",whenData:!0,itemConfig:{className:"usage-section"},item:["h2{ anchor: true, data: title }",e]}]}}var rd=z(()=>{es()});function zT(n,e,i){return $("div",{class:"discovery-editor-tab",onclick:()=>i({view:e})},n||"Untitled preset")}function Wx(n,e){let i=n.view.ViewEditor,o=jT,l={},c,f,d,g,m,y=new i().on("change",E=>m.checked&&e({view:E},!0)),k=$("div","buttons"),C=$("div","form view-editor-form",[$("div","view-editor-form-header",[$("div","discovery-editor-tabs view-mode",g=["Default","Custom"].map(E=>$("div",{class:"discovery-editor-tab","data-mode":E.toLowerCase(),onclick(){this.classList.contains("active")?e({viewEditorHidden:!C.classList.contains("hide-editor")},!0):e({view:E==="Default"?void 0:_x,viewEditorHidden:!1},!0)}},E==="Custom"?[E,$("span","show-view-editor-toggle")]:E))),$("div","discovery-editor-tabs presets",o.map(({name:E,content:F})=>zT(E,F,e))),$("div","view-editor-form-header-links",'<a href="#views-showcase" class="view-link">Views showcase</a>')]),$("div","view-editor-form-content",[$("button",{class:"view-button formatting",title:"Prettify (input should be a JSON)",onclick(){y.focus();try{let E=y.getValue().trim(),F=new Function("return 0,"+E)();e({view:ar(F)})}catch(E){n.logger.error("View editor prettify failed:",E)}}}),y.el,$("div","editor-toolbar",[c=$("div","view-expand",[$("div",{class:"header",onclick(){c.classList.toggle("expanded"),d.classList.toggle("visible")}},[f=$("div","header-content"),$("div","trigger")]),d=$("div","view-editor-view-list")]),$("label","view-checkbox",[m=$("input",{class:"live-update",type:"checkbox",checked:!0,onchange(){this.checked&&e({view:y.getValue()},!0)}}),$("span","view-checkbox__label","build on input")]),k])])]);n.view.render(k,{view:"button-primary",content:'text:"Build"',onClick(){l={},e({view:y.getValue()},!0),n.scheduleRender("page")}}),new n.view.Popup({className:"view-editor-view-list-hint",hoverTriggers:".view-editor-view-list .item.with-usage",render(E,F){n.view.render(E,il(n),n.view.get(F?.textContent),{})}}),f.textContent=`Available ${[...n.view.entries].filter(([,E])=>E.options.usage).length} views`;let M=()=>d.innerHTML='<a href="#views-showcase" class="view-link">Views showcase</a><br><br>'+[...n.view.entries].sort().map(([E,F])=>`<div><a class="item view-link${F.options.usage?" with-usage":""}" ${F.options.usage?'href="#views-showcase:'+E+'"':""}>${E}</a></div>`).join("");return M(),n.view.on("define",Nr(M,100)),{el:C,render(E,F,N){let A=tl(F,l.context),b=Ri(F),L=typeof b.view=="string"?"custom":"default",T=L==="default"||b.viewEditorHidden===!0,I=b.view,B=null;if(y.setValue(I),C.classList.toggle("hide-editor",T),g.forEach(R=>R.classList.toggle("active",R.dataset.mode===L)),!I&&L==="default"&&(I=_x),l.view!==I||l.data!==E||l.context!==A){N.innerHTML="";try{B=Function("return "+(I?"0,"+I:"null"))(),n.view.render(N,B,E,A)}catch(R){n.view.render(N,U=>{U.className="discovery-error render-error",U.innerHTML=Xe(String(R))+"<br>(see details in console)",n.logger.error(R)})}l={data:E,context:A,view:I}}}}}var _x,jT,$x=z(()=>{Yo();Oe();Qt();es();fs();rd();_x=`{
    view: 'struct',
    expanded: 1
}`,jT=[{name:"Table",content:ar({view:"table"})},{name:"Auto-link list",content:ar({view:"ol",item:"auto-link"})},{name:"Signature",content:ar({view:"signature",expanded:2})}]});function Ux(n){function e(m,y){return n.setPageParams({...n.pageParams,...m},y)}function i(){if(f!==null)return f;let m=Bx(n,e),y=Rx(n,e),k=Wx(n,e),C=$("div",{class:"discovery-editor discovery-hidden-in-dzen",hidden:!0},[y.el,k.el]),M=$("div","discovery-render-content"),E=[...m.el,C,M];return f={header:m,queryEditor:y,viewEditor:k,discoverEditorEl:C,discoverContentEl:M,layout:E}}function o(m){return m===g}function l(m,y){o(y)&&i().queryEditor.createSubquery(m)}function c(m,y){o(y)&&i().queryEditor.appendToQuery(m)}let f=null,d=null,g=NaN;n.on("pageStateChange",m=>{n.pageId!==m.id&&(n.pageId===n.discoveryPageId?(n.action.define("queryAcceptChanges",o),n.action.define("querySubquery",l),n.action.define("queryAppend",c)):(n.action.revoke("queryAcceptChanges"),n.action.revoke("querySubquery"),n.action.revoke("queryAppend")))}),n.page.define("discovery",function(m,y,k){let{header:C,queryEditor:M,viewEditor:E,discoverEditorEl:F,discoverContentEl:N}=i();F.hidden=k.params.noedit,C.render(y,k),g=NaN;let A=d=Symbol("last-query-request");M.perform(y,k).then(b=>{if(d===A){if(b.error){E.el.hidden=!0,N.hidden=!0;return}g=b.computed,E.el.hidden=!1,N.hidden=!1,E.render(g,k,N)}})},{reuseEl:!0,init(m){i().layout.forEach(y=>m.appendChild(y))},encodeParams:Nx,decodeParams:Ox})}var Gx=z(()=>{Oe();fs();Px();Hx();$x()});var Vx,Yx=z(()=>{Vx=`
## Working with views

In Discovery.js, presentations are organized as a tree of views. Views are defined using object notation, where the \`view\` property specifies the type, and additional properties allow further customization.

\`\`\`discovery-view
{
    view: "view-name"
}
\`\`\`

A view definition takes \`data\` and \`context\` values, which can be used to define properties and control rendering. Views can transform data and context (using the \`data\` and \`context\` properties) for use by the view and its descendant views, enabling clear data flow. Views are rendered by calling the render method:

\`\`\`js
discovery.render(containerEl, viewDefinition, data, context)
\`\`\`

Discovery.js is designed to be declarative. For dynamic calculations or event handling, [jora](https://discoveryjs.github.io/jora/) queries are preferred over JavaScript functions.

Each view can use the following properties:

- \`view\` (required) \u2014 Specifies the view type.
- \`when\` \u2014 Controls whether the view should be rendered. Evaluated before \`data\` transformation.
- \`context\` \u2014 Transforms the input context for the view and its nested views.
- \`data\` \u2014 Transforms the input data for the view and its nested views.
- \`whenData\` \u2014 Controls rendering based on the computed \`data\`. Evaluated after \`context\` and \`data\` are set.
- \`className\` \u2014 Adds CSS class name(s) to the root element of the view (see [ClassName](#!classname)).
- \`postRender\` \u2014 A function executed after rendering the view but before placing it in the DOM.
- \`tooltip\` \u2014 Sets up a tooltip for the view (only applicable to views with a container element, see [Tooltips](#!tooltips)).

The sequence of property evaluation during rendering (view render lifecycle):

\`\`\`
[start]               render(data, context)
 \\                          |     |
  * when()                  |     | stop rendering when value is falsy
  |\\                        |     |
  | * context() ------------|-----* (async) replace \`context\` with new value
  |  \\                      |     |
  |   * data() -------------*     | (async) replace \`data\` with new value
  |    \\                    |     |
  |     * whenData()        |     | stop rendering when value is falsy
  |     |\\                  |     |
  |     | * (render)        |     | (async) main render logic
  |     |  \\                |     |
  |     |   * postRender()  |     | do something once (render) is done
  |     |    \\              |     |
  |     |     * className() |     | compute className and apply to root element
  |     |      \\            V     V
  +-----+-----> * [finish render]
\`\`\`

- \`context\` and \`data\` \u2014 Modify the flow of context or data based on the provided value:
  - **String** \u2014 Treated as a jora query, and its result is used.
  - **Function** (\`fn(data, context)\`) \u2014 The result of the function invocation is used.
  - **Other values** \u2014 Directly used as a new value for data or context.
- \`when\` and \`whenData\` \u2014 Determine if a view should be rendered:
  - **String** \u2014 Treated as a jora query.
  - \`true\` \u2014 Evaluated as an empty query, meaning the data itself is tested for truthiness.
  - \`undefined\` \u2014 Treated as not specified, allowing rendering.
  - **Function** (\`fn(data, context)\`) or other values \u2014 Evaluated for truthiness.
  > Note: In jora, empty arrays and objects with no own keys are falsy, unlike JavaScript where they are truthy.

\`\`\`discovery-view
{
    view: 'list',
    data: 'some.list.sort(name asc)', // Fetch an array for the list view, based on current data
    whenData: 'size() > 0',  // Check if the array has elements, skip rendering if empty
    item: 'text:name' // Render each element as text, displaying the name
}
\`\`\`

## Computable property values

If a property starts with \`=\`, it indicates a jora query used to compute the property's value before a rendering.

\`\`\`discovery-view
{
    view: 'list',
    limit: '=size() <= 12 ? false : 10' // Dynamically computes the limit based on flow data
}
\`\`\`

> To pass a literal string that starts with \`=\`, use a query like \`'="=some string"'\`.

## Shorthand notations

Discovery.js supports shorthand notations for defining views, making the configuration more concise:

| Shorthand notation                      | Expanded form                                      |
| --------------------------------------- | -------------------------------------------------- |
| \`'name'\`                                | \`{ view: 'name' }\`                                 |
| \`'name:<query>'\`                        | \`{ view: 'name', data: '<query>' }\`                |
| \`'name{ foo: size() / 2, bar: "qux" }'\` | \`{ view: 'name', foo: '=size() / 2', bar: 'qux' }\` |

## Lists of views

Multiple views can be combined into a list using an array:

\`\`\`discovery-view
{
    view: 'list',
    item: [ // render two views as a content of a list item
        'text:name',
        { view: 'badge', data: 'something.size()' }
    ]
}
\`\`\`

## ClassName

The \`className\` property uses a sequence of transformations to convert its input into a final array of class names. This process can start from different input forms \u2014 such as a jora query, a function, a string, or an array \u2014 and move through each step until a definitive result is obtained. At each stage, the current value is examined and transformed if applicable; if not, the process continues to the next step:

1. **Jora Query (String Starting with \`=\`)**  
   If the initial value begins with \`=\`, it is treated as a jora query and compiled into a function. That function is then processed as described in the next step.

   \`\`\`discovery-view
   {
       view: "text",
       className: "=isValid ? 'valid' : 'invalid'"
   }
   \`\`\`
   <br>

2. **Function**  
   Once a function is available (either provided directly or obtained from a jora query) it is called with \`(data, context)\`. The return value can be a string or an array, otherwise discarded.

   \`\`\`discovery-view
   {
       view: "text",
       className: (data, context) => data.flag ? "highlighted" : null
   }
   \`\`\`
   <br>

3. **String**  
   Any string (obtained from the previous steps or provided directly) is trimmed and split by whitespace to produce an array of class names, excluding empty entries.

   \`\`\`discovery-view
   {
       view: "text",
       className: "primary emphasized"
   }
   \`\`\`
   <br>

4. **Array**  
   When the value is or becomes an array, each element is processed:
   - If an element is a function, it is called with \`(data, context)\` and its result replaces the function.
   - All falsy or empty results are removed.

   \`\`\`discovery-view
   {
       view: "text",
       className: [
           "base-class",
           data => data.error && "error-indicator",
           ""
       ]
   }
   \`\`\`

   If \`data.error\` is true, this may result in \`class="base-class error-indicator"\`. If \`data.error\` is false, the array would become \`["base-class", false, ""]\`, and after filtering out falsy and empty values, it results in \`class="base-class"\`.

If, after all steps, there are no valid class names, the \`class\` attribute is not applied. This cascading process ensures any initial input \u2014 jora query, function, string, or array \u2014 is consistently transformed into a meaningful final list of class names.

## Tooltips

Tooltips can be configured using a simple view definition or an object with additional settings. When the \`tooltip\` value is a view definition, it becomes the \`content\` of the tooltip.

\`\`\`discovery-view
{
    view: 'button',
    tooltip: 'md:"Some **content**"'
}
\`\`\`

\`\`\`discovery-view
{
    view: 'button',
    tooltip: {
        position: 'trigger',
        content: 'md:"Some **content**"'
    }
}
\`\`\`

| Tooltip value                     | Normalized tooltip config                      |
| --------------------------------- | ---------------------------------------------- |
| \`'shorthand-view-notation'\`       | \`{ content: 'shorthand-view-notation' }\`       |
| \`{ view: 'name', ... }\`           | \`{ content: { view: 'name', ... } }\`           |
| \`['view', { view: 'name', ... }]\` | \`{ content: ['view', { view: 'name', ... }] }\` |

Tooltip options:

- \`className\` \u2014 Additional class names for the tooltip element.
- \`position\` \u2014 Where the tooltip is positioned. Options are \`'trigger'\` or \`'pointer'\` (default).
- \`positionMode\` \u2014 Positioning mode. Options are \`'natural'\` (default) or \`'safe'\`.
- \`pointerOffsetX\` \u2014 Horizontal offset from the pointer (default: 3).
- \`pointerOffsetY\` \u2014 Vertical offset from the pointer (default: 3).
- \`showDelay\` \u2014 Delay before showing the tooltip. Options are \`true\` (300ms, default), \`false\` (0ms), a number, or a function that returns a boolean or numeric value.
- \`content\` \u2014 View configuration for tooltip content.
`});function Qx(n){n.on("pageAnchorChange",e=>{if(n.pageId==="views-showcase"&&e&&!n.pageAnchor){let i=n.dom.content.querySelector(".page-views-showcase > .content");i&&(i.scrollTop=0)}}),n.page.define("views-showcase",{view:"context",data:()=>[...n.view.values],modifiers:[{view:"block",className:"sidebar",content:[{view:"link",className:"index-page-link",href:'="".pageLink(#.page)',text:"Index page"},{view:"content-filter",content:{view:"menu",name:"view",limit:!1,emptyText:"Nothing matched",item:"text-match:{ text: name, match: #.filter }",data:`
                                .[name ~= #.filter]
                                .sort(name asc)
                                .({ ..., disabled: no options.usage })
                            `}}]}],content:{view:"block",className:"content",data:"$[=> name=(#.view.name or #.id)]",content:{view:"switch",content:[{when:"no $ and #.id",content:'alert-warning:"View \\"" + #.id + "\\" not found"'},{when:"no $",content:['h1:"Views showcase"','alert:"\u2190 Select a view to get details"',{view:"markdown",source:Vx}]},{content:[{view:"context",postRender(e,i,o,l){n.overridePageHashStateWithAnchor({ref:o.name,anchor:n.pageRef===o.name?n.pageAnchor:null}),n.cancelScheduledRender(),l.id=n.pageRef}},il(n)]}]}}},{sidebar:!1})}var Kx=z(()=>{rd();Yx()});var ol={};Fe(ol,{default:()=>Ex,discovery:()=>Ux,notFound:()=>Lx,viewsShowcase:()=>Qx});var id=z(()=>{Mx();Tx();Gx();Kx()});function od(n,e,i){i?n.dataset[e]=i:delete n.dataset[e]}function _T(n,e,i,o){let l=n.page.get(e)?.options;return l!==void 0&&Ae(l,i)?l[i]:o}function Jx(n,e,i,o){let l=_T(n,e,i,o);return typeof l=="function"?l:o}var RT,Zx,HT,qT,ds,sd=z(()=>{Oe();ea();Wo();st();Wc();er();yi();Gc();iy();Jc();oy();of();Jf();id();Ho();RT=["nav","sidebar","page"],Zx=()=>{},HT=n=>n,qT=n=>Object.fromEntries(n);ds=class extends $o{compact;colorScheme;inspectMode;view;nav;preset;page;#e;#t;defaultPageId;discoveryPageId;reportToDiscoveryRedirect;pageId;pageRef;pageParams;pageAnchor;pageHash;dom;queryExtensions;constructor(e){let{container:i,styles:o,extensions:l,logLevel:c,compact:f,darkmode:d="light-only",darkmodePersistent:g=!1,colorScheme:m=d,colorSchemePersistent:y=g,defaultPage:k,defaultPageId:C,discoveryPageId:M,reportToDiscoveryRedirect:E=!0,inspector:F=!1}=e||{};super({...e,logLevel:c||"perf",extensions:void 0}),("darkmode"in e||"darkmodePersistent"in e)&&this.logger.warn('ViewModel "darkmode" option is deprecated, use "colorScheme" instead'),this.compact=!!f,this.colorScheme=new Zs(m,y),this.inspectMode=new Et(!1),this.initDom(o),this.view=new Ia(this),this.nav=new Oa(this),this.preset=new Pa(this.view),this.page=new Ba(this,this.view),this.#e=new Set,this.#t=16,this.defaultPageId=C||"default",this.discoveryPageId=M||"discovery",this.reportToDiscoveryRedirect=!!E,this.pageId=this.defaultPageId,this.pageRef=null,this.pageParams={},this.pageAnchor=null,this.pageHash=this.encodePageHash(this.pageId,this.pageRef,this.pageParams,this.pageAnchor),this.apply(Xa),this.apply(ol),k&&this.page.define(this.defaultPageId,k),F&&this.apply(rf),this.apply(l),this.setPageHash(this.pageHash),this.setContainer(i),this.scheduleRender();for(let{name:N,page:A}of this.objectMarkers.values)A&&!this.page.isDefined(A)&&this.logger.error(`Page reference "${A}" in object marker "${N}" doesn't exist`)}initRenderTriggers(){this.on("context",()=>this.scheduleRender()),this.on("unloadData",()=>this.scheduleRender()),this.on("pageStateChange",()=>this.scheduleRender()),this.on("pageAnchorChange",()=>this.applyPageAnchor()),this.action.on("define",()=>this.scheduleRender()).on("revoke",()=>this.scheduleRender()),this.page.on("define",e=>{this.pageId===e&&(this.setPageHash(this.pageHash),this.scheduleRender("page"))})}async setData(e,i){let{render:o=!0}=i||{};await super.setData(e,i),o&&this.scheduleRender()}async setDataProgress(e,i,o){let{dataset:l,progressbar:c}=o||{};this.cancelScheduledRender(),this.emit("startSetData",(...f)=>c?.subscribeSync(...f)||(()=>{})),await c?.setState({stage:"prepare"}),await this.setData(e,{dataset:l,setPrepareWorkTitle:c?.setStateStep.bind(c),render:!1}),await c?.setState({stage:"initui"}),this.scheduleRender(),await Promise.all([this.dom.wrapper.parentNode?this.dom.ready:!0,this.enforceScheduledRenders()]),c?.finish()}queryToConfig(e,i){let{ast:o}=Xt.syntax.parse(i),l={view:e};if(o.type!=="Block")throw new SyntaxError('[Discovery] ViewModel#queryToConfig(): query root must be a "Block"');if(o.body.type!=="Object")throw new SyntaxError('[Discovery] ViewModel#queryToConfig(): query root must return an "Object"');for(let c of o.body.properties){if(c.type!=="ObjectEntry")throw new SyntaxError('[Discovery] ViewModel#queryToConfig(): unsupported object entry type "'+c.type+'"');let f,d=c.value;switch(c.key.type){case"Literal":f=c.key.value;break;case"Identifier":f=c.key.name,d||=c.key;break;case"Reference":f=c.key.name.name,d||=c.key;break;default:throw new SyntaxError('[Discovery] ViewModel#queryToConfig(): unsupported object key type "'+c.key.type+'"')}if(f==="view"||f==="postRender")throw new SyntaxError('[Discovery] ViewModel#queryToConfig(): set a value for "'+f+'" property in shorthand notation is prohibited');f==="when"||f==="data"||f==="whenData"?l[f]=d.type==="Literal"&&typeof d.value!="string"?d.value:Xt.syntax.stringify(d):l[f]=d.type==="Literal"&&(typeof d.value!="string"||d.value[0]!=="=")?d.value:"="+Xt.syntax.stringify(d)}return l}initDom(e){let i=$("div","discovery"),o=i.attachShadow({mode:"open"}),l=o.appendChild($("div")),c=$("article"),f=$("div","discovery-nav discovery-hidden-in-dzen"),d=$("nav","discovery-sidebar discovery-hidden-in-dzen"),g=$("main","discovery-content",[c]),m=ko(o,this.info.icon?e?.concat(`.discovery-root{--discovery-app-icon:url(${JSON.stringify(this.info.icon)}`):e);this.dom={ready:m,wrapper:i,root:o,container:l,nav:f,sidebar:d,content:g,pageContent:c,detachColorScheme:this.colorScheme.subscribe(y=>l.classList.toggle("discovery-root-darkmode",y==="dark"),!0)},l.classList.add("discovery-root","discovery"),l.append(f,d,g),o.addEventListener("click",y=>{let k=y.target?.closest("a");!k||k.getAttribute("target")||k.origin!==location.origin||k.pathname!==location.pathname||(y.preventDefault(),y.stopPropagation(),k.classList.contains("ignore-href")||this.setPageHash(k.hash)||this.applyPageAnchor())},!0)}setContainer(e){e instanceof HTMLElement?e.append(this.dom.wrapper):this.dom.wrapper.remove()}disposeDom(){typeof this.dom.detachColorScheme=="function"&&(this.dom.detachColorScheme(),this.dom.detachColorScheme=null),this.dom.container.remove(),this.dom=null}addGlobalEventListener(e,i,o){return document.addEventListener(e,i,o),()=>document.removeEventListener(e,i,o)}addHostElEventListener(e,i,o){let l=this.dom.container;return l.addEventListener(e,i,o),()=>l.removeEventListener(e,i,o)}scheduleRender(e){let i=e?[e]:RT;for(let o of i)this.#e.add(o);this.#e.timer&&clearTimeout(this.#e.timer),this.#e.timer=setTimeout(()=>this.enforceScheduledRenders(),this.#t),this.logger.debug(`Scheduled renders: ${[...this.#e].join(", ")} (requested: ${e||"all"})`)}async enforceScheduledRenders(){let e=[...this.#e];this.logger.debug(`Enforce scheduled renders: ${e.join(", ")||"none"}`),this.cancelScheduledRender();for(let i of e)switch(i){case"nav":await this.renderNav();break;case"sidebar":await this.renderSidebar();break;case"page":await this.renderPage();break}this.initRenderTriggers!==Zx&&(this.initRenderTriggers(),this.initRenderTriggers=Zx,this.#t=0)}cancelScheduledRender(e){let i=[...this.#e];e?this.#e.delete(e):this.#e.clear(),this.#e.size===0&&this.#e.timer&&(clearTimeout(this.#e.timer),this.#e.timer=null),this.#e.size!==i.length&&this.logger.debug(`Canceled renders: ${i.join(", ")}`)}getRenderContext(){return{page:this.pageId,id:this.pageRef,params:this.pageParams,model:this.info,actions:this.action.actionMap,datasets:this.datasets,data:this.data,...this.context}}renderNav(){return this.cancelScheduledRender("nav"),this.nav.render(this.dom.nav,this.data,this.getRenderContext())}renderSidebar(){if(this.cancelScheduledRender("sidebar"),this.hasDatasets()&&this.view.isDefined("sidebar")){let e=Date.now(),i=this.data,o=this.getRenderContext();return this.view.setViewRoot(this.dom.sidebar,"sidebar",{data:i,context:o}),this.dom.sidebar.innerHTML="",this.view.render(this.dom.sidebar,"sidebar",i,o).finally(()=>this.logger.perf(`Sidebar rendered in ${Date.now()-e}ms`))}}encodePageHash(e,i=null,o,l=null){let c=e||this.defaultPageId,d=Jx(this,e,"encodeParams",HT)(o||{});return super.encodePageHash(c!==this.defaultPageId?c:"",i,d,l)}decodePageHash(e){let{pageId:i,pageRef:o,pageParams:l,pageAnchor:c}=super.decodePageHash(e,f=>Jx(this,f||this.defaultPageId,"decodeParams",qT));return{pageId:i||this.defaultPageId,pageRef:o,pageParams:l,pageAnchor:c}}setPageHashState(e={},i=!1){return this.setPageHashStateWithAnchor({...e,anchor:null},i)}overridePageHashState(e,i=!1){return this.setPageHashState({...this.getPageHashState(),...e},i)}getPageHashState(){return{id:this.pageId,ref:this.pageRef,params:this.pageParams}}setPageHashStateWithAnchor(e,i=!1){let{id:o=null,ref:l=null,params:c={},anchor:f=null}=e;return this.setPageHash(this.encodePageHash(o||this.defaultPageId,l,c,f),i)}overridePageHashStateWithAnchor(e,i=!1){return this.setPageHashStateWithAnchor({...this.getPageHashStateWithAnchor(),...e},i)}getPageHashStateWithAnchor(){return{...this.getPageHashState(),anchor:this.pageAnchor}}setPage(e,i,o,l=!1){return this.setPageHashState({id:e,ref:i,params:o},l)}setPageRef(e=null,i=!1){return this.overridePageHashStateWithAnchor({ref:e},i)}setPageParams(e,i=!1){return this.overridePageHashStateWithAnchor({params:e},i)}setPageAnchor(e,i=!1){return this.overridePageHashStateWithAnchor({anchor:e},i)}setPageHash(e,i=!1){e.startsWith("#")||(e="#"+e),e.startsWith("#!")&&(e=this.stripAnchorFromHash(this.pageHash)+(e.length>2?"&!anchor="+e.slice(2):""));let{pageId:o,pageRef:l,pageParams:c,pageAnchor:f}=this.decodePageHash(e);if(this.reportToDiscoveryRedirect&&o==="report"&&this.discoveryPageId!=="report"&&setTimeout(()=>this.pageId==="report"&&this.setPageHashStateWithAnchor({id:this.discoveryPageId,ref:l,params:c,anchor:f},!0)),this.pageId!==o||this.pageRef!==l||!Ta(this.pageParams,c)){let d=this.getPageHashState();this.pageId=o,this.pageRef=l,this.pageParams=c,this.emit("pageStateChange",d)}if(f!==this.pageAnchor){let d=this.pageAnchor;this.pageAnchor=f,this.emit("pageAnchorChange",d)}return e!==this.pageHash?(this.pageHash=e,this.emit("pageHashChange",i),!0):!1}applyPageAnchor(e=!1){let i=this.dom.pageContent;if(this.pageAnchor){let o=i.querySelector("#"+CSS.escape("!anchor:"+this.pageAnchor));if(o){let l=i.querySelector(".view-page-header");o.style.scrollMargin=l?l.offsetHeight+"px":"",o.scrollIntoView(!0)}}else e||(this.dom.content.scrollTop=0)}renderPage(){this.cancelScheduledRender("page");let{data:e,pageId:i,pageParams:o,compact:l}=this,c=this.getRenderContext();this.logger.debug(`Start page "${i}" rendering...`);let f=Date.now(),{pageEl:d,renderState:g,config:m}=this.page.render(this.dom.pageContent,i,e,c);return this.view.setViewRoot(d,`Page: ${i}`,{inspectable:!1,config:m,data:e,context:c}),this.dom.pageContent=d,od(this.dom.container,"page",i),od(this.dom.container,"dzen",!!o.dzen),od(this.dom.container,"compact",!!l),g.then(async()=>{await this.dom.ready,this.applyPageAnchor(!0)}).catch(y=>{this.logger.error(`Page "${i}" render error:`,y)}),g.finally(()=>{this.logger.perf(`Page "${i}" render done in ${Date.now()-f}ms`)})}}});var Xx,ek=z(()=>{Xx=n=>{let e="";n.nav.remove("index-page"),n.nav.remove("discovery-page"),n.on("data",()=>{n.defaultPageId!==n.discoveryPageId&&(e=n.defaultPageId,n.defaultPageId=n.discoveryPageId,n.setPageHash(n.pageHash,!0),n.cancelScheduledRender())}),n.on("unloadData",()=>{e!==n.defaultPageId&&(n.defaultPageId=e,n.setPageHash(n.pageHash,!0))})}});function nk(n){return n={accept:"application/json,application/jsonxl,.json,.jsonxl",dragdrop:!0,clipboard:!1,...n},function(e){let i=!!n.dragdrop,o=!!n.clipboard,l=String(n.accept),c=l.split(",");i&&(e.dom.container.addEventListener("drop",f=>{e.loadDataFromEvent(f)},!0),e.dom.container.addEventListener("dragover",f=>{f.stopPropagation(),f.preventDefault()},!0),document.addEventListener("paste",f=>{let{files:d}=f.clipboardData||{files:[]};d?.length>0&&e.loadDataFromEvent(f)})),e.preset.define("upload",[{view:"button-primary",text:'=`Open file${#.actions.uploadFile.fileExtensions |? " (" + join(", ") + ")" : "" | size() > 1 and size() <= 17 ?: "\u2026"}`',onClick:"=#.actions.uploadFile"},{view:"context",when:"#.actions.uploadDataFromClipboard",content:['html:"<span style=\\"color: #888; padding: 0 1ex\\"> or </span>"',{view:"button",text:"Paste from clipboard",onClick:"=#.actions.uploadDataFromClipboard"}]},{view:"context",when:"#.actions.uploadFile.dragdrop",content:['html:"<span style=\\"color: #888; padding: 0 1ex\\"> or </span>"','text:"drop a file on the page"']}]),e.action.define("unloadData",()=>{e.unloadData()}),e.action.define("uploadFile",Object.assign(()=>{$("input",{type:"file",accept:l,onchange:f=>e.loadDataFromEvent(f)}).click()},{fileExtensions:c.filter(f=>tk(f)),mimeTypes:c.filter(f=>!tk(f)),dragdrop:i,clipboard:o})),o&&e.action.define("uploadDataFromClipboard",async()=>{let f=await navigator.clipboard.readText();e.loadDataFromStream(new Blob([f]).stream())})}}var sl,tk,ad=z(()=>{Oe();sl=Object.assign(nk(),{setup:nk}),tk=n=>/^\./.test(n)});function ld(n,e,i){let o=Array.isArray(i)?i:[];return JSON.parse(JSON.stringify(n),(l,c)=>typeof c=="string"&&o.includes(c)?()=>e("navMethod",c):c)}function ok(n){let e=n?.hostId||gi(),i=n?.postponeMessages,o=typeof n?.onNotify=="function"?n.onNotify:()=>{};return function(l){let c=null,f=rk,d=E=>{c?.finish(),c=null,E&&l.logger.debug("Cancel chunked data load from host with error:",E)},g=window.parent,m=new Map,y=(E,F)=>{let N={from:"discoveryjs-app",id:e,type:E,payload:F};g.postMessage(N,"*")},k=E=>{f=()=>{E!==null&&(f=rk,E())}},C=E=>{l.trackLoadDataProgress(E).catch(()=>{})},M=({data:E})=>{let{id:F,type:N,payload:A}=E||{};if(F===e)switch(N){case"notification":{let{name:b,details:L}=A;o(b,L);break}case"defineAction":{let b=A;l.action.define(b,(...L)=>new Promise((T,I)=>{let B=gi();m.set(B,{resolve:T,reject:I}),setTimeout(()=>{m.delete(B),I(new Error("Timeout"))},3e4),y("action",{callId:B,name:b,args:L})}));break}case"actionResult":{let{callId:b}=A;if(!m.has(b)){l.logger.error(`[Discovery.js] Unknown action call id "${b}"`);break}let{resolve:L,reject:T}=m.get(b);"error"in A?T(A.error):L(A.value);break}case"setPageHash":{let{replace:b,hash:L}=A||{};l.setPageHash(L||"",b||!1);break}case"setPageHashState":{let{replace:b,id:L,ref:T,params:I}=A||{};l.setPageHashState({id:L,ref:T,params:I},b);break}case"setPageHashStateWithAnchor":{let{replace:b,id:L,ref:T,params:I,anchor:B}=A||{};l.setPageHashStateWithAnchor({id:L,ref:T,params:I,anchor:B},b);break}case"setPage":{let{replace:b,id:L,ref:T,params:I}=A||{};l.setPage(L,T,I,b);break}case"setPageRef":{let{replace:b,ref:L}=A||{};l.setPageRef(L,b);break}case"setPageParams":{let{replace:b,params:L}=A||{};l.setPageParams(L,b);break}case"setPageAnchor":{let{replace:b,anchor:L}=A||{};l.setPageAnchor(L,b);break}case"setColorSchemeState":{let b=A;if(!Js.includes(b)){l.logger.warn(`Wrong value for colorScheme "${b}", supported values: ${Js.map(L=>JSON.stringify(L)).join(", ")}`);break}l.colorScheme.set(b);break}case"setRouterPreventLocationUpdate":{l.action.call("setPreventLocationUpdate",!!A);break}case"changeNavButtons":{let{section:b="primary",action:L="unknown"}=A;if(!ik.includes(b)){l.logger.warn(`Wrong value for nav button place "${b}", supported values: ${ik.map(T=>JSON.stringify(T)).join(", ")}`);break}switch(A.action){case"insert":{let{name:T,position:I,config:B,commands:R}=A;l.nav[b].insert(ld(B,y,R),I,T);break}case"prepend":case"append":{let{config:T,commands:I}=A;l.nav[b][A.action](ld(T,y,I));break}case"before":case"after":case"replace":{let{name:T,config:I,commands:B}=A;l.nav[b][A.action](T,ld(I,y,B));break}case"remove":{let{name:T}=A;l.nav[b].remove(T);break}default:l.logger.warn(`Wrong value for nav button action "${L}", supported values: ${WT.map(T=>JSON.stringify(T)).join(", ")}`)}break}case"unloadData":{d(),l.unloadData();break}case"dataStream":{let{stream:b,resource:L}=A;d(),C(Lo(b,{resource:L}));break}case"startChunkedDataUpload":{let{acceptToken:b,resource:L}=A;d(),c=Object.assign(Su({resource:L}),{acceptToken:b}),C(c);break}case"cancelChunkedDataUpload":{let{acceptToken:b,error:L}=A;c?.acceptToken===b&&d(L)}case"dataChunk":{let{acceptToken:b}=A;if(c===null){l.logger.warn("Loading data is not inited");break}if(c.acceptToken!==b){l.logger.warn("Bad accept token");break}"value"in A&&A.value!==void 0&&c.push(A.value),"done"in A&&A.done&&d();break}default:l.logger.warn(`Got a post-message addressed to discovery app but with unknown "${N}" type`)}};g!==window&&(l.on("pageHashChange",E=>{y("pageHashChanged",{replace:E,hash:l.pageHash||"#",id:l.pageId,ref:l.pageRef,params:l.pageParams,anchor:l.pageAnchor})}),l.on("startLoadData",E=>{f(),k(E(F=>y("loadingState",F)))}),l.on("startSetData",E=>{f(),k(E(F=>y("loadingState",F)))}),l.on("data",()=>{y("data",null)}),l.on("unloadData",()=>{f(),y("unloadData",null)}),l.colorScheme.subscribe((E,F)=>y("colorSchemeChanged",{state:F,value:mi(F)})),Array.isArray(i)&&Promise.resolve().then(()=>{for(let E of i)M({data:E})}),addEventListener("message",M,!1),addEventListener("unload",()=>y("destroy",null),!1),y("ready",{page:{hash:l.pageHash||"#",id:l.pageId,ref:l.pageRef,params:l.pageParams,anchor:l.pageAnchor},colorScheme:{state:l.colorScheme.state,value:l.colorScheme.serializedValue}}))}}var Hi,rk,ik,WT,ud=z(()=>{yi();Ys();wi();Hi=Object.assign(ok(),{setup:ok}),rk=()=>{},ik=["primary","secondary","menu"],WT=["insert","prepend","append","before","after","replace","remove"]});function cd(n){function e(){return Cf(o=>n.setPageHash(o),n.logger)}let i=e();n.setPageHash(location.hash),n.cancelScheduledRender(),n.action.define("permalink",o=>new URL(o,String(location)).href),n.action.define("setPreventLocationUpdate",(o=!0)=>{o?(i?.dispose(),i=null):i===null&&(i=e())}),n.on("pageHashChange",o=>i?.set(n.pageHash,o))}var fd=z(()=>{Df()});var qi,_i,sk=z(()=>{st();Oe();wi();sd();da();ek();ad();ud();fd();Uc();qi=(n,e)=>n!==void 0?n:e,_i=class extends ds{constructor(e={}){let i=[];i.push(Rm),i.push(Hm),i.push(_m),qi(e.router,!0)&&i.push(cd),e.mode==="modelfree"&&i.push(Xx),qi(e.upload,!1)&&(i.push(e.upload===!0?sl:sl.setup(e.upload||{})),i.push(qm)),qi(e.inspector,!0)&&i.push(Wm),qi(e.embed,!1)&&i.push(e.embed===!0?Hi:Hi.setup(e.embed||{})),super({container:document.body,...e,extensions:e.extensions?[i,e.extensions]:i,colorScheme:qi(e.colorScheme??e.darkmode,"auto"),colorSchemePersistent:qi(e.colorSchemePersistent??e.darkmodePersistent,!0)})}setLoadingState(e,i){let o=this.dom.loadingOverlay,{progressbar:l}=i||{};switch(e){case"init":{if(o.classList.remove("error","done"),l?.el.parentNode)return;o.replaceChildren(l?.el||"");break}case"success":{o.classList.add("done");break}case"error":{let c=i?.error,f=this.getRenderContext(),d={stage:l?.value.stage,errorText:String(c),errorMessage:c.message||String(c),errorStack:(c.stack||"").replace(/^Error:\s*(\S+Error:)/,"$1")},g=["app-header:#.model",{view:"block",className:"action-buttons",content:[{view:"preset/upload",when:this.preset.isDefined("upload")}]},{view:"block",className:Ae(c,"renderContent")?"warning-message":"error-message",content:[{view:"block",className:"error-type-badge",postRender(m,y,k){k.stage&&(m.dataset.stage=` on ${k.stage}`)}},"h3:errorText",c.renderContent||'text:"(see details in the console)"']}];o.classList.add("error"),o.replaceChildren(),this.view.setViewRoot(o,"AppOverlay",{inspectable:!1,config:g,data:d,context:f}),this.view.render(o,g,d,f).then(()=>{this.logger.error(c),l?.setState({error:c})});break}}}async setDataProgress(e,i,o){let l=o?.dataset,c=o?.progressbar||this.progressbar({title:"Set data"});try{this.setLoadingState("init",{progressbar:c}),await super.setDataProgress(e,i,{dataset:l,progressbar:c}),this.setLoadingState("success")}catch(f){this.setLoadingState("error",{error:f,progressbar:c})}}progressbar(e){return new Ar({domReady:this.dom.ready,onFinish:i=>this.logger.perf.groupCollapsed(`${e.title||"Load data"} (${i[i.length-1].duration}ms)`,()=>[...i.map(o=>`${o.title}: ${o.duration}ms`),`(await repaint: ${i.awaitRepaintPenaltyTime}ms)`]),...e})}async trackLoadDataProgress(e){let i=this.progressbar({title:e.title});this.cancelScheduledRender(),this.setLoadingState("init",{progressbar:i}),this.emit("startLoadData",i.subscribeSync.bind(i)),fa(e,i).then(o=>this.setDataProgress(o.data,null,{dataset:o,progressbar:i}),o=>this.setLoadingState("error",{error:o,progressbar:i})),await e.dataset}initDom(e){super.initDom(e),this.dom.container.append(this.dom.loadingOverlay=$("div","loading-overlay done"))}renderPage(){return document.title=this.info.name||document.title,super.renderPage()}}});var ak=z(()=>{Wc();sd();sk()});var lk=z(()=>{Pu();ak();Jf();id();of();ad();fd();ud();Gc();Cu();Af()});var uk={};Fe(uk,{default:()=>$T});function $T(n,e,i,o){let l=n.model,c={model:l},f=new _i({name:l.name,version:l.version,description:l.description,icon:l.icon,mode:n.mode,styles:n.styles,...ha(l),upload:l.upload,inspector:l.inspector,router:l.router,encodings:Vs,context:c,setup:Iu,extensions:[l.embed&&Hi.setup(i),!Iu&&Yh,...Zh]});n.mode==="multi"&&f.nav.menu.append({name:"switch-model",onClick:'=$handler:"openModelIndex".actionHandler(href); $hide: #.hide; $handler and => $hide() or $handler()',data:{text:"Switch model",href:n.indexUrl}});let d={progressbar:e,dataset:o};if(typeof f.setContext=="function"){if(o)return f.setDataProgress(o.data,null,d)}else return f.context=c,o?f.setDataProgress(o.data,c,d):f.scheduleRender()}var ck=z(()=>{Qh();Kh();iu();Jh();lk();Ou()});var hi={name:"Implicit config",version:null,description:null,icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii02IC00IDEzNiAxNDAiPgogICAgPHJlY3QgeD0iNjUuNiIgeT0iMjQuNiIgdHJhbnNmb3JtPSJtYXRyaXgoMC45Mzk3IC0wLjM0MiAwLjM0MiAwLjkzOTcgLTkuOTQyNiAzMS44MjgpIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iMzkuMyIgaGVpZ2h0PSIzOSI+PC9yZWN0PgogICAgPHJlY3QgeD0iNzAuNiIgeT0iNTIuNyIgdHJhbnNmb3JtPSJtYXRyaXgoLTAuOTM5NyAwLjM0MiAtMC4zNDIgLTAuOTM5NyAxOTQuNzg1MiA4MS4xMjA0KSIgZmlsbD0iI0M3RDdFMiIgd2lkdGg9IjM5LjMiIGhlaWdodD0iMTAiPjwvcmVjdD4KICAgIDxwYXRoIGZpbGw9IiM5OEJFRDgiIGQ9Ik0xMTEuNSw1NC42bC0xLjEsMS4xTDk3LjEsMTkuMWwxLjUsMC4yYzgsMC45LDE0LjcsNi4yLDE3LjQsMTMuN2wwLDBDMTE4LjgsNDAuNCwxMTcsNDguOCwxMTEuNSw1NC42eiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTczLjUsNzIuMmMtMS4yLDAtMi40LTAuOC0yLjgtMkw1Ny4zLDMzLjVjLTAuMy0wLjctMC4yLTEuNiwwLjEtMi4zYzAuMy0wLjcsMC45LTEuMywxLjctMS42bDM2LjktMTMuNGMxLjYtMC42LDMuMywwLjIsMy44LDEuOGwxMy4zLDM2LjZjMC4zLDAuNywwLjIsMS42LTAuMSwyLjNjLTAuMywwLjctMC45LDEuMy0xLjcsMS42TDc0LjUsNzJDNzQuMiw3Mi4xLDczLjgsNzIuMiw3My41LDcyLjJ6TTY0LDM0LjNsMTEuMywzMWwzMS4zLTExLjRsLTExLjMtMzFMNjQsMzQuM3oiPjwvcGF0aD4KICAgIDxyZWN0IHg9IjM1IiB5PSI0Ni43IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjkzOTcgLTAuMzQyIDAuMzQyIDAuOTM5NyAtMTYuMjAxMSAyMC45ODgpIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iMzIuOCIgaGVpZ2h0PSIxOS41Ij48L3JlY3Q+CiAgICA8cmVjdCB4PSIzNy4zIiB5PSI1OS44IiB0cmFuc2Zvcm09Im1hdHJpeCgtMC45Mzk3IDAuMzQyIC0wLjM0MiAtMC45Mzk3IDEyNS42NzYzIDEwMy4zOTQ2KSIgZmlsbD0iI0M3RDdFMiIgd2lkdGg9IjMyLjgiIGhlaWdodD0iNiI+PC9yZWN0PgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTM5LjQsNzQuMmMtMC40LDAtMC45LTAuMS0xLjMtMC4zYy0wLjctMC4zLTEuMy0wLjktMS42LTEuN2wtNi43LTE4LjNjLTAuMy0wLjctMC4yLTEuNiwwLjEtMi4zYzAuMy0wLjcsMC45LTEuMywxLjctMS42bDMwLjgtMTEuMmMwLjctMC4zLDEuNi0wLjIsMi4zLDAuMWMwLjcsMC4zLDEuMywwLjksMS42LDEuN0w3Myw1OWMwLjYsMS42LTAuMiwzLjMtMS44LDMuOEw0MC40LDc0QzQwLDc0LjEsMzkuNyw3NC4yLDM5LjQsNzQuMnogTTM2LjUsNTQuN2w0LjYsMTIuN2wyNS4yLTkuMmwtNC42LTEyLjdMMzYuNSw1NC43eiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTcwLDExOC45Yy0xLjIsMC0yLjQtMC43LTIuOC0xLjlsLTE0LTM3LjJsLTguNCwzLjFsLTE3LjIsMzQuNGMtMC43LDEuNS0yLjUsMi4xLTQsMS4zYy0xLjUtMC43LTIuMS0yLjUtMS4zLTRMNDAsNzljMC4zLTAuNywwLjktMS4yLDEuNy0xLjVMNTQsNzMuMWMxLjUtMC42LDMuMywwLjIsMy44LDEuOGwxNSw0MGMwLjYsMS42LTAuMiwzLjMtMS44LDMuOUM3MC43LDExOC44LDcwLjQsMTE4LjksNzAsMTE4Ljl6Ij48L3BhdGg+CiAgICA8cGF0aCBmaWxsPSIjNDU0QjU0IiBkPSJNMTMuNiw4MC4xYy0xLjIsMC0yLjQtMC44LTIuOC0yTDYuMyw2NS45Yy0wLjYtMS42LDAuMi0zLjMsMS44LTMuOGMxLjYtMC42LDMuMywwLjIsMy44LDEuOGw0LjQsMTIuMmMwLjYsMS42LTAuMiwzLjMtMS44LDMuOEMxNC4zLDgwLjEsMTQsODAuMSwxMy42LDgwLjF6Ij48L3BhdGg+CiAgICA8cGF0aCBmaWxsPSIjNDU0QjU0IiBkPSJNMTMuMiw3My4zYy0xLjIsMC0yLjQtMC44LTIuOC0yYy0wLjYtMS42LDAuMi0zLjMsMS44LTMuOEwzNSw1OS4yYzEuNi0wLjYsMy4zLDAuMiwzLjgsMS44YzAuNiwxLjYtMC4yLDMuMy0xLjgsMy44bC0yMi44LDguM0MxMy45LDczLjMsMTMuNiw3My4zLDEzLjIsNzMuM3oiPjwvcGF0aD4KPC9zdmc+Cg==",mode:"single",embed:!0,inspector:!0,router:!0,colorScheme:"auto",colorSchemePersistent:!0,model:{slug:"default",name:"Nuxt Server Data",version:null,description:null,icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii02IC00IDEzNiAxNDAiPgogICAgPHJlY3QgeD0iNjUuNiIgeT0iMjQuNiIgdHJhbnNmb3JtPSJtYXRyaXgoMC45Mzk3IC0wLjM0MiAwLjM0MiAwLjkzOTcgLTkuOTQyNiAzMS44MjgpIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iMzkuMyIgaGVpZ2h0PSIzOSI+PC9yZWN0PgogICAgPHJlY3QgeD0iNzAuNiIgeT0iNTIuNyIgdHJhbnNmb3JtPSJtYXRyaXgoLTAuOTM5NyAwLjM0MiAtMC4zNDIgLTAuOTM5NyAxOTQuNzg1MiA4MS4xMjA0KSIgZmlsbD0iI0M3RDdFMiIgd2lkdGg9IjM5LjMiIGhlaWdodD0iMTAiPjwvcmVjdD4KICAgIDxwYXRoIGZpbGw9IiM5OEJFRDgiIGQ9Ik0xMTEuNSw1NC42bC0xLjEsMS4xTDk3LjEsMTkuMWwxLjUsMC4yYzgsMC45LDE0LjcsNi4yLDE3LjQsMTMuN2wwLDBDMTE4LjgsNDAuNCwxMTcsNDguOCwxMTEuNSw1NC42eiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTczLjUsNzIuMmMtMS4yLDAtMi40LTAuOC0yLjgtMkw1Ny4zLDMzLjVjLTAuMy0wLjctMC4yLTEuNiwwLjEtMi4zYzAuMy0wLjcsMC45LTEuMywxLjctMS42bDM2LjktMTMuNGMxLjYtMC42LDMuMywwLjIsMy44LDEuOGwxMy4zLDM2LjZjMC4zLDAuNywwLjIsMS42LTAuMSwyLjNjLTAuMywwLjctMC45LDEuMy0xLjcsMS42TDc0LjUsNzJDNzQuMiw3Mi4xLDczLjgsNzIuMiw3My41LDcyLjJ6TTY0LDM0LjNsMTEuMywzMWwzMS4zLTExLjRsLTExLjMtMzFMNjQsMzQuM3oiPjwvcGF0aD4KICAgIDxyZWN0IHg9IjM1IiB5PSI0Ni43IiB0cmFuc2Zvcm09Im1hdHJpeCgwLjkzOTcgLTAuMzQyIDAuMzQyIDAuOTM5NyAtMTYuMjAxMSAyMC45ODgpIiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iMzIuOCIgaGVpZ2h0PSIxOS41Ij48L3JlY3Q+CiAgICA8cmVjdCB4PSIzNy4zIiB5PSI1OS44IiB0cmFuc2Zvcm09Im1hdHJpeCgtMC45Mzk3IDAuMzQyIC0wLjM0MiAtMC45Mzk3IDEyNS42NzYzIDEwMy4zOTQ2KSIgZmlsbD0iI0M3RDdFMiIgd2lkdGg9IjMyLjgiIGhlaWdodD0iNiI+PC9yZWN0PgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTM5LjQsNzQuMmMtMC40LDAtMC45LTAuMS0xLjMtMC4zYy0wLjctMC4zLTEuMy0wLjktMS42LTEuN2wtNi43LTE4LjNjLTAuMy0wLjctMC4yLTEuNiwwLjEtMi4zYzAuMy0wLjcsMC45LTEuMywxLjctMS42bDMwLjgtMTEuMmMwLjctMC4zLDEuNi0wLjIsMi4zLDAuMWMwLjcsMC4zLDEuMywwLjksMS42LDEuN0w3Myw1OWMwLjYsMS42LTAuMiwzLjMtMS44LDMuOEw0MC40LDc0QzQwLDc0LjEsMzkuNyw3NC4yLDM5LjQsNzQuMnogTTM2LjUsNTQuN2w0LjYsMTIuN2wyNS4yLTkuMmwtNC42LTEyLjdMMzYuNSw1NC43eiI+PC9wYXRoPgogICAgPHBhdGggZmlsbD0iIzQ1NEI1NCIgZD0iTTcwLDExOC45Yy0xLjIsMC0yLjQtMC43LTIuOC0xLjlsLTE0LTM3LjJsLTguNCwzLjFsLTE3LjIsMzQuNGMtMC43LDEuNS0yLjUsMi4xLTQsMS4zYy0xLjUtMC43LTIuMS0yLjUtMS4zLTRMNDAsNzljMC4zLTAuNywwLjktMS4yLDEuNy0xLjVMNTQsNzMuMWMxLjUtMC42LDMuMywwLjIsMy44LDEuOGwxNSw0MGMwLjYsMS42LTAuMiwzLjMtMS44LDMuOUM3MC43LDExOC44LDcwLjQsMTE4LjksNzAsMTE4Ljl6Ij48L3BhdGg+CiAgICA8cGF0aCBmaWxsPSIjNDU0QjU0IiBkPSJNMTMuNiw4MC4xYy0xLjIsMC0yLjQtMC44LTIuOC0yTDYuMyw2NS45Yy0wLjYtMS42LDAuMi0zLjMsMS44LTMuOGMxLjYtMC42LDMuMywwLjIsMy44LDEuOGw0LjQsMTIuMmMwLjYsMS42LTAuMiwzLjMtMS44LDMuOEMxNC4zLDgwLjEsMTQsODAuMSwxMy42LDgwLjF6Ij48L3BhdGg+CiAgICA8cGF0aCBmaWxsPSIjNDU0QjU0IiBkPSJNMTMuMiw3My4zYy0xLjIsMC0yLjQtMC44LTIuOC0yYy0wLjYtMS42LDAuMi0zLjMsMS44LTMuOEwzNSw1OS4yYzEuNi0wLjYsMy4zLDAuMiwzLjgsMS44YzAuNiwxLjYtMC4yLDMuMy0xLjgsMy44bC0yMi44LDguM0MxMy45LDczLjMsMTMuNiw3My4zLDEzLjIsNzMuM3oiPjwvcGF0aD4KPC9zdmc+Cg==",url:"index.html",data:null,cache:!1,cacheReset:!1,upload:!1,download:!1,embed:!0,colorScheme:"auto",colorSchemePersistent:!0,inspector:!0,router:!0,meta:null},indexUrl:"",assets:{"model.js":"./model.js","model.css":"model.css","model-loader.css":"model-loader.css"}};if(typeof location<"u"&&!location.pathname.endsWith(".html")&&(hi.model&&(hi.indexUrl=hi.indexUrl.replace(/^\.\.\/|index\.html$/g,"")),hi.models))for(let n of hi.models)n.url=n.url.replace(/(^|\/|\\)index\.html$/,"$1");var Cr=hi;iu();Ou();Gh(Promise.resolve().then(()=>(ck(),uk)).then(n=>n.default),[Nu(Cr.assets["model.css"])],Cr,{styles:[Nu(Cr.assets["model-loader.css"])],embed:Cr.model.embed,...ha(Cr.model),encodings:Vs,dataSource:"push",data:!!Cr.model.data||null});})();
</script>
</body>
